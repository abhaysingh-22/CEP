var T0=Object.defineProperty;var mu=t=>{throw TypeError(t)};var C0=(t,e,s)=>e in t?T0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var B=(t,e,s)=>C0(t,typeof e!="symbol"?e+"":e,s),Ra=(t,e,s)=>e.has(t)||mu("Cannot "+s);var k=(t,e,s)=>(Ra(t,e,"read from private field"),s?s.call(t):e.get(t)),ae=(t,e,s)=>e.has(t)?mu("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),K=(t,e,s,n)=>(Ra(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s),Be=(t,e,s)=>(Ra(t,e,"access private method"),s);var $r=(t,e,s,n)=>({set _(i){K(t,e,i,s)},get _(){return k(t,e,n)}});import{j as d,P as re,c as Rc,a as Ms,u as ke,B as E0,b as Zn,d as yn,e as lt,f as J,R as N0,g as ap,h as at,i as k0,X as Ic,k as Zo,A as lp,D as cp,C as dp,l as up,m as P0,S as A0,n as hp,o as R0,p as fp,q as I0,r as mp,I as pp,s as gp,t as xp,v as st,w as yp,x as vp,L as bp,y as wp,z as M0,T as O0,E as Ia,M as pu,F as Mt,U as Co,G as jl,H as D0,J as L0,K as F0,N as $0,Y as V0,O as Mc,Q as uo,V as Ma,W as B0,Z as U0,_ as tr,$ as z0,a0 as Oa,a1 as gu,a2 as xu,a3 as _p,a4 as Eo,a5 as Oc,a6 as yu,a7 as Tl,a8 as Cl,a9 as No,aa as H0,ab as ho,ac as Tr,ad as Dc,ae as W0,af as G0,ag as Lc,ah as K0,ai as q0,aj as Y0,ak as X0,al as J0,am as Q0,an as Z0,ao as ew,ap as Sp,aq as tw,ar as sw,as as jp,at as Fc,au as Tp,av as Da,aw as Cp,ax as nw,ay as iw,az as Ep,aA as rw,aB as ow,aC as aw,aD as lw,aE as vu,aF as cw,aG as dw,aH as Vi,aI as uw,aJ as hw,aK as bu,aL as fw,aM as mw,aN as Np,aO as pw,aP as gw,aQ as xw,aR as yw,aS as vw,aT as bw,aU as ww,aV as _w,aW as Sw}from"./ui-Db2bChXj.js";import{b as ea,r as y,a as I,v as jw,g as Tw,c as yt}from"./vendor-Do6gLUBS.js";import{u as kp,L as Je,N as Cw,B as Ew,R as Nw,a as Ye}from"./router-ClpbBVwC.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();var Pp,wu=ea;Pp=wu.createRoot,wu.hydrateRoot;const kw=1,Pw=1e6;let La=0;function Aw(){return La=(La+1)%Number.MAX_SAFE_INTEGER,La.toString()}const Fa=new Map,_u=t=>{if(Fa.has(t))return;const e=setTimeout(()=>{Fa.delete(t),Bi({type:"REMOVE_TOAST",toastId:t})},Pw);Fa.set(t,e)},Rw=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,kw)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=e;return s?_u(s):t.toasts.forEach(n=>{_u(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===s||s===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)}}},fo=[];let mo={toasts:[]};function Bi(t){mo=Rw(mo,t),fo.forEach(e=>{e(mo)})}function Iw({...t}){const e=Aw(),s=i=>Bi({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>Bi({type:"DISMISS_TOAST",toastId:e});return Bi({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:s}}function Ap(){const[t,e]=y.useState(mo);return y.useEffect(()=>(fo.push(e),()=>{const s=fo.indexOf(e);s>-1&&fo.splice(s,1)}),[t]),{...t,toast:Iw,dismiss:s=>Bi({type:"DISMISS_TOAST",toastId:s})}}var Rp=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Mw="VisuallyHidden",ta=y.forwardRef((t,e)=>d.jsx(re.span,{...t,ref:e,style:{...Rp,...t.style}}));ta.displayName=Mw;var Ow=ta,$c="ToastProvider",[Vc,Dw,Lw]=Rc("Toast"),[Ip,M2]=Ms("Toast",[Lw]),[Fw,sa]=Ip($c),Mp=t=>{const{__scopeToast:e,label:s="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:r=50,children:o}=t,[a,l]=y.useState(null),[c,u]=y.useState(0),h=y.useRef(!1),f=y.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${$c}\`. Expected non-empty \`string\`.`),d.jsx(Vc.Provider,{scope:e,children:d.jsx(Fw,{scope:e,label:s,duration:n,swipeDirection:i,swipeThreshold:r,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>u(m=>m+1),[]),onToastRemove:y.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};Mp.displayName=$c;var Op="ToastViewport",$w=["F8"],El="toast.viewportPause",Nl="toast.viewportResume",Dp=y.forwardRef((t,e)=>{const{__scopeToast:s,hotkey:n=$w,label:i="Notifications ({hotkey})",...r}=t,o=sa(Op,s),a=Dw(s),l=y.useRef(null),c=y.useRef(null),u=y.useRef(null),h=y.useRef(null),f=ke(e,h,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;y.useEffect(()=>{const x=v=>{var w;n.length!==0&&n.every(S=>v[S]||v.code===S)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),y.useEffect(()=>{const x=l.current,v=h.current;if(p&&x&&v){const b=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(El);v.dispatchEvent(j),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(Nl);v.dispatchEvent(j),o.isClosePausedRef.current=!1}},S=j=>{!x.contains(j.relatedTarget)&&w()},_=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",b),x.addEventListener("focusout",S),x.addEventListener("pointermove",b),x.addEventListener("pointerleave",_),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",b),x.removeEventListener("focusout",S),x.removeEventListener("pointermove",b),x.removeEventListener("pointerleave",_),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[p,o.isClosePausedRef]);const g=y.useCallback(({tabbingDirection:x})=>{const b=a().map(w=>{const S=w.ref.current,_=[S,...Qw(S)];return x==="forwards"?_:_.reverse()});return(x==="forwards"?b.reverse():b).flat()},[a]);return y.useEffect(()=>{const x=h.current;if(x){const v=b=>{var _,j,T;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const C=document.activeElement,N=b.shiftKey;if(b.target===x&&N){(_=c.current)==null||_.focus();return}const A=g({tabbingDirection:N?"backwards":"forwards"}),W=A.findIndex(F=>F===C);$a(A.slice(W+1))?b.preventDefault():N?(j=c.current)==null||j.focus():(T=u.current)==null||T.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[a,g]),d.jsxs(E0,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&d.jsx(kl,{ref:c,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});$a(x)}}),d.jsx(Vc.Slot,{scope:s,children:d.jsx(re.ol,{tabIndex:-1,...r,ref:f})}),p&&d.jsx(kl,{ref:u,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});$a(x)}})]})});Dp.displayName=Op;var Lp="ToastFocusProxy",kl=y.forwardRef((t,e)=>{const{__scopeToast:s,onFocusFromOutsideViewport:n,...i}=t,r=sa(Lp,s);return d.jsx(ta,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=r.viewport)!=null&&c.contains(a))&&n()}})});kl.displayName=Lp;var Cr="Toast",Vw="toast.swipeStart",Bw="toast.swipeMove",Uw="toast.swipeCancel",zw="toast.swipeEnd",Fp=y.forwardRef((t,e)=>{const{forceMount:s,open:n,defaultOpen:i,onOpenChange:r,...o}=t,[a,l]=Zn({prop:n,defaultProp:i??!0,onChange:r,caller:Cr});return d.jsx(yn,{present:s||a,children:d.jsx(Gw,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:lt(t.onPause),onResume:lt(t.onResume),onSwipeStart:J(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:J(t.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:J(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:J(t.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});Fp.displayName=Cr;var[Hw,Ww]=Ip(Cr,{onClose(){}}),Gw=y.forwardRef((t,e)=>{const{__scopeToast:s,type:n="foreground",duration:i,open:r,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...p}=t,g=sa(Cr,s),[x,v]=y.useState(null),b=ke(e,F=>v(F)),w=y.useRef(null),S=y.useRef(null),_=i||g.duration,j=y.useRef(0),T=y.useRef(_),C=y.useRef(0),{onToastAdd:N,onToastRemove:E}=g,P=lt(()=>{var M;(x==null?void 0:x.contains(document.activeElement))&&((M=g.viewport)==null||M.focus()),o()}),A=y.useCallback(F=>{!F||F===1/0||(window.clearTimeout(C.current),j.current=new Date().getTime(),C.current=window.setTimeout(P,F))},[P]);y.useEffect(()=>{const F=g.viewport;if(F){const M=()=>{A(T.current),c==null||c()},O=()=>{const D=new Date().getTime()-j.current;T.current=T.current-D,window.clearTimeout(C.current),l==null||l()};return F.addEventListener(El,O),F.addEventListener(Nl,M),()=>{F.removeEventListener(El,O),F.removeEventListener(Nl,M)}}},[g.viewport,_,l,c,A]),y.useEffect(()=>{r&&!g.isClosePausedRef.current&&A(_)},[r,_,g.isClosePausedRef,A]),y.useEffect(()=>(N(),()=>E()),[N,E]);const W=y.useMemo(()=>x?Wp(x):null,[x]);return g.viewport?d.jsxs(d.Fragment,{children:[W&&d.jsx(Kw,{__scopeToast:s,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),d.jsx(Hw,{scope:s,onClose:P,children:ea.createPortal(d.jsx(Vc.ItemSlot,{scope:s,children:d.jsx(N0,{asChild:!0,onEscapeKeyDown:J(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||P(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(re.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":r?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:J(t.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:J(t.onPointerDown,F=>{F.button===0&&(w.current={x:F.clientX,y:F.clientY})}),onPointerMove:J(t.onPointerMove,F=>{if(!w.current)return;const M=F.clientX-w.current.x,O=F.clientY-w.current.y,D=!!S.current,L=["left","right"].includes(g.swipeDirection),R=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,z=L?R(0,M):0,de=L?0:R(0,O),X=F.pointerType==="touch"?10:2,te={x:z,y:de},Q={originalEvent:F,delta:te};D?(S.current=te,Vr(Bw,h,Q,{discrete:!1})):Su(te,g.swipeDirection,X)?(S.current=te,Vr(Vw,u,Q,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(M)>X||Math.abs(O)>X)&&(w.current=null)}),onPointerUp:J(t.onPointerUp,F=>{const M=S.current,O=F.target;if(O.hasPointerCapture(F.pointerId)&&O.releasePointerCapture(F.pointerId),S.current=null,w.current=null,M){const D=F.currentTarget,L={originalEvent:F,delta:M};Su(M,g.swipeDirection,g.swipeThreshold)?Vr(zw,m,L,{discrete:!0}):Vr(Uw,f,L,{discrete:!0}),D.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Kw=t=>{const{__scopeToast:e,children:s,...n}=t,i=sa(Cr,e),[r,o]=y.useState(!1),[a,l]=y.useState(!1);return Xw(()=>o(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(ap,{asChild:!0,children:d.jsx(ta,{...n,children:r&&d.jsxs(d.Fragment,{children:[i.label," ",s]})})})},qw="ToastTitle",$p=y.forwardRef((t,e)=>{const{__scopeToast:s,...n}=t;return d.jsx(re.div,{...n,ref:e})});$p.displayName=qw;var Yw="ToastDescription",Vp=y.forwardRef((t,e)=>{const{__scopeToast:s,...n}=t;return d.jsx(re.div,{...n,ref:e})});Vp.displayName=Yw;var Bp="ToastAction",Up=y.forwardRef((t,e)=>{const{altText:s,...n}=t;return s.trim()?d.jsx(Hp,{altText:s,asChild:!0,children:d.jsx(Bc,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Bp}\`. Expected non-empty \`string\`.`),null)});Up.displayName=Bp;var zp="ToastClose",Bc=y.forwardRef((t,e)=>{const{__scopeToast:s,...n}=t,i=Ww(zp,s);return d.jsx(Hp,{asChild:!0,children:d.jsx(re.button,{type:"button",...n,ref:e,onClick:J(t.onClick,i.onClose)})})});Bc.displayName=zp;var Hp=y.forwardRef((t,e)=>{const{__scopeToast:s,altText:n,...i}=t;return d.jsx(re.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function Wp(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Jw(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",r=n.dataset.radixToastAnnounceExclude==="";if(!i)if(r){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Wp(n))}}),e}function Vr(t,e,s,{discrete:n}){const i=s.originalEvent.currentTarget,r=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:s});e&&i.addEventListener(t,e,{once:!0}),n?k0(i,r):i.dispatchEvent(r)}var Su=(t,e,s=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),r=n>i;return e==="left"||e==="right"?r&&n>s:!r&&i>s};function Xw(t=()=>{}){const e=lt(t);at(()=>{let s=0,n=0;return s=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(n)}},[e])}function Jw(t){return t.nodeType===t.ELEMENT_NODE}function Qw(t){const e=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function $a(t){const e=document.activeElement;return t.some(s=>s===e?!0:(s.focus(),document.activeElement!==e))}var Zw=Mp,Gp=Dp,Kp=Fp,qp=$p,Yp=Vp,Xp=Up,Jp=Bc;function Qp(t){var e,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(s=Qp(t[e]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function Zp(){for(var t,e,s=0,n="",i=arguments.length;s<i;s++)(t=arguments[s])&&(e=Qp(t))&&(n&&(n+=" "),n+=e);return n}const ju=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Tu=Zp,Er=(t,e)=>s=>{var n;if((e==null?void 0:e.variants)==null)return Tu(t,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:r}=e,o=Object.keys(i).map(c=>{const u=s==null?void 0:s[c],h=r==null?void 0:r[c];if(u===null)return null;const f=ju(u)||ju(h);return i[c][f]}),a=s&&Object.entries(s).reduce((c,u)=>{let[h,f]=u;return f===void 0||(c[h]=f),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:h,className:f,...m}=u;return Object.entries(m).every(p=>{let[g,x]=p;return Array.isArray(x)?x.includes({...r,...a}[g]):{...r,...a}[g]===x})?[...c,h,f]:c},[]);return Tu(t,o,l,s==null?void 0:s.class,s==null?void 0:s.className)},Uc="-",e_=t=>{const e=s_(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const a=o.split(Uc);return a[0]===""&&a.length!==1&&a.shift(),eg(a,e)||t_(o)},getConflictingClassGroupIds:(o,a)=>{const l=s[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},eg=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const s=t[0],n=e.nextPart.get(s),i=n?eg(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(Uc);return(o=e.validators.find(({validator:a})=>a(r)))==null?void 0:o.classGroupId},Cu=/^\[(.+)\]$/,t_=t=>{if(Cu.test(t)){const e=Cu.exec(t)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},s_=t=>{const{theme:e,prefix:s}=t,n={nextPart:new Map,validators:[]};return i_(Object.entries(t.classGroups),s).forEach(([r,o])=>{Pl(o,n,r,e)}),n},Pl=(t,e,s,n)=>{t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Eu(e,i);r.classGroupId=s;return}if(typeof i=="function"){if(n_(i)){Pl(i(n),e,s,n);return}e.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([r,o])=>{Pl(o,Eu(e,r),s,n)})})},Eu=(t,e)=>{let s=t;return e.split(Uc).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},n_=t=>t.isThemeGetter,i_=(t,e)=>e?t.map(([s,n])=>{const i=n.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([o,a])=>[e+o,a])):r);return[s,i]}):t,r_=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,n=new Map;const i=(r,o)=>{s.set(r,o),e++,e>t&&(e=0,n=s,s=new Map)};return{get(r){let o=s.get(r);if(o!==void 0)return o;if((o=n.get(r))!==void 0)return i(r,o),o},set(r,o){s.has(r)?s.set(r,o):i(r,o)}}},tg="!",o_=t=>{const{separator:e,experimentalParseClassName:s}=t,n=e.length===1,i=e[0],r=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let x=0;x<a.length;x++){let v=a[x];if(c===0){if(v===i&&(n||a.slice(x,x+r)===e)){l.push(a.slice(u,x)),u=x+r;continue}if(v==="/"){h=x;continue}}v==="["?c++:v==="]"&&c--}const f=l.length===0?a:a.substring(u),m=f.startsWith(tg),p=m?f.substring(1):f,g=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:g}};return s?a=>s({className:a,parseClassName:o}):o},a_=t=>{if(t.length<=1)return t;const e=[];let s=[];return t.forEach(n=>{n[0]==="["?(e.push(...s.sort(),n),s=[]):s.push(n)}),e.push(...s.sort()),e},l_=t=>({cache:r_(t.cacheSize),parseClassName:o_(t),...e_(t)}),c_=/\s+/,d_=(t,e)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:i}=e,r=[],o=t.trim().split(c_);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=s(c);let p=!!m,g=n(p?f.substring(0,m):f);if(!g){if(!p){a=c+(a.length>0?" "+a:a);continue}if(g=n(f),!g){a=c+(a.length>0?" "+a:a);continue}p=!1}const x=a_(u).join(":"),v=h?x+tg:x,b=v+g;if(r.includes(b))continue;r.push(b);const w=i(g,p);for(let S=0;S<w.length;++S){const _=w[S];r.push(v+_)}a=c+(a.length>0?" "+a:a)}return a};function u_(){let t=0,e,s,n="";for(;t<arguments.length;)(e=arguments[t++])&&(s=sg(e))&&(n&&(n+=" "),n+=s);return n}const sg=t=>{if(typeof t=="string")return t;let e,s="";for(let n=0;n<t.length;n++)t[n]&&(e=sg(t[n]))&&(s&&(s+=" "),s+=e);return s};function h_(t,...e){let s,n,i,r=o;function o(l){const c=e.reduce((u,h)=>h(u),t());return s=l_(c),n=s.cache.get,i=s.cache.set,r=a,a(l)}function a(l){const c=n(l);if(c)return c;const u=d_(l,s);return i(l,u),u}return function(){return r(u_.apply(null,arguments))}}const ve=t=>{const e=s=>s[t]||[];return e.isThemeGetter=!0,e},ng=/^\[(?:([a-z-]+):)?(.+)\]$/i,f_=/^\d+\/\d+$/,m_=new Set(["px","full","screen"]),p_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,g_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,x_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,y_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,v_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xt=t=>Vn(t)||m_.has(t)||f_.test(t),us=t=>di(t,"length",E_),Vn=t=>!!t&&!Number.isNaN(Number(t)),Va=t=>di(t,"number",Vn),wi=t=>!!t&&Number.isInteger(Number(t)),b_=t=>t.endsWith("%")&&Vn(t.slice(0,-1)),Z=t=>ng.test(t),hs=t=>p_.test(t),w_=new Set(["length","size","percentage"]),__=t=>di(t,w_,ig),S_=t=>di(t,"position",ig),j_=new Set(["image","url"]),T_=t=>di(t,j_,k_),C_=t=>di(t,"",N_),_i=()=>!0,di=(t,e,s)=>{const n=ng.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):s(n[2]):!1},E_=t=>g_.test(t)&&!x_.test(t),ig=()=>!1,N_=t=>y_.test(t),k_=t=>v_.test(t),P_=()=>{const t=ve("colors"),e=ve("spacing"),s=ve("blur"),n=ve("brightness"),i=ve("borderColor"),r=ve("borderRadius"),o=ve("borderSpacing"),a=ve("borderWidth"),l=ve("contrast"),c=ve("grayscale"),u=ve("hueRotate"),h=ve("invert"),f=ve("gap"),m=ve("gradientColorStops"),p=ve("gradientColorStopPositions"),g=ve("inset"),x=ve("margin"),v=ve("opacity"),b=ve("padding"),w=ve("saturate"),S=ve("scale"),_=ve("sepia"),j=ve("skew"),T=ve("space"),C=ve("translate"),N=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Z,e],A=()=>[Z,e],W=()=>["",Xt,us],F=()=>["auto",Vn,Z],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",Z],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],de=()=>[Vn,Z];return{cacheSize:500,separator:":",theme:{colors:[_i],spacing:[Xt,us],blur:["none","",hs,Z],brightness:de(),borderColor:[t],borderRadius:["none","","full",hs,Z],borderSpacing:A(),borderWidth:W(),contrast:de(),grayscale:R(),hueRotate:de(),invert:R(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[b_,us],inset:P(),margin:P(),opacity:de(),padding:A(),saturate:de(),scale:de(),sepia:R(),skew:de(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Z]}],container:["container"],columns:[{columns:[hs]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),Z]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wi,Z]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Z]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",wi,Z]}],"grid-cols":[{"grid-cols":[_i]}],"col-start-end":[{col:["auto",{span:["full",wi,Z]},Z]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[_i]}],"row-start-end":[{row:["auto",{span:[wi,Z]},Z]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Z]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Z]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Z,e]}],"min-w":[{"min-w":[Z,e,"min","max","fit"]}],"max-w":[{"max-w":[Z,e,"none","full","min","max","fit","prose",{screen:[hs]},hs]}],h:[{h:[Z,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Z,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Z,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Z,e,"auto","min","max","fit"]}],"font-size":[{text:["base",hs,us]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Va]}],"font-family":[{font:[_i]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Z]}],"line-clamp":[{"line-clamp":["none",Vn,Va]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xt,Z]}],"list-image":[{"list-image":["none",Z]}],"list-style-type":[{list:["none","disc","decimal",Z]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xt,us]}],"underline-offset":[{"underline-offset":["auto",Xt,Z]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),S_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",__]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},T_]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:O()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[Xt,Z]}],"outline-w":[{outline:[Xt,us]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Xt,us]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",hs,C_]}],"shadow-color":[{shadow:[_i]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",hs,Z]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Z]}],duration:[{duration:de()}],ease:[{ease:["linear","in","out","in-out",Z]}],delay:[{delay:de()}],animate:[{animate:["none","spin","ping","pulse","bounce",Z]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[wi,Z]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Z]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Z]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Z]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xt,us,Va]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},A_=h_(P_);function H(...t){return A_(Zp(t))}const R_=Zw,rg=y.forwardRef(({className:t,...e},s)=>d.jsx(Gp,{ref:s,className:H("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));rg.displayName=Gp.displayName;const I_=Er("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),og=y.forwardRef(({className:t,variant:e,...s},n)=>d.jsx(Kp,{ref:n,className:H(I_({variant:e}),t),...s}));og.displayName=Kp.displayName;const M_=y.forwardRef(({className:t,...e},s)=>d.jsx(Xp,{ref:s,className:H("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));M_.displayName=Xp.displayName;const ag=y.forwardRef(({className:t,...e},s)=>d.jsx(Jp,{ref:s,className:H("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(Ic,{className:"h-4 w-4"})}));ag.displayName=Jp.displayName;const lg=y.forwardRef(({className:t,...e},s)=>d.jsx(qp,{ref:s,className:H("text-sm font-semibold",t),...e}));lg.displayName=qp.displayName;const cg=y.forwardRef(({className:t,...e},s)=>d.jsx(Yp,{ref:s,className:H("text-sm opacity-90",t),...e}));cg.displayName=Yp.displayName;function O_(){const{toasts:t}=Ap();return d.jsxs(R_,{children:[t.map(function({id:e,title:s,description:n,action:i,...r}){return d.jsxs(og,{...r,children:[d.jsxs("div",{className:"grid gap-1",children:[s&&d.jsx(lg,{children:s}),n&&d.jsx(cg,{children:n})]}),i,d.jsx(ag,{})]},e)}),d.jsx(rg,{})]})}var Nu=["light","dark"],D_="(prefers-color-scheme: dark)",L_=y.createContext(void 0),F_={setTheme:t=>{},themes:[]},$_=()=>{var t;return(t=y.useContext(L_))!=null?t:F_};y.memo(({forcedTheme:t,storageKey:e,attribute:s,enableSystem:n,enableColorScheme:i,defaultTheme:r,value:o,attrs:a,nonce:l})=>{let c=r==="system",u=s==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${s}',s='setAttribute';`,h=i?Nu.includes(r)&&r?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${r}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(p,g=!1,x=!0)=>{let v=o?o[p]:p,b=g?p+"|| ''":`'${v}'`,w="";return i&&x&&!g&&Nu.includes(p)&&(w+=`d.style.colorScheme = '${p}';`),s==="class"?g||v?w+=`c.add(${b})`:w+="null":v&&(w+=`d[s](n,${b})`),w},m=t?`!function(){${u}${f(t)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${D_}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(r,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(r,!1,!1)};}${h}}catch(t){}}();`;return y.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var V_=t=>{switch(t){case"success":return z_;case"info":return W_;case"warning":return H_;case"error":return G_;default:return null}},B_=Array(12).fill(0),U_=({visible:t,className:e})=>I.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},I.createElement("div",{className:"sonner-spinner"},B_.map((s,n)=>I.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),z_=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),H_=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),W_=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),G_=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),K_=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},I.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),q_=()=>{let[t,e]=I.useState(document.hidden);return I.useEffect(()=>{let s=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),t},Al=1,Y_=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:s,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Al++,r=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),r?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:s}),{...a,...t,id:i,dismissible:o,title:s}):a):this.addToast({title:s,...n,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(s=>s({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let s;e.loading!==void 0&&(s=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=s!==void 0,r,o=n.then(async l=>{if(r=["resolve",l],I.isValidElement(l))i=!1,this.create({id:s,type:"default",message:l});else if(J_(l)&&!l.ok){i=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:s,type:"error",message:c,description:u})}else if(e.success!==void 0){i=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:s,type:"success",message:c,description:u})}}).catch(async l=>{if(r=["reject",l],e.error!==void 0){i=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:s,type:"error",message:c,description:u})}}).finally(()=>{var l;i&&(this.dismiss(s),s=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>r[0]==="reject"?c(r[1]):l(r[1])).catch(c));return typeof s!="string"&&typeof s!="number"?{unwrap:a}:Object.assign(s,{unwrap:a})},this.custom=(t,e)=>{let s=(e==null?void 0:e.id)||Al++;return this.create({jsx:t(s),id:s,...e}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},nt=new Y_,X_=(t,e)=>{let s=(e==null?void 0:e.id)||Al++;return nt.addToast({title:t,...e,id:s}),s},J_=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Q_=X_,Z_=()=>nt.toasts,eS=()=>nt.getActiveToasts();Object.assign(Q_,{success:nt.success,info:nt.info,warning:nt.warning,error:nt.error,custom:nt.custom,message:nt.message,promise:nt.promise,dismiss:nt.dismiss,loading:nt.loading},{getHistory:Z_,getToasts:eS});function tS(t,{insertAt:e}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&s.firstChild?s.insertBefore(n,s.firstChild):s.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}tS(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Br(t){return t.label!==void 0}var sS=3,nS="32px",iS="16px",ku=4e3,rS=356,oS=14,aS=20,lS=200;function Tt(...t){return t.filter(Boolean).join(" ")}function cS(t){let[e,s]=t.split("-"),n=[];return e&&n.push(e),s&&n.push(s),n}var dS=t=>{var e,s,n,i,r,o,a,l,c,u,h;let{invert:f,toast:m,unstyled:p,interacting:g,setHeights:x,visibleToasts:v,heights:b,index:w,toasts:S,expanded:_,removeToast:j,defaultRichColors:T,closeButton:C,style:N,cancelButtonStyle:E,actionButtonStyle:P,className:A="",descriptionClassName:W="",duration:F,position:M,gap:O,loadingIcon:D,expandByDefault:L,classNames:R,icons:z,closeButtonAriaLabel:de="Close toast",pauseWhenPageIsHidden:X}=t,[te,Q]=I.useState(null),[ye,Re]=I.useState(null),[V,ge]=I.useState(!1),[Oe,me]=I.useState(!1),[le,ue]=I.useState(!1),[Dt,Yt]=I.useState(!1),[yi,wn]=I.useState(!1),[vi,ka]=I.useState(0),[p0,lu]=I.useState(0),bi=I.useRef(m.duration||F||ku),cu=I.useRef(null),$s=I.useRef(null),g0=w===0,x0=w+1<=v,ct=m.type,_n=m.dismissible!==!1,y0=m.className||"",v0=m.descriptionClassName||"",Fr=I.useMemo(()=>b.findIndex(G=>G.toastId===m.id)||0,[b,m.id]),b0=I.useMemo(()=>{var G;return(G=m.closeButton)!=null?G:C},[m.closeButton,C]),du=I.useMemo(()=>m.duration||F||ku,[m.duration,F]),Pa=I.useRef(0),Sn=I.useRef(0),uu=I.useRef(0),jn=I.useRef(null),[w0,_0]=M.split("-"),hu=I.useMemo(()=>b.reduce((G,pe,_e)=>_e>=Fr?G:G+pe.height,0),[b,Fr]),fu=q_(),S0=m.invert||f,Aa=ct==="loading";Sn.current=I.useMemo(()=>Fr*O+hu,[Fr,hu]),I.useEffect(()=>{bi.current=du},[du]),I.useEffect(()=>{ge(!0)},[]),I.useEffect(()=>{let G=$s.current;if(G){let pe=G.getBoundingClientRect().height;return lu(pe),x(_e=>[{toastId:m.id,height:pe,position:m.position},..._e]),()=>x(_e=>_e.filter(_t=>_t.toastId!==m.id))}},[x,m.id]),I.useLayoutEffect(()=>{if(!V)return;let G=$s.current,pe=G.style.height;G.style.height="auto";let _e=G.getBoundingClientRect().height;G.style.height=pe,lu(_e),x(_t=>_t.find(St=>St.toastId===m.id)?_t.map(St=>St.toastId===m.id?{...St,height:_e}:St):[{toastId:m.id,height:_e,position:m.position},..._t])},[V,m.title,m.description,x,m.id]);let ls=I.useCallback(()=>{me(!0),ka(Sn.current),x(G=>G.filter(pe=>pe.toastId!==m.id)),setTimeout(()=>{j(m)},lS)},[m,j,x,Sn]);I.useEffect(()=>{if(m.promise&&ct==="loading"||m.duration===1/0||m.type==="loading")return;let G;return _||g||X&&fu?(()=>{if(uu.current<Pa.current){let pe=new Date().getTime()-Pa.current;bi.current=bi.current-pe}uu.current=new Date().getTime()})():bi.current!==1/0&&(Pa.current=new Date().getTime(),G=setTimeout(()=>{var pe;(pe=m.onAutoClose)==null||pe.call(m,m),ls()},bi.current)),()=>clearTimeout(G)},[_,g,m,ct,X,fu,ls]),I.useEffect(()=>{m.delete&&ls()},[ls,m.delete]);function j0(){var G,pe,_e;return z!=null&&z.loading?I.createElement("div",{className:Tt(R==null?void 0:R.loader,(G=m==null?void 0:m.classNames)==null?void 0:G.loader,"sonner-loader"),"data-visible":ct==="loading"},z.loading):D?I.createElement("div",{className:Tt(R==null?void 0:R.loader,(pe=m==null?void 0:m.classNames)==null?void 0:pe.loader,"sonner-loader"),"data-visible":ct==="loading"},D):I.createElement(U_,{className:Tt(R==null?void 0:R.loader,(_e=m==null?void 0:m.classNames)==null?void 0:_e.loader),visible:ct==="loading"})}return I.createElement("li",{tabIndex:0,ref:$s,className:Tt(A,y0,R==null?void 0:R.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,R==null?void 0:R.default,R==null?void 0:R[ct],(s=m==null?void 0:m.classNames)==null?void 0:s[ct]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:T,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":V,"data-promise":!!m.promise,"data-swiped":yi,"data-removed":Oe,"data-visible":x0,"data-y-position":w0,"data-x-position":_0,"data-index":w,"data-front":g0,"data-swiping":le,"data-dismissible":_n,"data-type":ct,"data-invert":S0,"data-swipe-out":Dt,"data-swipe-direction":ye,"data-expanded":!!(_||L&&V),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${Oe?vi:Sn.current}px`,"--initial-height":L?"auto":`${p0}px`,...N,...m.style},onDragEnd:()=>{ue(!1),Q(null),jn.current=null},onPointerDown:G=>{Aa||!_n||(cu.current=new Date,ka(Sn.current),G.target.setPointerCapture(G.pointerId),G.target.tagName!=="BUTTON"&&(ue(!0),jn.current={x:G.clientX,y:G.clientY}))},onPointerUp:()=>{var G,pe,_e,_t;if(Dt||!_n)return;jn.current=null;let St=Number(((G=$s.current)==null?void 0:G.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),cs=Number(((pe=$s.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Vs=new Date().getTime()-((_e=cu.current)==null?void 0:_e.getTime()),jt=te==="x"?St:cs,ds=Math.abs(jt)/Vs;if(Math.abs(jt)>=aS||ds>.11){ka(Sn.current),(_t=m.onDismiss)==null||_t.call(m,m),Re(te==="x"?St>0?"right":"left":cs>0?"down":"up"),ls(),Yt(!0),wn(!1);return}ue(!1),Q(null)},onPointerMove:G=>{var pe,_e,_t,St;if(!jn.current||!_n||((pe=window.getSelection())==null?void 0:pe.toString().length)>0)return;let cs=G.clientY-jn.current.y,Vs=G.clientX-jn.current.x,jt=(_e=t.swipeDirections)!=null?_e:cS(M);!te&&(Math.abs(Vs)>1||Math.abs(cs)>1)&&Q(Math.abs(Vs)>Math.abs(cs)?"x":"y");let ds={x:0,y:0};te==="y"?(jt.includes("top")||jt.includes("bottom"))&&(jt.includes("top")&&cs<0||jt.includes("bottom")&&cs>0)&&(ds.y=cs):te==="x"&&(jt.includes("left")||jt.includes("right"))&&(jt.includes("left")&&Vs<0||jt.includes("right")&&Vs>0)&&(ds.x=Vs),(Math.abs(ds.x)>0||Math.abs(ds.y)>0)&&wn(!0),(_t=$s.current)==null||_t.style.setProperty("--swipe-amount-x",`${ds.x}px`),(St=$s.current)==null||St.style.setProperty("--swipe-amount-y",`${ds.y}px`)}},b0&&!m.jsx?I.createElement("button",{"aria-label":de,"data-disabled":Aa,"data-close-button":!0,onClick:Aa||!_n?()=>{}:()=>{var G;ls(),(G=m.onDismiss)==null||G.call(m,m)},className:Tt(R==null?void 0:R.closeButton,(i=m==null?void 0:m.classNames)==null?void 0:i.closeButton)},(r=z==null?void 0:z.close)!=null?r:K_):null,m.jsx||y.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:I.createElement(I.Fragment,null,ct||m.icon||m.promise?I.createElement("div",{"data-icon":"",className:Tt(R==null?void 0:R.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||j0():null,m.type!=="loading"?m.icon||(z==null?void 0:z[ct])||V_(ct):null):null,I.createElement("div",{"data-content":"",className:Tt(R==null?void 0:R.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},I.createElement("div",{"data-title":"",className:Tt(R==null?void 0:R.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?I.createElement("div",{"data-description":"",className:Tt(W,v0,R==null?void 0:R.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),y.isValidElement(m.cancel)?m.cancel:m.cancel&&Br(m.cancel)?I.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||E,onClick:G=>{var pe,_e;Br(m.cancel)&&_n&&((_e=(pe=m.cancel).onClick)==null||_e.call(pe,G),ls())},className:Tt(R==null?void 0:R.cancelButton,(u=m==null?void 0:m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,y.isValidElement(m.action)?m.action:m.action&&Br(m.action)?I.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||P,onClick:G=>{var pe,_e;Br(m.action)&&((_e=(pe=m.action).onClick)==null||_e.call(pe,G),!G.defaultPrevented&&ls())},className:Tt(R==null?void 0:R.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function Pu(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function uS(t,e){let s={};return[t,e].forEach((n,i)=>{let r=i===1,o=r?"--mobile-offset":"--offset",a=r?iS:nS;function l(c){["top","right","bottom","left"].forEach(u=>{s[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?s[`${o}-${c}`]=a:s[`${o}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(a)}),s}var hS=y.forwardRef(function(t,e){let{invert:s,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:r,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:h,duration:f,style:m,visibleToasts:p=sS,toastOptions:g,dir:x=Pu(),gap:v=oS,loadingIcon:b,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:_}=t,[j,T]=I.useState([]),C=I.useMemo(()=>Array.from(new Set([n].concat(j.filter(X=>X.position).map(X=>X.position)))),[j,n]),[N,E]=I.useState([]),[P,A]=I.useState(!1),[W,F]=I.useState(!1),[M,O]=I.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),D=I.useRef(null),L=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=I.useRef(null),z=I.useRef(!1),de=I.useCallback(X=>{T(te=>{var Q;return(Q=te.find(ye=>ye.id===X.id))!=null&&Q.delete||nt.dismiss(X.id),te.filter(({id:ye})=>ye!==X.id)})},[]);return I.useEffect(()=>nt.subscribe(X=>{if(X.dismiss){T(te=>te.map(Q=>Q.id===X.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{jw.flushSync(()=>{T(te=>{let Q=te.findIndex(ye=>ye.id===X.id);return Q!==-1?[...te.slice(0,Q),{...te[Q],...X},...te.slice(Q+1)]:[X,...te]})})})}),[]),I.useEffect(()=>{if(u!=="system"){O(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:te})=>{O(te?"dark":"light")})}catch{X.addListener(({matches:Q})=>{try{O(Q?"dark":"light")}catch(ye){console.error(ye)}})}},[u]),I.useEffect(()=>{j.length<=1&&A(!1)},[j]),I.useEffect(()=>{let X=te=>{var Q,ye;i.every(Re=>te[Re]||te.code===Re)&&(A(!0),(Q=D.current)==null||Q.focus()),te.code==="Escape"&&(document.activeElement===D.current||(ye=D.current)!=null&&ye.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[i]),I.useEffect(()=>{if(D.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,z.current=!1)}},[D.current]),I.createElement("section",{ref:e,"aria-label":`${S} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((X,te)=>{var Q;let[ye,Re]=X.split("-");return j.length?I.createElement("ol",{key:X,dir:x==="auto"?Pu():x,tabIndex:-1,ref:D,className:a,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":ye,"data-lifted":P&&j.length>1&&!r,"data-x-position":Re,style:{"--front-toast-height":`${((Q=N[0])==null?void 0:Q.height)||0}px`,"--width":`${rS}px`,"--gap":`${v}px`,...m,...uS(l,c)},onBlur:V=>{z.current&&!V.currentTarget.contains(V.relatedTarget)&&(z.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||z.current||(z.current=!0,R.current=V.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{W||A(!1)},onDragEnd:()=>A(!1),onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},j.filter(V=>!V.position&&te===0||V.position===X).map((V,ge)=>{var Oe,me;return I.createElement(dS,{key:V.id,icons:w,index:ge,toast:V,defaultRichColors:h,duration:(Oe=g==null?void 0:g.duration)!=null?Oe:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:s,visibleToasts:p,closeButton:(me=g==null?void 0:g.closeButton)!=null?me:o,interacting:W,position:X,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:de,toasts:j.filter(le=>le.position==V.position),heights:N.filter(le=>le.position==V.position),setHeights:E,expandByDefault:r,gap:v,loadingIcon:b,expanded:P,pauseWhenPageIsHidden:_,swipeDirections:t.swipeDirections})})):null}))});const fS=({...t})=>{const{theme:e="system"}=$_();return d.jsx(hS,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var[na,O2]=Ms("Tooltip",[Zo]),zc=Zo(),dg="TooltipProvider",mS=700,Au="tooltip.open",[pS,ug]=na(dg),hg=t=>{const{__scopeTooltip:e,delayDuration:s=mS,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:r}=t,o=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx(pS,{scope:e,isOpenDelayedRef:o,delayDuration:s,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:r})};hg.displayName=dg;var fg="Tooltip",[D2,ia]=na(fg),Rl="TooltipTrigger",gS=y.forwardRef((t,e)=>{const{__scopeTooltip:s,...n}=t,i=ia(Rl,s),r=ug(Rl,s),o=zc(s),a=y.useRef(null),l=ke(e,a,i.onTriggerChange),c=y.useRef(!1),u=y.useRef(!1),h=y.useCallback(()=>c.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(lp,{asChild:!0,...o,children:d.jsx(re.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:J(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!r.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:J(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:J(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:J(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:J(t.onBlur,i.onClose),onClick:J(t.onClick,i.onClose)})})});gS.displayName=Rl;var xS="TooltipPortal",[L2,yS]=na(xS,{forceMount:void 0}),ei="TooltipContent",mg=y.forwardRef((t,e)=>{const s=yS(ei,t.__scopeTooltip),{forceMount:n=s.forceMount,side:i="top",...r}=t,o=ia(ei,t.__scopeTooltip);return d.jsx(yn,{present:n||o.open,children:o.disableHoverableContent?d.jsx(pg,{side:i,...r,ref:e}):d.jsx(vS,{side:i,...r,ref:e})})}),vS=y.forwardRef((t,e)=>{const s=ia(ei,t.__scopeTooltip),n=ug(ei,t.__scopeTooltip),i=y.useRef(null),r=ke(e,i),[o,a]=y.useState(null),{trigger:l,onClose:c}=s,u=i.current,{onPointerInTransitChange:h}=n,f=y.useCallback(()=>{a(null),h(!1)},[h]),m=y.useCallback((p,g)=>{const x=p.currentTarget,v={x:p.clientX,y:p.clientY},b=jS(v,x.getBoundingClientRect()),w=TS(v,b),S=CS(g.getBoundingClientRect()),_=NS([...w,...S]);a(_),h(!0)},[h]);return y.useEffect(()=>()=>f(),[f]),y.useEffect(()=>{if(l&&u){const p=x=>m(x,u),g=x=>m(x,l);return l.addEventListener("pointerleave",p),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",g)}}},[l,u,m,f]),y.useEffect(()=>{if(o){const p=g=>{const x=g.target,v={x:g.clientX,y:g.clientY},b=(l==null?void 0:l.contains(x))||(u==null?void 0:u.contains(x)),w=!ES(v,o);b?f():w&&(f(),c())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[l,u,o,c,f]),d.jsx(pg,{...t,ref:r})}),[bS,wS]=na(fg,{isInside:!1}),_S=P0("TooltipContent"),pg=y.forwardRef((t,e)=>{const{__scopeTooltip:s,children:n,"aria-label":i,onEscapeKeyDown:r,onPointerDownOutside:o,...a}=t,l=ia(ei,s),c=zc(s),{onClose:u}=l;return y.useEffect(()=>(document.addEventListener(Au,u),()=>document.removeEventListener(Au,u)),[u]),y.useEffect(()=>{if(l.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),d.jsx(cp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:d.jsxs(dp,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(_S,{children:n}),d.jsx(bS,{scope:s,isInside:!0,children:d.jsx(Ow,{id:l.contentId,role:"tooltip",children:i||n})})]})})});mg.displayName=ei;var gg="TooltipArrow",SS=y.forwardRef((t,e)=>{const{__scopeTooltip:s,...n}=t,i=zc(s);return wS(gg,s).isInside?null:d.jsx(up,{...i,...n,ref:e})});SS.displayName=gg;function jS(t,e){const s=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),r=Math.abs(e.left-t.x);switch(Math.min(s,n,i,r)){case r:return"left";case i:return"right";case s:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function TS(t,e,s=5){const n=[];switch(e){case"top":n.push({x:t.x-s,y:t.y+s},{x:t.x+s,y:t.y+s});break;case"bottom":n.push({x:t.x-s,y:t.y-s},{x:t.x+s,y:t.y-s});break;case"left":n.push({x:t.x+s,y:t.y-s},{x:t.x+s,y:t.y+s});break;case"right":n.push({x:t.x-s,y:t.y-s},{x:t.x-s,y:t.y+s});break}return n}function CS(t){const{top:e,right:s,bottom:n,left:i}=t;return[{x:i,y:e},{x:s,y:e},{x:s,y:n},{x:i,y:n}]}function ES(t,e){const{x:s,y:n}=t;let i=!1;for(let r=0,o=e.length-1;r<e.length;o=r++){const a=e[r],l=e[o],c=a.x,u=a.y,h=l.x,f=l.y;u>n!=f>n&&s<(h-c)*(n-u)/(f-u)+c&&(i=!i)}return i}function NS(t){const e=t.slice();return e.sort((s,n)=>s.x<n.x?-1:s.x>n.x?1:s.y<n.y?-1:s.y>n.y?1:0),kS(e)}function kS(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const r=e[e.length-1],o=e[e.length-2];if((r.x-o.x)*(i.y-o.y)>=(r.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const s=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;s.length>=2;){const r=s[s.length-1],o=s[s.length-2];if((r.x-o.x)*(i.y-o.y)>=(r.y-o.y)*(i.x-o.x))s.pop();else break}s.push(i)}return s.pop(),e.length===1&&s.length===1&&e[0].x===s[0].x&&e[0].y===s[0].y?e:e.concat(s)}var PS=hg,xg=mg;const AS=PS,RS=y.forwardRef(({className:t,sideOffset:e=4,...s},n)=>d.jsx(xg,{ref:n,sideOffset:e,className:H("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));RS.displayName=xg.displayName;var ra=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oa=typeof window>"u"||"Deno"in globalThis;function Nt(){}function IS(t,e){return typeof t=="function"?t(e):t}function MS(t){return typeof t=="number"&&t>=0&&t!==1/0}function OS(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Il(t,e){return typeof t=="function"?t(e):t}function DS(t,e){return typeof t=="function"?t(e):t}function Ru(t,e){const{type:s="all",exact:n,fetchStatus:i,predicate:r,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==Hc(o,e.options))return!1}else if(!nr(e.queryKey,o))return!1}if(s!=="all"){const l=e.isActive();if(s==="active"&&!l||s==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||r&&!r(e))}function Iu(t,e){const{exact:s,status:n,predicate:i,mutationKey:r}=t;if(r){if(!e.options.mutationKey)return!1;if(s){if(sr(e.options.mutationKey)!==sr(r))return!1}else if(!nr(e.options.mutationKey,r))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function Hc(t,e){return((e==null?void 0:e.queryKeyHashFn)||sr)(t)}function sr(t){return JSON.stringify(t,(e,s)=>Ml(s)?Object.keys(s).sort().reduce((n,i)=>(n[i]=s[i],n),{}):s)}function nr(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(s=>nr(t[s],e[s])):!1}function yg(t,e){if(t===e)return t;const s=Mu(t)&&Mu(e);if(s||Ml(t)&&Ml(e)){const n=s?t:Object.keys(t),i=n.length,r=s?e:Object.keys(e),o=r.length,a=s?[]:{},l=new Set(n);let c=0;for(let u=0;u<o;u++){const h=s?u:r[u];(!s&&l.has(h)||s)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=yg(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&c++)}return i===o&&c===i?t:a}return e}function Mu(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ml(t){if(!Ou(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!Ou(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ou(t){return Object.prototype.toString.call(t)==="[object Object]"}function LS(t){return new Promise(e=>{setTimeout(e,t)})}function FS(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?yg(t,e):e}function $S(t,e,s=0){const n=[...t,e];return s&&n.length>s?n.slice(1):n}function VS(t,e,s=0){const n=[e,...t];return s&&n.length>s?n.slice(0,-1):n}var Wc=Symbol();function vg(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Wc?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var tn,bs,Wn,Zm,BS=(Zm=class extends ra{constructor(){super();ae(this,tn);ae(this,bs);ae(this,Wn);K(this,Wn,e=>{if(!oa&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){k(this,bs)||this.setEventListener(k(this,Wn))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,bs))==null||e.call(this),K(this,bs,void 0))}setEventListener(e){var s;K(this,Wn,e),(s=k(this,bs))==null||s.call(this),K(this,bs,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){k(this,tn)!==e&&(K(this,tn,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof k(this,tn)=="boolean"?k(this,tn):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},tn=new WeakMap,bs=new WeakMap,Wn=new WeakMap,Zm),bg=new BS,Gn,ws,Kn,ep,US=(ep=class extends ra{constructor(){super();ae(this,Gn,!0);ae(this,ws);ae(this,Kn);K(this,Kn,e=>{if(!oa&&window.addEventListener){const s=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}})}onSubscribe(){k(this,ws)||this.setEventListener(k(this,Kn))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,ws))==null||e.call(this),K(this,ws,void 0))}setEventListener(e){var s;K(this,Kn,e),(s=k(this,ws))==null||s.call(this),K(this,ws,e(this.setOnline.bind(this)))}setOnline(e){k(this,Gn)!==e&&(K(this,Gn,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return k(this,Gn)}},Gn=new WeakMap,ws=new WeakMap,Kn=new WeakMap,ep),ko=new US;function zS(){let t,e;const s=new Promise((i,r)=>{t=i,e=r});s.status="pending",s.catch(()=>{});function n(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},s.reject=i=>{n({status:"rejected",reason:i}),e(i)},s}function HS(t){return Math.min(1e3*2**t,3e4)}function wg(t){return(t??"online")==="online"?ko.isOnline():!0}var _g=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Ba(t){return t instanceof _g}function Sg(t){let e=!1,s=0,n=!1,i;const r=zS(),o=g=>{var x;n||(f(new _g(g)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>bg.isFocused()&&(t.networkMode==="always"||ko.isOnline())&&t.canRun(),u=()=>wg(t.networkMode)&&t.canRun(),h=g=>{var x;n||(n=!0,(x=t.onSuccess)==null||x.call(t,g),i==null||i(),r.resolve(g))},f=g=>{var x;n||(n=!0,(x=t.onError)==null||x.call(t,g),i==null||i(),r.reject(g))},m=()=>new Promise(g=>{var x;i=v=>{(n||c())&&g(v)},(x=t.onPause)==null||x.call(t)}).then(()=>{var g;i=void 0,n||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(n)return;let g;const x=s===0?t.initialPromise:void 0;try{g=x??t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(h).catch(v=>{var j;if(n)return;const b=t.retry??(oa?0:3),w=t.retryDelay??HS,S=typeof w=="function"?w(s,v):w,_=b===!0||typeof b=="number"&&s<b||typeof b=="function"&&b(s,v);if(e||!_){f(v);return}s++,(j=t.onFail)==null||j.call(t,s,v),LS(S).then(()=>c()?void 0:m()).then(()=>{e?f(v):p()})})};return{promise:r,cancel:o,continue:()=>(i==null||i(),r),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?p():m().then(p),r)}}var WS=t=>setTimeout(t,0);function GS(){let t=[],e=0,s=a=>{a()},n=a=>{a()},i=WS;const r=a=>{e?t.push(a):i(()=>{s(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{n(()=>{a.forEach(l=>{s(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{r(()=>{a(...l)})},schedule:r,setNotifyFunction:a=>{s=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{i=a}}}var Qe=GS(),sn,tp,jg=(tp=class{constructor(){ae(this,sn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),MS(this.gcTime)&&K(this,sn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(oa?1/0:5*60*1e3))}clearGcTimeout(){k(this,sn)&&(clearTimeout(k(this,sn)),K(this,sn,void 0))}},sn=new WeakMap,tp),qn,nn,mt,rn,Ue,Sr,on,kt,Qt,sp,KS=(sp=class extends jg{constructor(e){super();ae(this,kt);ae(this,qn);ae(this,nn);ae(this,mt);ae(this,rn);ae(this,Ue);ae(this,Sr);ae(this,on);K(this,on,!1),K(this,Sr,e.defaultOptions),this.setOptions(e.options),this.observers=[],K(this,rn,e.client),K(this,mt,k(this,rn).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,K(this,qn,YS(this.options)),this.state=e.state??k(this,qn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=k(this,Ue))==null?void 0:e.promise}setOptions(e){this.options={...k(this,Sr),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,mt).remove(this)}setData(e,s){const n=FS(this.state.data,e,this.options);return Be(this,kt,Qt).call(this,{data:n,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),n}setState(e,s){Be(this,kt,Qt).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var n,i;const s=(n=k(this,Ue))==null?void 0:n.promise;return(i=k(this,Ue))==null||i.cancel(e),s?s.then(Nt).catch(Nt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,qn))}isActive(){return this.observers.some(e=>DS(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wc||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Il(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!OS(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=k(this,Ue))==null||s.continue()}onOnline(){var s;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=k(this,Ue))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),k(this,mt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(k(this,Ue)&&(k(this,on)?k(this,Ue).cancel({revert:!0}):k(this,Ue).cancelRetry()),this.scheduleGc()),k(this,mt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Be(this,kt,Qt).call(this,{type:"invalidate"})}fetch(e,s){var c,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(k(this,Ue))return k(this,Ue).continueRetry(),k(this,Ue).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(K(this,on,!0),n.signal)})},r=()=>{const f=vg(this.options,s),p=(()=>{const g={client:k(this,rn),queryKey:this.queryKey,meta:this.meta};return i(g),g})();return K(this,on,!1),this.options.persister?this.options.persister(f,p,this):f(p)},a=(()=>{const f={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:k(this,rn),state:this.state,fetchFn:r};return i(f),f})();(c=this.options.behavior)==null||c.onFetch(a,this),K(this,nn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Be(this,kt,Qt).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=f=>{var m,p,g,x;Ba(f)&&f.silent||Be(this,kt,Qt).call(this,{type:"error",error:f}),Ba(f)||((p=(m=k(this,mt).config).onError)==null||p.call(m,f,this),(x=(g=k(this,mt).config).onSettled)==null||x.call(g,this.state.data,f,this)),this.scheduleGc()};return K(this,Ue,Sg({initialPromise:s==null?void 0:s.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var m,p,g,x;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){l(v);return}(p=(m=k(this,mt).config).onSuccess)==null||p.call(m,f,this),(x=(g=k(this,mt).config).onSettled)==null||x.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Be(this,kt,Qt).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Be(this,kt,Qt).call(this,{type:"pause"})},onContinue:()=>{Be(this,kt,Qt).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),k(this,Ue).start()}},qn=new WeakMap,nn=new WeakMap,mt=new WeakMap,rn=new WeakMap,Ue=new WeakMap,Sr=new WeakMap,on=new WeakMap,kt=new WeakSet,Qt=function(e){const s=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...qS(n.data,this.options),fetchMeta:e.meta??null};case"success":return K(this,nn,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Ba(i)&&i.revert&&k(this,nn)?{...k(this,nn),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=s(this.state),Qe.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),k(this,mt).notify({query:this,type:"updated",action:e})})},sp);function qS(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wg(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function YS(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,n=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Ut,np,XS=(np=class extends ra{constructor(e={}){super();ae(this,Ut);this.config=e,K(this,Ut,new Map)}build(e,s,n){const i=s.queryKey,r=s.queryHash??Hc(i,s);let o=this.get(r);return o||(o=new KS({client:e,queryKey:i,queryHash:r,options:e.defaultQueryOptions(s),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){k(this,Ut).has(e.queryHash)||(k(this,Ut).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=k(this,Ut).get(e.queryHash);s&&(e.destroy(),s===e&&k(this,Ut).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Qe.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return k(this,Ut).get(e)}getAll(){return[...k(this,Ut).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(n=>Ru(s,n))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(n=>Ru(e,n)):s}notify(e){Qe.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){Qe.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Qe.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ut=new WeakMap,np),zt,Xe,an,Ht,ps,ip,JS=(ip=class extends jg{constructor(e){super();ae(this,Ht);ae(this,zt);ae(this,Xe);ae(this,an);this.mutationId=e.mutationId,K(this,Xe,e.mutationCache),K(this,zt,[]),this.state=e.state||QS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){k(this,zt).includes(e)||(k(this,zt).push(e),this.clearGcTimeout(),k(this,Xe).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){K(this,zt,k(this,zt).filter(s=>s!==e)),this.scheduleGc(),k(this,Xe).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){k(this,zt).length||(this.state.status==="pending"?this.scheduleGc():k(this,Xe).remove(this))}continue(){var e;return((e=k(this,an))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var r,o,a,l,c,u,h,f,m,p,g,x,v,b,w,S,_,j,T,C;const s=()=>{Be(this,Ht,ps).call(this,{type:"continue"})};K(this,an,Sg({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(N,E)=>{Be(this,Ht,ps).call(this,{type:"failed",failureCount:N,error:E})},onPause:()=>{Be(this,Ht,ps).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,Xe).canRun(this)}));const n=this.state.status==="pending",i=!k(this,an).canStart();try{if(n)s();else{Be(this,Ht,ps).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(r=k(this,Xe).config).onMutate)==null?void 0:o.call(r,e,this));const E=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));E!==this.state.context&&Be(this,Ht,ps).call(this,{type:"pending",context:E,variables:e,isPaused:i})}const N=await k(this,an).start();return await((u=(c=k(this,Xe).config).onSuccess)==null?void 0:u.call(c,N,e,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,N,e,this.state.context)),await((p=(m=k(this,Xe).config).onSettled)==null?void 0:p.call(m,N,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,N,null,e,this.state.context)),Be(this,Ht,ps).call(this,{type:"success",data:N}),N}catch(N){try{throw await((b=(v=k(this,Xe).config).onError)==null?void 0:b.call(v,N,e,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,N,e,this.state.context)),await((j=(_=k(this,Xe).config).onSettled)==null?void 0:j.call(_,void 0,N,this.state.variables,this.state.context,this)),await((C=(T=this.options).onSettled)==null?void 0:C.call(T,void 0,N,e,this.state.context)),N}finally{Be(this,Ht,ps).call(this,{type:"error",error:N})}}finally{k(this,Xe).runNext(this)}}},zt=new WeakMap,Xe=new WeakMap,an=new WeakMap,Ht=new WeakSet,ps=function(e){const s=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Qe.batch(()=>{k(this,zt).forEach(n=>{n.onMutationUpdate(e)}),k(this,Xe).notify({mutation:this,type:"updated",action:e})})},ip);function QS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ns,Pt,jr,rp,ZS=(rp=class extends ra{constructor(e={}){super();ae(this,ns);ae(this,Pt);ae(this,jr);this.config=e,K(this,ns,new Set),K(this,Pt,new Map),K(this,jr,0)}build(e,s,n){const i=new JS({mutationCache:this,mutationId:++$r(this,jr)._,options:e.defaultMutationOptions(s),state:n});return this.add(i),i}add(e){k(this,ns).add(e);const s=Ur(e);if(typeof s=="string"){const n=k(this,Pt).get(s);n?n.push(e):k(this,Pt).set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(k(this,ns).delete(e)){const s=Ur(e);if(typeof s=="string"){const n=k(this,Pt).get(s);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&k(this,Pt).delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=Ur(e);if(typeof s=="string"){const n=k(this,Pt).get(s),i=n==null?void 0:n.find(r=>r.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const s=Ur(e);if(typeof s=="string"){const i=(n=k(this,Pt).get(s))==null?void 0:n.find(r=>r!==e&&r.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Qe.batch(()=>{k(this,ns).forEach(e=>{this.notify({type:"removed",mutation:e})}),k(this,ns).clear(),k(this,Pt).clear()})}getAll(){return Array.from(k(this,ns))}find(e){const s={exact:!0,...e};return this.getAll().find(n=>Iu(s,n))}findAll(e={}){return this.getAll().filter(s=>Iu(e,s))}notify(e){Qe.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return Qe.batch(()=>Promise.all(e.map(s=>s.continue().catch(Nt))))}},ns=new WeakMap,Pt=new WeakMap,jr=new WeakMap,rp);function Ur(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Du(t){return{onFetch:(e,s)=>{var u,h,f,m,p;const n=e.options,i=(f=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,r=((m=e.state.data)==null?void 0:m.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},v=vg(e.options,e.fetchOptions),b=async(w,S,_)=>{if(g)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const T=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:S,direction:_?"backward":"forward",meta:e.options.meta};return x(P),P})(),C=await v(T),{maxPages:N}=e.options,E=_?VS:$S;return{pages:E(w.pages,C,N),pageParams:E(w.pageParams,S,N)}};if(i&&r.length){const w=i==="backward",S=w?ej:Lu,_={pages:r,pageParams:o},j=S(n,_);a=await b(_,j,w)}else{const w=t??r.length;do{const S=l===0?o[0]??n.initialPageParam:Lu(n,a);if(l>0&&S==null)break;a=await b(a,S),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var g,x;return(x=(g=e.options).persister)==null?void 0:x.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=c}}}function Lu(t,{pages:e,pageParams:s}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,s[n],s):void 0}function ej(t,{pages:e,pageParams:s}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,s[0],s):void 0}var Ce,_s,Ss,Yn,Xn,js,Jn,Qn,op,tj=(op=class{constructor(t={}){ae(this,Ce);ae(this,_s);ae(this,Ss);ae(this,Yn);ae(this,Xn);ae(this,js);ae(this,Jn);ae(this,Qn);K(this,Ce,t.queryCache||new XS),K(this,_s,t.mutationCache||new ZS),K(this,Ss,t.defaultOptions||{}),K(this,Yn,new Map),K(this,Xn,new Map),K(this,js,0)}mount(){$r(this,js)._++,k(this,js)===1&&(K(this,Jn,bg.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,Ce).onFocus())})),K(this,Qn,ko.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,Ce).onOnline())})))}unmount(){var t,e;$r(this,js)._--,k(this,js)===0&&((t=k(this,Jn))==null||t.call(this),K(this,Jn,void 0),(e=k(this,Qn))==null||e.call(this),K(this,Qn,void 0))}isFetching(t){return k(this,Ce).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return k(this,_s).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=k(this,Ce).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=k(this,Ce).build(this,e),n=s.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(Il(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return k(this,Ce).findAll(t).map(({queryKey:e,state:s})=>{const n=s.data;return[e,n]})}setQueryData(t,e,s){const n=this.defaultQueryOptions({queryKey:t}),i=k(this,Ce).get(n.queryHash),r=i==null?void 0:i.state.data,o=IS(e,r);if(o!==void 0)return k(this,Ce).build(this,n).setData(o,{...s,manual:!0})}setQueriesData(t,e,s){return Qe.batch(()=>k(this,Ce).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=k(this,Ce).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=k(this,Ce);Qe.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=k(this,Ce);return Qe.batch(()=>(s.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const s={revert:!0,...e},n=Qe.batch(()=>k(this,Ce).findAll(t).map(i=>i.cancel(s)));return Promise.all(n).then(Nt).catch(Nt)}invalidateQueries(t,e={}){return Qe.batch(()=>(k(this,Ce).findAll(t).forEach(s=>{s.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},n=Qe.batch(()=>k(this,Ce).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let r=i.fetch(void 0,s);return s.throwOnError||(r=r.catch(Nt)),i.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(n).then(Nt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=k(this,Ce).build(this,e);return s.isStaleByTime(Il(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Nt).catch(Nt)}fetchInfiniteQuery(t){return t.behavior=Du(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Nt).catch(Nt)}ensureInfiniteQueryData(t){return t.behavior=Du(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ko.isOnline()?k(this,_s).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,Ce)}getMutationCache(){return k(this,_s)}getDefaultOptions(){return k(this,Ss)}setDefaultOptions(t){K(this,Ss,t)}setQueryDefaults(t,e){k(this,Yn).set(sr(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...k(this,Yn).values()],s={};return e.forEach(n=>{nr(t,n.queryKey)&&Object.assign(s,n.defaultOptions)}),s}setMutationDefaults(t,e){k(this,Xn).set(sr(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...k(this,Xn).values()],s={};return e.forEach(n=>{nr(t,n.mutationKey)&&Object.assign(s,n.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...k(this,Ss).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Hc(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Wc&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...k(this,Ss).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){k(this,Ce).clear(),k(this,_s).clear()}},Ce=new WeakMap,_s=new WeakMap,Ss=new WeakMap,Yn=new WeakMap,Xn=new WeakMap,js=new WeakMap,Jn=new WeakMap,Qn=new WeakMap,op),sj=y.createContext(void 0),nj=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(sj.Provider,{value:t,children:e}));const ij="modulepreload",rj=function(t){return"/"+t},Fu={},Nr=function(e,s,n){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(s.map(l=>{if(l=rj(l),l in Fu)return;Fu[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":ij,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})},oj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Nr(async()=>{const{default:n}=await Promise.resolve().then(()=>ui);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)};class Gc extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class $u extends Gc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Vu extends Gc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Bu extends Gc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ol;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ol||(Ol={}));var aj=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class lj{constructor(e,{headers:s={},customFetch:n,region:i=Ol.Any}={}){this.url=e,this.headers=s,this.region=i,this.fetch=oj(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var n;return aj(this,void 0,void 0,function*(){try{const{headers:i,method:r,body:o,signal:a}=s;let l={},{region:c}=s;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let h;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(l["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(l["Content-Type"]="application/json",h=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:h,signal:a}).catch(x=>{throw x.name==="AbortError"?x:new $u(x)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new Vu(f);if(!f.ok)throw new Bu(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield f.json():p==="application/octet-stream"?g=yield f.blob():p==="text/event-stream"?g=f:p==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new $u(i)}:{data:null,error:i,response:i instanceof Bu||i instanceof Vu?i.context:void 0}}})}}var it={},Kc={},aa={},kr={},la={},ca={},cj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ti=cj();const dj=ti.fetch,Tg=ti.fetch.bind(ti),Cg=ti.Headers,uj=ti.Request,hj=ti.Response,ui=Object.freeze(Object.defineProperty({__proto__:null,Headers:Cg,Request:uj,Response:hj,default:Tg,fetch:dj},Symbol.toStringTag,{value:"Module"})),fj=Tw(ui);var da={};Object.defineProperty(da,"__esModule",{value:!0});let mj=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};da.default=mj;var Eg=yt&&yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ca,"__esModule",{value:!0});const pj=Eg(fj),gj=Eg(da);let xj=class{constructor(e){var s,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(s=e.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=pj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=new Headers(this.headers),this.headers.set(e,s),this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async r=>{var o,a,l,c;let u=null,h=null,f=null,m=r.status,p=r.statusText;if(r.ok){if(this.method!=="HEAD"){const b=await r.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=b:h=JSON.parse(b))}const x=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(l=r.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,m=406,p="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const x=await r.text();try{u=JSON.parse(x),Array.isArray(u)&&r.status===404&&(h=[],u=null,m=200,p="OK")}catch{r.status===404&&x===""?(m=204,p="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,p="OK"),u&&this.shouldThrowOnError)throw new gj.default(u)}return{error:u,data:h,count:f,status:m,statusText:p}});return this.shouldThrowOnError||(i=i.catch(r=>{var o,a,l;return{error:{message:`${(o=r==null?void 0:r.name)!==null&&o!==void 0?o:"FetchError"}: ${r==null?void 0:r.message}`,details:`${(a=r==null?void 0:r.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=r==null?void 0:r.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,s)}returns(){return this}overrideTypes(){return this}};ca.default=xj;var yj=yt&&yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(la,"__esModule",{value:!0});const vj=yj(ca);let bj=class extends vj.default{select(e){let s=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:s=!0,nullsFirst:n,foreignTable:i,referencedTable:r=i}={}){const o=r?`${r}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,s,{foreignTable:n,referencedTable:i=n}={}){const r=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:s=!1,settings:n=!1,buffers:i=!1,wal:r=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,n?"settings":null,i?"buffers":null,r?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};la.default=bj;var wj=yt&&yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kr,"__esModule",{value:!0});const _j=wj(la);let Sj=class extends _j.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const n=Array.from(new Set(s)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:n,type:i}={}){let r="";i==="plain"?r="pl":i==="phrase"?r="ph":i==="websearch"&&(r="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${r}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(e,s,n){return this.url.searchParams.append(e,`not.${s}.${n}`),this}or(e,{foreignTable:s,referencedTable:n=s}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,s,n){return this.url.searchParams.append(e,`${s}.${n}`),this}};kr.default=Sj;var jj=yt&&yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(aa,"__esModule",{value:!0});const Si=jj(kr);let Tj=class{constructor(e,{headers:s={},schema:n,fetch:i}){this.url=e,this.headers=new Headers(s),this.schema=n,this.fetch=i}select(e,{head:s=!1,count:n}={}){const i=s?"HEAD":"GET";let r=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Si.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:s,defaultToNull:n=!0}={}){var i;const r="POST";if(s&&this.headers.append("Prefer",`count=${s}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Si.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:s,ignoreDuplicates:n=!1,count:i,defaultToNull:r=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),i&&this.headers.append("Prefer",`count=${i}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Si.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:s}={}){var n;const i="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new Si.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var s;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Si.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};aa.default=Tj;var Ng=yt&&yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kc,"__esModule",{value:!0});const Cj=Ng(aa),Ej=Ng(kr);let Nj=class kg{constructor(e,{headers:s={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(s),this.schemaName=n,this.fetch=i}from(e){const s=new URL(`${this.url}/${e}`);return new Cj.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new kg(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:n=!1,get:i=!1,count:r}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;n||i?(a=n?"HEAD":"GET",Object.entries(s).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{l.searchParams.append(h,f)})):(a="POST",c=s);const u=new Headers(this.headers);return r&&u.set("Prefer",`count=${r}`),new Ej.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Kc.default=Nj;var hi=yt&&yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(it,"__esModule",{value:!0});it.PostgrestError=it.PostgrestBuilder=it.PostgrestTransformBuilder=it.PostgrestFilterBuilder=it.PostgrestQueryBuilder=it.PostgrestClient=void 0;const Pg=hi(Kc);it.PostgrestClient=Pg.default;const Ag=hi(aa);it.PostgrestQueryBuilder=Ag.default;const Rg=hi(kr);it.PostgrestFilterBuilder=Rg.default;const Ig=hi(la);it.PostgrestTransformBuilder=Ig.default;const Mg=hi(ca);it.PostgrestBuilder=Mg.default;const Og=hi(da);it.PostgrestError=Og.default;var kj=it.default={PostgrestClient:Pg.default,PostgrestQueryBuilder:Ag.default,PostgrestFilterBuilder:Rg.default,PostgrestTransformBuilder:Ig.default,PostgrestBuilder:Mg.default,PostgrestError:Og.default};const{PostgrestClient:Pj,PostgrestQueryBuilder:z2,PostgrestFilterBuilder:H2,PostgrestTransformBuilder:W2,PostgrestBuilder:G2,PostgrestError:K2}=kj;class Aj{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const n=s.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const n=this.getWebSocketConstructor();return new n(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Rj="2.15.5",Ij=`realtime-js/${Rj}`,Mj="1.0.0",Dl=1e4,Oj=1e3,Dj=100;var Ui;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ui||(Ui={}));var De;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(De||(De={}));var At;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(At||(At={}));var Ll;(function(t){t.websocket="websocket"})(Ll||(Ll={}));var Js;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Js||(Js={}));class Lj{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,s,n)}_decodeBroadcast(e,s,n){const i=s.getUint8(1),r=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+i));o=o+i;const l=n.decode(e.slice(o,o+r));o=o+r;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Dg{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(xe||(xe={}));const Uu=(t,e,s={})=>{var n;const i=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((r,o)=>(r[o]=Fj(o,t,e,i),r),{})},Fj=(t,e,s,n)=>{const i=e.find(a=>a.name===t),r=i==null?void 0:i.type,o=s[t];return r&&!n.includes(r)?Lg(r,o):Fl(o)},Lg=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Uj(e,s)}switch(t){case xe.bool:return $j(e);case xe.float4:case xe.float8:case xe.int2:case xe.int4:case xe.int8:case xe.numeric:case xe.oid:return Vj(e);case xe.json:case xe.jsonb:return Bj(e);case xe.timestamp:return zj(e);case xe.abstime:case xe.date:case xe.daterange:case xe.int4range:case xe.int8range:case xe.money:case xe.reltime:case xe.text:case xe.time:case xe.timestamptz:case xe.timetz:case xe.tsrange:case xe.tstzrange:return Fl(e);default:return Fl(e)}},Fl=t=>t,$j=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Vj=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Bj=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Uj=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let r;const o=t.slice(1,s);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>Lg(e,a))}return t},zj=t=>typeof t=="string"?t.replace(" ","T"):t,Fg=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Ua{constructor(e,s,n={},i=Dl){this.channel=e,this.event=s,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(zu||(zu={}));class zi{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zi.syncState(this.state,i,r,o),this.pendingDiffs.forEach(l=>{this.state=zi.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=zi.syncDiff(this.state,i,r,o),a())}),this.onJoin((i,r,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:o})}),this.onLeave((i,r,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,i){const r=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(r,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=r[c];if(h){const f=u.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),p=u.filter(x=>m.indexOf(x.presence_ref)<0),g=h.filter(x=>f.indexOf(x.presence_ref)<0);p.length>0&&(a[c]=p),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(r,{joins:a,leaves:l},n,i)}static syncDiff(e,s,n,i){const{joins:r,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(r,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(m=>m.presence_ref),f=u.filter(m=>h.indexOf(m.presence_ref)<0);e[a].unshift(...f)}n(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const i=e[n];return"metas"in i?s[n]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):s[n]=i,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Hu||(Hu={}));var Hi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Hi||(Hi={}));var ts;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ts||(ts={}));class qc{constructor(e,s={config:{}},n){this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=De.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ua(this,At.join,this.params,this.timeout),this.rejoinTimer=new Dg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=De.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=De.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this._on(At.reply,{},(i,r)=>{this._trigger(this._replyEventName(r),i)}),this.presence=new zi(this),this.broadcastEndpointURL=Fg(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var n,i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==De.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Hi.PRESENCE]&&this.bindings[Hi.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(ts.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(ts.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){e==null||e(ts.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,v=[];for(let b=0;b<x;b++){const w=g[b],{filter:{event:S,schema:_,table:j,filter:T}}=w,C=m&&m[b];if(C&&C.event===S&&C.schema===_&&C.table===j&&C.filter===T)v.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=De.errored,e==null||e(ts.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(ts.SUBSCRIBED);return}}).receive("error",m=>{this.state=De.errored,e==null||e(ts.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ts.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this.state===De.joined&&e===Hi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,n)}async send(e,s={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:r,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=De.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(At.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Ua(this,At.leave,{},e),n.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=De.closed,this.bindings={}}async _fetchWithTimeout(e,s,n){const i=new AbortController,r=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(r),o}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ua(this,e,s,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Dj){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var i,r;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=At;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,s,n);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var p,g,x;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((x=(g=m.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(r=this.bindings[o])===null||r===void 0||r.filter(m=>{var p,g,x,v,b,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,_=(p=m.filter)===null||p===void 0?void 0:p.event;return S&&((g=s.ids)===null||g===void 0?void 0:g.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((x=s.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(b=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((w=s==null?void 0:s.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:g,table:x,commit_timestamp:v,type:b,errors:w}=p;f=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:v,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(p))}m.callback(f,n)})}_isClosed(){return this.state===De.closed}_isJoined(){return this.state===De.joined}_isJoining(){return this.state===De.joining}_isLeaving(){return this.state===De.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const i=e.toLocaleLowerCase(),r={type:i,filter:s,callback:n};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===n&&qc.isEqual(i.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(At.close,{},e)}_onError(e){this._on(At.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=De.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Uu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Uu(e.columns,e.old_record)),s}}const za=()=>{},zr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Hj=[1e3,2e3,5e3,1e4],Wj=1e4,Gj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Kj{constructor(e,s){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dl,this.transport=null,this.heartbeatIntervalMs=zr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=za,this.ref=0,this.reconnectTimer=null,this.logger=za,this.conn=null,this.sendBuffer=[],this.serializer=new Lj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...o)=>Nr(async()=>{const{default:a}=await Promise.resolve().then(()=>ui);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):r=fetch,(...o)=>r(...o)},!(!((n=s==null?void 0:s.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${Ll.websocket}`,this.httpEndpoint=Fg(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Aj.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Mj}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ui.connecting:return Js.Connecting;case Ui.open:return Js.Open;case Ui.closing:return Js.Closing;default:return Js.Closed}}isConnected(){return this.connectionState()===Js.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(r=>r.topic===n);if(i)return i;{const r=new qc(`realtime:${e}`,s,this);return this.channels.push(r),r}}push(e){const{topic:s,event:n,payload:i,ref:r}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${r})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Oj,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},zr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:r,ref:o}=s,a=o?`(${o})`:"",l=r.status||"";this.log("receive",`${l} ${n} ${i} ${a}`.trim(),r),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,r,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(At.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${e}${n}${i}`}_workerObjectUrl(e){let s;if(e)s=e;else{const n=new Blob([Gj],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{const i={access_token:s,version:Ij};s&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(At.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(s)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Dg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,n,i,r,o,a,l,c,u;if(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Dl,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:zr.HEARTBEAT_INTERVAL,this.worker=(r=e==null?void 0:e.worker)!==null&&r!==void 0?r:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:za,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>Hj[h-1]||Wj,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,f)=>f(JSON.stringify(h)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Yc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ie(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class qj extends Yc{constructor(e,s,n){super(e),this.name="StorageApiError",this.status=s,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $l extends Yc{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Yj=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const $g=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Nr(async()=>{const{default:n}=await Promise.resolve().then(()=>ui);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},Xj=()=>Yj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Nr(()=>Promise.resolve().then(()=>ui),void 0)).Response:Response}),Vl=t=>{if(Array.isArray(t))return t.map(s=>Vl(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const i=s.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[i]=Vl(n)}),e},Jj=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var vn=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Ha=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Qj=(t,e,s)=>vn(void 0,void 0,void 0,function*(){const n=yield Xj();t instanceof n&&!(s!=null&&s.noResolveJson)?t.json().then(i=>{const r=t.status||500,o=(i==null?void 0:i.statusCode)||r+"";e(new qj(Ha(i),r,o))}).catch(i=>{e(new $l(Ha(i),i))}):e(new $l(Ha(t),t))}),Zj=(t,e,s,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(Jj(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),s))};function Pr(t,e,s,n,i,r){return vn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Zj(e,n,i,r)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Qj(l,a,n))})})}function Po(t,e,s,n){return vn(this,void 0,void 0,function*(){return Pr(t,"GET",e,s,n)})}function Vt(t,e,s,n,i){return vn(this,void 0,void 0,function*(){return Pr(t,"POST",e,n,i,s)})}function Bl(t,e,s,n,i){return vn(this,void 0,void 0,function*(){return Pr(t,"PUT",e,n,i,s)})}function eT(t,e,s,n){return vn(this,void 0,void 0,function*(){return Pr(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function Vg(t,e,s,n,i){return vn(this,void 0,void 0,function*(){return Pr(t,"DELETE",e,n,i,s)})}var tT=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class sT{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return tT(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ie(e))return{data:null,error:e};throw e}})}}var nT=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class iT{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}asStream(){return new sT(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.execute().then(e,s)}execute(){return nT(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ie(e))return{data:null,error:e};throw e}})}}var et=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const rT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class oT{constructor(e,s={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=n,this.fetch=$g(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,n,i){return et(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},Wu),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",n)):typeof FormData<"u"&&n instanceof FormData?(r=n,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(s),u=this._getFinalPath(c),h=yield(e=="PUT"?Bl:Vt)(this.fetch,`${this.url}/object/${u}`,r,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}upload(e,s,n){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,i){return et(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:Wu.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield Bl(this.fetch,a.toString(),l,{headers:u});return{data:{path:r,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ie(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return et(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const r=yield Vt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+r.url),a=o.searchParams.get("token");if(!a)throw new Yc("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}update(e,s,n){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s,n){return et(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}copy(e,s,n){return et(this,void 0,void 0,function*(){try{return{data:{path:(yield Vt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}createSignedUrl(e,s,n){return et(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),r=yield Vt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}createSignedUrls(e,s,n){return et(this,void 0,void 0,function*(){try{const i=yield Vt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),r=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}download(e,s){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=r?`?${r}`:"",a=this._getFinalPath(e),l=()=>Po(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new iT(l,this.shouldThrowOnError)}info(e){return et(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const n=yield Po(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Vl(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}exists(e){return et(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield eT(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n)&&n instanceof $l){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,s){const n=this._getFinalPath(e),i=[],r=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";r!==""&&i.push(r);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return et(this,void 0,void 0,function*(){try{return{data:yield Vg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s))return{data:null,error:s};throw s}})}list(e,s,n){return et(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},rT),s),{prefix:e||""});return{data:yield Vt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}listV2(e,s){return et(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Vt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const aT="2.12.2",lT={"X-Client-Info":`storage-js/${aT}`};var Tn=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class cT{constructor(e,s={},n,i){this.shouldThrowOnError=!1;const r=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href,this.headers=Object.assign(Object.assign({},lT),s),this.fetch=$g(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Tn(this,void 0,void 0,function*(){try{return{data:yield Po(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ie(e))return{data:null,error:e};throw e}})}getBucket(e){return Tn(this,void 0,void 0,function*(){try{return{data:yield Po(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Tn(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return Tn(this,void 0,void 0,function*(){try{return{data:yield Bl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Tn(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Tn(this,void 0,void 0,function*(){try{return{data:yield Vg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s))return{data:null,error:s};throw s}})}}class dT extends cT{constructor(e,s={},n,i){super(e,s,n,i)}from(e){return new oT(this.url,this.headers,e,this.fetch)}}const uT="2.58.0";let Ai="";typeof Deno<"u"?Ai="deno":typeof document<"u"?Ai="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ai="react-native":Ai="node";const hT={"X-Client-Info":`supabase-js-${Ai}/${uT}`},fT={headers:hT},mT={schema:"public"},pT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gT={};var xT=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const yT=t=>{let e;return t?e=t:typeof fetch>"u"?e=Tg:e=fetch,(...s)=>e(...s)},vT=()=>typeof Headers>"u"?Cg:Headers,bT=(t,e,s)=>{const n=yT(s),i=vT();return(r,o)=>xT(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(r,Object.assign(Object.assign({},o),{headers:c}))})};var wT=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function _T(t){return t.endsWith("/")?t:t+"/"}function ST(t,e){var s,n;const{db:i,auth:r,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:h}=e,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>wT(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function jT(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_T(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Bg="2.72.0",In=30*1e3,Ul=3,Wa=Ul*In,TT="http://localhost:9999",CT="supabase.auth.token",ET={"X-Client-Info":`gotrue-js/${Bg}`},zl="X-Supabase-Api-Version",Ug={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kT=10*60*1e3;class Xc extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class PT extends Xc{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function AT(t){return q(t)&&t.name==="AuthApiError"}class zg extends Xc{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Os extends Xc{constructor(e,s,n,i){super(e,n,i),this.name=s,this.status=n}}class gs extends Os{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function RT(t){return q(t)&&t.name==="AuthSessionMissingError"}class ji extends Os{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hr extends Os{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wr extends Os{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function IT(t){return q(t)&&t.name==="AuthImplicitGrantRedirectError"}class Gu extends Os{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hl extends Os{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Ga(t){return q(t)&&t.name==="AuthRetryableFetchError"}class Ku extends Os{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class Wl extends Os{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ao="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qu=` 	
\r=`.split(""),MT=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<qu.length;e+=1)t[qu[e].charCodeAt(0)]=-2;for(let e=0;e<Ao.length;e+=1)t[Ao[e].charCodeAt(0)]=e;return t})();function Yu(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(Ao[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(Ao[n]),e.queuedBits-=6}}function Hg(t,e,s){const n=MT[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Xu(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},r=o=>{LT(o,n,s)};for(let o=0;o<t.length;o+=1)Hg(t.charCodeAt(o),i,r);return e.join("")}function OT(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function DT(t,e){for(let s=0;s<t.length;s+=1){let n=t.charCodeAt(s);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}OT(n,e)}}function LT(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function FT(t){const e=[],s={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Hg(t.charCodeAt(i),s,n);return new Uint8Array(e)}function $T(t){const e=[];return DT(t,s=>e.push(s)),new Uint8Array(e)}function VT(t){const e=[],s={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>Yu(i,s,n)),Yu(null,s,n),e.join("")}function BT(t){return Math.round(Date.now()/1e3)+t}function UT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ht=()=>typeof window<"u"&&typeof document<"u",Bs={tested:!1,writable:!1},Wg=()=>{if(!ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bs.tested)return Bs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Bs.tested=!0,Bs.writable=!0}catch{Bs.tested=!0,Bs.writable=!1}return Bs.writable};function zT(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,r)=>{e[r]=i})}catch{}return s.searchParams.forEach((n,i)=>{e[i]=n}),e}const Gg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Nr(async()=>{const{default:n}=await Promise.resolve().then(()=>ui);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},HT=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Mn=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Us=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},fs=async(t,e)=>{await t.removeItem(e)};class ua{constructor(){this.promise=new ua.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}ua.promiseConstructor=Promise;function Ka(t){const e=t.split(".");if(e.length!==3)throw new Wl("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!NT.test(e[n]))throw new Wl("JWT not in base64url format");return{header:JSON.parse(Xu(e[0])),payload:JSON.parse(Xu(e[1])),signature:FT(e[2]),raw:{header:e[0],payload:e[1]}}}async function WT(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function GT(t,e){return new Promise((n,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await t(r);if(!e(r,null,o)){n(o);return}}catch(o){if(!e(r,o)){i(o);return}}})()})}function KT(t){return("0"+t.toString(16)).substr(-2)}function qT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let i="";for(let r=0;r<56;r++)i+=s.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,KT).join("")}async function YT(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(n);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}async function XT(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await YT(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cn(t,e,s=!1){const n=qT();let i=n;s&&(i+="/PASSWORD_RECOVERY"),await Mn(t,`${e}-code-verifier`,i);const r=await XT(n);return[r,n===r?"plain":"s256"]}const JT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function QT(t){const e=t.headers.get(zl);if(!e||!e.match(JT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ZT(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function eC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function En(t){if(!tC.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qa(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const n=s.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ju(t){return JSON.parse(JSON.stringify(t))}var sC=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s};const Ks=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nC=[502,503,504];async function Qu(t){var e;if(!HT(t))throw new Hl(Ks(t),0);if(nC.includes(t.status))throw new Hl(Ks(t),t.status);let s;try{s=await t.json()}catch(r){throw new zg(Ks(r),r)}let n;const i=QT(t);if(i&&i.getTime()>=Ug["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new Ku(Ks(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new gs}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new Ku(Ks(s),t.status,s.weak_password.reasons);throw new PT(Ks(s),t.status||500,n)}const iC=(t,e,s,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),s))};async function ie(t,e,s,n){var i;const r=Object.assign({},n==null?void 0:n.headers);r[zl]||(r[zl]=Ug["2024-01-01"].name),n!=null&&n.jwt&&(r.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await rC(t,e,s+a,{headers:r,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function rC(t,e,s,n,i,r){const o=iC(e,n,i,r);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Hl(Ks(l),0)}if(a.ok||await Qu(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Qu(l)}}function Ft(t){var e;let s=null;cC(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=BT(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function Zu(t){const e=Ft(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function vs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function oC(t){return{data:t,error:null}}function aC(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:i,verification_type:r}=t,o=sC(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:n,redirect_to:i,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function lC(t){return t}function cC(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ya=["global","local","others"];var dC=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s};class uC{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=Gg(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=Ya[0]){if(Ya.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ya.join(", ")}`);try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:vs})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=dC(e,["options"]),i=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:aC,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(q(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:vs})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(r=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:lC});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(p.split(";")[1].split("=")[1]);c[`${x}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(q(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){En(e);try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:vs})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){En(e);try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:vs})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){En(e);try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:vs})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){En(e.userId);try{const{data:s,error:n}=await ie(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:n}}catch(s){if(q(s))return{data:null,error:s};throw s}}async _deleteFactor(e){En(e.userId),En(e.id);try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}}function eh(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function hC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Nn={debug:!!(globalThis&&Wg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class fC extends Kg{}async function mC(t,e,s){Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await s()}finally{Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new fC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Nn.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function qg(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function pC(t){return parseInt(t,16)}function gC(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function xC(t){var e;const{chainId:s,domain:n,expirationTime:i,issuedAt:r=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:f}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=qg(t.address),p=u?`${u}://${n}`:n,g=t.statement?`${t.statement}
`:"",x=`${p} wants you to sign in with your Ethereum account:
${m}

${g}`;let v=`URI: ${h}
Version: ${f}
Chain ID: ${s}${o?`
Nonce: ${o}`:""}
Issued At: ${r.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),l&&(v+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}v+=b}return`${x}
${v}`}hC();const yC={url:TT,storageKey:CT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ET,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function th(t,e,s){return await s()}const kn={};class ir{constructor(e){var s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ir.nextInstanceID,ir.nextInstanceID+=1,this.instanceID>0&&ht()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},yC),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new uC({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Gg(i.fetch),this.lock=i.lock||th,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ht()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=mC:this.lock=th,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Wg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=eh(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=eh(this.memoryStorage)),ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}get jwks(){var e,s;return(s=(e=kn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){kn[this.storageKey]=Object.assign(Object.assign({},kn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=kn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){kn[this.storageKey]=Object.assign(Object.assign({},kn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=zT(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),ht()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:r}=await this._getSessionFromURL(s,n);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),IT(r)){const l=(e=r.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return q(s)?{error:s}:{error:new zg("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,i;try{const r=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ft}),{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var s,n,i;try{let r;if("email"in e){const{email:u,password:h,options:f}=e;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Cn(this.storage,this.storageKey)),r=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:p},xform:Ft})}else if("phone"in e){const{phone:u,password:h,options:f}=e;r=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ft})}else throw new Hr("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let s;if("email"in e){const{email:r,password:o,options:a}=e;s=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Zu})}else if("phone"in e){const{phone:r,password:o,options:a}=e;s=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Zu})}else throw new Hr("You must provide either an email or phone number and a password");const{data:n,error:i}=s;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ji}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,n,i,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,n,i,r,o,a,l,c,u,h,f;let m,p;if("message"in e)m=e.message,p=e.signature;else{const{chain:g,wallet:x,statement:v,options:b}=e;let w;if(ht())if(typeof x=="object")w=x;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")w=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const S=new URL((s=b==null?void 0:b.url)!==null&&s!==void 0?s:window.location.href),_=await w.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=qg(_[0]);let T=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!T){const N=await w.request({method:"eth_chainId"});T=pC(N)}const C={domain:S.host,address:j,statement:v,uri:S.href,version:"1",chainId:T,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.resources};m=xC(C),p=await w.request({method:"personal_sign",params:[gC(m),j]})}try{const{data:g,error:x}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:p},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ft});if(x)throw x;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new ji}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:x})}catch(g){if(q(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(e){var s,n,i,r,o,a,l,c,u,h,f,m;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:x,wallet:v,statement:b,options:w}=e;let S;if(ht())if(typeof v=="object")S=v;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))S=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const _=new URL((s=w==null?void 0:w.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in S&&S.signIn){const j=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),b?{statement:b}:null));let T;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")T=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)T=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)p=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),g=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((r=w==null?void 0:w.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const j=await S.signMessage(new TextEncoder().encode(p),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=j}}try{const{data:x,error:v}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:VT(g)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ft});if(v)throw v;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new ji}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:v})}catch(x){if(q(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const s=await Us(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(s??"").split("/");try{const{data:r,error:o}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ft});if(await fs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new ji}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:o})}catch(r){if(q(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:s,provider:n,token:i,access_token:r,nonce:o}=e,a=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ft}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ji}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,n,i,r,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Cn(this.storage,this.storageKey));const{error:h}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Hr("You must provide either an email or phone number.")}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,n;try{let i,r;"options"in e&&(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo,r=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:Ft});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var s,n,i;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await Cn(this.storage,this.storageKey)),await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:oC})}catch(r){if(q(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new gs;const{error:i}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:r}=e,{error:o}=await ie(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:r}=e,{data:o,error:a}=await ie(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Hr("You must provide either an email or phone number and a type")}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Us(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Wa:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Us(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=qa()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:vs}):await this._useSession(async s=>{var n,i,r;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gs}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:vs})})}catch(s){if(q(s))return RT(s)&&(await this._removeSession(),await fs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:i,error:r}=n;if(r)throw r;if(!i.session)throw new gs;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Cn(this.storage,this.storageKey));const{data:c,error:u}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:vs});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gs;const s=Date.now()/1e3;let n=s,i=!0,r=null;const{payload:o}=Ka(e.access_token);if(o.exp&&(n=o.exp,i=n<=s),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;r={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(s){if(q(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new gs;const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!ht())throw new Wr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Gu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Gu("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!r||!a||!o||!c)throw new Wr("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;l&&(f=parseInt(l));const m=f-u;m*1e3<=In&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const p=f-h;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,u);const{data:g,error:x}=await this._getUser(r);if(x)throw x;const v={provider_token:n,provider_refresh_token:i,access_token:r,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(n){if(q(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Us(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:i,error:r}=s;if(r)return{error:r};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(AT(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await fs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=UT(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,i;try{const{data:{session:r},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,s={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Cn(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(r){if(q(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:n,error:i}=await this._useSession(async r=>{var o,a,l,c,u;const{data:h,error:f}=r;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return ht()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(q(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,i;const{data:r,error:o}=s;if(o)throw o;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await GT(async i=>(i>0&&await WT(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ft})),(i,r)=>{const o=200*Math.pow(2,i);return r&&Ga(r)&&Date.now()+o-n<In})}catch(n){if(this._debug(s,"error",n),q(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),ht()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,s;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Us(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Us(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Mn(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:qa()}else if(i&&!i.user&&!i.user){const o=await Us(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await fs(this.storage,this.storageKey+"-user"),await Mn(this.storage,this.storageKey,i)):i.user=qa()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const r=((s=i.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Wa;if(this._debug(n,`session has${r?"":" not"} expired with margin of ${Wa}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Ga(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new gs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ua;const{data:r,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!r.session)throw new gs;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={session:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(i,"error",r),q(r)){const o={session:null,error:r};return Ga(r)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,s,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),n=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&s.user&&await Mn(this.userStorage,this.storageKey+"-user",{user:s.user});const i=Object.assign({},s);delete i.user;const r=Ju(i);await Mn(this.storage,this.storageKey,r)}else{const i=Ju(s);await Mn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await fs(this.storage,this.storageKey),await fs(this.storage,this.storageKey+"-code-verifier"),await fs(this.storage,this.storageKey+"-user"),this.userStorage&&await fs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ht()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),In);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/In);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${In}ms, refresh threshold is ${Ul} ticks`),i<=Ul&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Kg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ht()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const i=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[r,o]=await Cn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const r=new URLSearchParams(n.queryParams);i.push(r.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:i,error:r}=s;return r?{data:null,error:r}:await ie(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,i;const{data:r,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:r}=s;if(r)return{data:null,error:r};const{data:o,error:a}=await ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(q(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:r}=s;return r?{data:null,error:r}:await ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(q(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(e==null?void 0:e.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),r=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,n;const{data:{session:i},error:r}=e;if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ka(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(s=i.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,s={keys:[]}){let n=s.keys.find(a=>a.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+kT>i)return n;const{data:r,error:o}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=i,n=r.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,s={}){try{let n=e;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};n=m.session.access_token}const{header:i,payload:r,signature:o,raw:{header:a,payload:l}}=Ka(n);s!=null&&s.allowExpired||ZT(r.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!c){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:r,header:i,signature:o},error:null}}const u=eC(i.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,$T(`${a}.${l}`)))throw new Wl("Invalid JWT signature");return{data:{claims:r,header:i,signature:o},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}}ir.nextInstanceID=0;const vC=ir;class bC extends vC{constructor(e){super(e)}}var wC=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class _C{constructor(e,s,n){var i,r,o;this.supabaseUrl=e,this.supabaseKey=s;const a=jT(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:mT,realtime:gT,auth:Object.assign(Object.assign({},pT),{storageKey:l}),global:fT},u=ST(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=u.global.headers)!==null&&r!==void 0?r:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=bT(s,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Pj(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new dT(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new lj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n={}){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return wC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:i,userStorage:r,storageKey:o,flowType:a,lock:l,debug:c},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bC({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:i,userStorage:r,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Kj(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const SC=(t,e,s)=>new _C(t,e,s);function jC(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}jC()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Yg="https://mmnrtmkuueqohhaddtxc.supabase.co",Xg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1tbnJ0bWt1dWVxb2hoYWRkdHhjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MjU3NjcsImV4cCI6MjA3NDQwMTc2N30.vYVzIgkdia8birnp0StgUrEKw4PZZcxcM1U4aqILfN4";console.log("Supabase URL:",Yg);console.log("Supabase Key (first 20 chars):",Xg.substring(0,20)+"...");const It=SC(Yg,Xg,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Jg=async()=>{const{error:t}=await It.auth.signOut();return{error:t}},ha=async()=>{const{data:{user:t}}=await It.auth.getUser();return t},TC=async()=>{const{data:{session:t}}=await It.auth.getSession();return t},CC=t=>It.auth.onAuthStateChange(t),EC=async t=>{const e=await ha();if(!e)return{error:new Error("No authenticated user")};const{data:s,error:n}=await It.from("profiles").upsert({id:e.id,...t,updated_at:new Date().toISOString()}).select().single();return{data:s,error:n}},NC=async t=>{var i;const e=(i=await ha())==null?void 0:i.id;if(!e)return{data:null,error:new Error("No user ID provided")};const{data:s,error:n}=await It.from("profiles").select("*").eq("id",e).single();return{data:s,error:n}},Qg=y.createContext({user:null,session:null,loading:!0}),fa=()=>{const t=y.useContext(Qg);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},kC=({children:t})=>{const[e,s]=y.useState(null),[n,i]=y.useState(null),[r,o]=y.useState(!0);y.useEffect(()=>{(async()=>{try{const u=await ha(),h=await TC();s(u),i(h)}catch(u){console.error("Error getting initial session:",u)}finally{o(!1)}})();const{data:{subscription:c}}=CC(async(u,h)=>{var f;console.log("Auth state changed:",u,(f=h==null?void 0:h.user)==null?void 0:f.email),i(h),s((h==null?void 0:h.user)??null),o(!1)});return()=>{c==null||c.unsubscribe()}},[]);const a={user:e,session:n,loading:r};return d.jsx(Qg.Provider,{value:a,children:t})},PC={theme:"system",setTheme:()=>null},Zg=y.createContext(PC);function AC({children:t,defaultTheme:e="system",storageKey:s="vite-ui-theme",...n}){const[i,r]=y.useState(()=>localStorage.getItem(s)||e);y.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),i==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(i)},[i]);const o={theme:i,setTheme:a=>{localStorage.setItem(s,a),r(a)}};return d.jsx(Zg.Provider,{...n,value:o,children:t})}const RC=()=>{const t=y.useContext(Zg);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},IC=Er("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Y=y.forwardRef(({className:t,variant:e,size:s,asChild:n=!1,...i},r)=>{const o=n?A0:"button";return d.jsx(o,{className:H(IC({variant:e,size:s,className:t})),ref:r,...i})});Y.displayName="Button";var ex={exports:{}},tx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var si=y;function MC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var OC=typeof Object.is=="function"?Object.is:MC,DC=si.useState,LC=si.useEffect,FC=si.useLayoutEffect,$C=si.useDebugValue;function VC(t,e){var s=e(),n=DC({inst:{value:s,getSnapshot:e}}),i=n[0].inst,r=n[1];return FC(function(){i.value=s,i.getSnapshot=e,Xa(i)&&r({inst:i})},[t,s,e]),LC(function(){return Xa(i)&&r({inst:i}),t(function(){Xa(i)&&r({inst:i})})},[t]),$C(s),s}function Xa(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!OC(t,s)}catch{return!0}}function BC(t,e){return e()}var UC=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?BC:VC;tx.useSyncExternalStore=si.useSyncExternalStore!==void 0?si.useSyncExternalStore:UC;ex.exports=tx;var zC=ex.exports;function HC(){return zC.useSyncExternalStore(WC,()=>!0,()=>!1)}function WC(){return()=>{}}var Jc="Avatar",[GC,q2]=Ms(Jc),[KC,sx]=GC(Jc),nx=y.forwardRef((t,e)=>{const{__scopeAvatar:s,...n}=t,[i,r]=y.useState("idle");return d.jsx(KC,{scope:s,imageLoadingStatus:i,onImageLoadingStatusChange:r,children:d.jsx(re.span,{...n,ref:e})})});nx.displayName=Jc;var ix="AvatarImage",rx=y.forwardRef((t,e)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:i=()=>{},...r}=t,o=sx(ix,s),a=qC(n,r),l=lt(c=>{i(c),o.onImageLoadingStatusChange(c)});return at(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?d.jsx(re.img,{...r,ref:e,src:n}):null});rx.displayName=ix;var ox="AvatarFallback",ax=y.forwardRef((t,e)=>{const{__scopeAvatar:s,delayMs:n,...i}=t,r=sx(ox,s),[o,a]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>a(!0),n);return()=>window.clearTimeout(l)}},[n]),o&&r.imageLoadingStatus!=="loaded"?d.jsx(re.span,{...i,ref:e}):null});ax.displayName=ox;function sh(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function qC(t,{referrerPolicy:e,crossOrigin:s}){const n=HC(),i=y.useRef(null),r=n?(i.current||(i.current=new window.Image),i.current):null,[o,a]=y.useState(()=>sh(r,t));return at(()=>{a(sh(r,t))},[r,t]),at(()=>{const l=h=>()=>{a(h)};if(!r)return;const c=l("loaded"),u=l("error");return r.addEventListener("load",c),r.addEventListener("error",u),e&&(r.referrerPolicy=e),typeof s=="string"&&(r.crossOrigin=s),()=>{r.removeEventListener("load",c),r.removeEventListener("error",u)}},[r,s,e]),o}var lx=nx,cx=rx,dx=ax;const ni=y.forwardRef(({className:t,...e},s)=>d.jsx(lx,{ref:s,className:H("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));ni.displayName=lx.displayName;const Ro=y.forwardRef(({className:t,...e},s)=>d.jsx(cx,{ref:s,className:H("aspect-square h-full w-full",t),...e}));Ro.displayName=cx.displayName;const ii=y.forwardRef(({className:t,...e},s)=>d.jsx(dx,{ref:s,className:H("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));ii.displayName=dx.displayName;const ux=M0,hx=O0,YC=y.forwardRef(({className:t,inset:e,children:s,...n},i)=>d.jsxs(hp,{ref:i,className:H("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...n,children:[s,d.jsx(R0,{className:"ml-auto h-4 w-4"})]}));YC.displayName=hp.displayName;const XC=y.forwardRef(({className:t,...e},s)=>d.jsx(fp,{ref:s,className:H("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));XC.displayName=fp.displayName;const Qc=y.forwardRef(({className:t,sideOffset:e=4,...s},n)=>d.jsx(I0,{children:d.jsx(mp,{ref:n,sideOffset:e,className:H("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));Qc.displayName=mp.displayName;const Bn=y.forwardRef(({className:t,inset:e,...s},n)=>d.jsx(pp,{ref:n,className:H("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...s}));Bn.displayName=pp.displayName;const JC=y.forwardRef(({className:t,children:e,checked:s,...n},i)=>d.jsxs(gp,{ref:i,className:H("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:s,...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(xp,{children:d.jsx(st,{className:"h-4 w-4"})})}),e]}));JC.displayName=gp.displayName;const QC=y.forwardRef(({className:t,children:e,...s},n)=>d.jsxs(yp,{ref:n,className:H("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...s,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(xp,{children:d.jsx(vp,{className:"h-2 w-2 fill-current"})})}),e]}));QC.displayName=yp.displayName;const ZC=y.forwardRef(({className:t,inset:e,...s},n)=>d.jsx(bp,{ref:n,className:H("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...s}));ZC.displayName=bp.displayName;const Gl=y.forwardRef(({className:t,...e},s)=>d.jsx(wp,{ref:s,className:H("-mx-1 my-1 h-px bg-muted",t),...e}));Gl.displayName=wp.displayName;function nh(){const{setTheme:t}=RC();return d.jsxs(ux,{children:[d.jsx(hx,{asChild:!0,children:d.jsxs(Y,{variant:"outline",size:"icon",children:[d.jsx(Ia,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),d.jsx(pu,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),d.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),d.jsxs(Qc,{align:"end",children:[d.jsxs(Bn,{onClick:()=>t("light"),children:[d.jsx(Ia,{className:"mr-2 h-4 w-4"}),"Light"]}),d.jsxs(Bn,{onClick:()=>t("dark"),children:[d.jsx(pu,{className:"mr-2 h-4 w-4"}),"Dark"]}),d.jsxs(Bn,{onClick:()=>t("system"),children:[d.jsx(Ia,{className:"mr-2 h-4 w-4"}),"System"]})]})]})}const eE=()=>{var c,u,h,f;const[t,e]=y.useState(!1),s=kp(),{user:n,loading:i}=fa(),r=[{name:"Home",path:"/"},{name:"About",path:"/about"},{name:"Impact",path:"/impact"},{name:"Calculator",path:"/calculator"},{name:"Destinations",path:"/destinations"},{name:"Tips",path:"/tips"},{name:"Data",path:"/data"},{name:"News",path:"/news"},{name:"Community",path:"/community"},{name:"Notes",path:"/notes"},{name:"Feedback",path:"/feedback"}],o=m=>s.pathname===m,a=async()=>{try{await Jg()}catch(m){console.error("Error signing out:",m)}},l=()=>{var m,p,g;return(m=n==null?void 0:n.user_metadata)!=null&&m.full_name?n.user_metadata.full_name.split(" ").map(x=>x[0]).join("").toUpperCase().slice(0,2):((g=(p=n==null?void 0:n.email)==null?void 0:p[0])==null?void 0:g.toUpperCase())||"U"};return d.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-card/95 backdrop-blur-md border-b border-border shadow-card-eco safe-area-top",children:[d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[d.jsxs(Je,{to:"/",className:"flex items-center space-x-1 sm:space-x-2 text-primary font-bold text-lg sm:text-xl",children:[d.jsx(Mt,{className:"h-6 w-6 sm:h-8 sm:w-8 text-nature-accent flex-shrink-0"}),d.jsx("span",{className:"hidden xs:block sm:block",children:"EcoTravel"})]}),d.jsxs("div",{className:"hidden lg:flex items-center space-x-1",children:[r.map(m=>d.jsx(Je,{to:m.path,className:`px-2 xl:px-3 py-2 rounded-md text-xs xl:text-sm font-medium transition-colors duration-200 touch-target ${o(m.path)?"bg-primary text-primary-foreground":"text-foreground hover:text-primary hover:bg-muted"}`,children:m.name},m.name)),d.jsx("div",{className:"ml-4",children:d.jsx(nh,{})}),d.jsx("div",{className:"ml-2",children:i?d.jsx("div",{className:"w-8 h-8 bg-muted rounded-full animate-pulse"}):n?d.jsxs(ux,{children:[d.jsx(hx,{asChild:!0,children:d.jsx(Y,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:d.jsxs(ni,{className:"h-8 w-8",children:[d.jsx(Ro,{src:(c=n.user_metadata)==null?void 0:c.avatar_url}),d.jsx(ii,{children:l()})]})})}),d.jsxs(Qc,{className:"w-56",align:"end",forceMount:!0,children:[d.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:d.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[((u=n.user_metadata)==null?void 0:u.full_name)&&d.jsx("p",{className:"font-medium",children:n.user_metadata.full_name}),n.email&&d.jsx("p",{className:"w-[200px] truncate text-sm text-muted-foreground",children:n.email})]})}),d.jsx(Gl,{}),d.jsx(Bn,{asChild:!0,children:d.jsxs(Je,{to:"/profile",className:"cursor-pointer",children:[d.jsx(Co,{className:"mr-2 h-4 w-4"}),"Profile"]})}),d.jsx(Gl,{}),d.jsxs(Bn,{onClick:a,className:"cursor-pointer",children:[d.jsx(jl,{className:"mr-2 h-4 w-4"}),"Sign out"]})]})]}):d.jsx(Je,{to:"/auth",children:d.jsx(Y,{variant:"default",size:"sm",children:"Sign In"})})})]}),d.jsx("div",{className:"lg:hidden",children:d.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>e(!t),"aria-label":"Toggle menu",children:t?d.jsx(Ic,{className:"h-6 w-6"}):d.jsx(D0,{className:"h-6 w-6"})})})]})}),t&&d.jsx("div",{className:"lg:hidden bg-card border-t border-border max-h-[calc(100vh-4rem)] overflow-y-auto safe-area-bottom",children:d.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[r.map(m=>d.jsx(Je,{to:m.path,onClick:()=>e(!1),className:`block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 ${o(m.path)?"bg-primary text-primary-foreground":"text-foreground hover:text-primary hover:bg-muted"}`,children:m.name},m.name)),d.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[d.jsx("span",{className:"text-base font-medium text-foreground",children:"Theme"}),d.jsx(nh,{})]}),n?d.jsxs("div",{className:"px-3 py-2 border-t border-border",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsxs(ni,{className:"h-8 w-8",children:[d.jsx(Ro,{src:(h=n.user_metadata)==null?void 0:h.avatar_url}),d.jsx(ii,{children:l()})]}),d.jsxs("div",{children:[((f=n.user_metadata)==null?void 0:f.full_name)&&d.jsx("p",{className:"font-medium text-sm",children:n.user_metadata.full_name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:n.email})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs(Je,{to:"/profile",onClick:()=>e(!1),className:"flex items-center px-3 py-2 text-sm rounded-md hover:bg-muted",children:[d.jsx(Co,{className:"mr-2 h-4 w-4"}),"Profile"]}),d.jsxs(Y,{variant:"ghost",onClick:()=>{a(),e(!1)},className:"w-full justify-start text-sm px-3 py-2",children:[d.jsx(jl,{className:"mr-2 h-4 w-4"}),"Sign out"]})]})]}):d.jsx("div",{className:"px-3 py-2 border-t border-border",children:d.jsx(Je,{to:"/auth",onClick:()=>e(!1),children:d.jsx(Y,{variant:"default",size:"sm",className:"w-full",children:"Sign In"})})})]})})]})},tE=()=>{const t=[{name:"Home",path:"/"},{name:"About",path:"/about"},{name:"Calculator",path:"/calculator"},{name:"Destinations",path:"/destinations"},{name:"Tips",path:"/tips"}],e=[{name:"Impact Data",path:"/data"},{name:"News & Articles",path:"/news"},{name:"Community",path:"/community"},{name:"Feedback",path:"/feedback"}],s=[{name:"Facebook",icon:L0,href:"#"},{name:"Twitter",icon:F0,href:"#"},{name:"Instagram",icon:$0,href:"#"},{name:"YouTube",icon:V0,href:"#"}];return d.jsx("footer",{className:"bg-primary text-primary-foreground",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[d.jsxs("div",{className:"md:col-span-1",children:[d.jsxs(Je,{to:"/",className:"flex items-center space-x-2 text-primary-foreground font-bold text-xl mb-4",children:[d.jsx(Mt,{className:"h-8 w-8 text-nature-accent"}),d.jsx("span",{children:"EcoTravel"})]}),d.jsx("p",{className:"text-primary-foreground/80 text-sm leading-relaxed",children:"Promoting sustainable tourism practices and raising awareness about climate change impacts on travel destinations worldwide."})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Quick Links"}),d.jsx("ul",{className:"space-y-2",children:t.map(n=>d.jsx("li",{children:d.jsx(Je,{to:n.path,className:"text-primary-foreground/80 hover:text-nature-accent transition-colors duration-200 text-sm",children:n.name})},n.name))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Resources"}),d.jsx("ul",{className:"space-y-2",children:e.map(n=>d.jsx("li",{children:d.jsx(Je,{to:n.path,className:"text-primary-foreground/80 hover:text-nature-accent transition-colors duration-200 text-sm",children:n.name})},n.name))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Connect With Us"}),d.jsx("div",{className:"flex space-x-4 mb-4",children:s.map(n=>{const i=n.icon;return d.jsx("a",{href:n.href,className:"text-primary-foreground/80 hover:text-nature-accent transition-colors duration-200","aria-label":n.name,children:d.jsx(i,{className:"h-5 w-5"})},n.name)})}),d.jsx("p",{className:"text-primary-foreground/80 text-sm",children:"Join our mission for sustainable travel and climate awareness."})]})]}),d.jsx("div",{className:"border-t border-primary-foreground/20 mt-8 pt-8 text-center",children:d.jsxs("p",{className:"text-primary-foreground/60 text-sm",children:["© ",new Date().getFullYear()," EcoTravel Initiative. Built with care for our planet."]})})]})})},qe=y.forwardRef(({className:t,type:e,...s},n)=>d.jsx("input",{type:e,className:H("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...s}));qe.displayName="Input";const ee=y.forwardRef(({className:t,...e},s)=>d.jsx("div",{ref:s,className:H("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ee.displayName="Card";const we=y.forwardRef(({className:t,...e},s)=>d.jsx("div",{ref:s,className:H("flex flex-col space-y-1.5 p-6",t),...e}));we.displayName="CardHeader";const Se=y.forwardRef(({className:t,...e},s)=>d.jsx("h3",{ref:s,className:H("text-2xl font-semibold leading-none tracking-tight",t),...e}));Se.displayName="CardTitle";const Io=y.forwardRef(({className:t,...e},s)=>d.jsx("p",{ref:s,className:H("text-sm text-muted-foreground",t),...e}));Io.displayName="CardDescription";const se=y.forwardRef(({className:t,...e},s)=>d.jsx("div",{ref:s,className:H("p-6 pt-0",t),...e}));se.displayName="CardContent";const sE=y.forwardRef(({className:t,...e},s)=>d.jsx("div",{ref:s,className:H("flex items-center p-6 pt-0",t),...e}));sE.displayName="CardFooter";function Kl(t,[e,s]){return Math.min(s,Math.max(e,t))}function nE(t,e){return y.useReducer((s,n)=>e[s][n]??s,t)}var Zc="ScrollArea",[fx,Y2]=Ms(Zc),[iE,wt]=fx(Zc),mx=y.forwardRef((t,e)=>{const{__scopeScrollArea:s,type:n="hover",dir:i,scrollHideDelay:r=600,...o}=t,[a,l]=y.useState(null),[c,u]=y.useState(null),[h,f]=y.useState(null),[m,p]=y.useState(null),[g,x]=y.useState(null),[v,b]=y.useState(0),[w,S]=y.useState(0),[_,j]=y.useState(!1),[T,C]=y.useState(!1),N=ke(e,P=>l(P)),E=Mc(i);return d.jsx(iE,{scope:s,type:n,dir:E,scrollHideDelay:r,scrollArea:a,viewport:c,onViewportChange:u,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:p,scrollbarXEnabled:_,onScrollbarXEnabledChange:j,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:T,onScrollbarYEnabledChange:C,onCornerWidthChange:b,onCornerHeightChange:S,children:d.jsx(re.div,{dir:E,...o,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});mx.displayName=Zc;var px="ScrollAreaViewport",gx=y.forwardRef((t,e)=>{const{__scopeScrollArea:s,children:n,nonce:i,...r}=t,o=wt(px,s),a=y.useRef(null),l=ke(e,a,o.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),d.jsx(re.div,{"data-radix-scroll-area-viewport":"",...r,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:d.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});gx.displayName=px;var qt="ScrollAreaScrollbar",ed=y.forwardRef((t,e)=>{const{forceMount:s,...n}=t,i=wt(qt,t.__scopeScrollArea),{onScrollbarXEnabledChange:r,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return y.useEffect(()=>(a?r(!0):o(!0),()=>{a?r(!1):o(!1)}),[a,r,o]),i.type==="hover"?d.jsx(rE,{...n,ref:e,forceMount:s}):i.type==="scroll"?d.jsx(oE,{...n,ref:e,forceMount:s}):i.type==="auto"?d.jsx(xx,{...n,ref:e,forceMount:s}):i.type==="always"?d.jsx(td,{...n,ref:e}):null});ed.displayName=qt;var rE=y.forwardRef((t,e)=>{const{forceMount:s,...n}=t,i=wt(qt,t.__scopeScrollArea),[r,o]=y.useState(!1);return y.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),d.jsx(yn,{present:s||r,children:d.jsx(xx,{"data-state":r?"visible":"hidden",...n,ref:e})})}),oE=y.forwardRef((t,e)=>{const{forceMount:s,...n}=t,i=wt(qt,t.__scopeScrollArea),r=t.orientation==="horizontal",o=pa(()=>l("SCROLL_END"),100),[a,l]=nE("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),y.useEffect(()=>{const c=i.viewport,u=r?"scrollLeft":"scrollTop";if(c){let h=c[u];const f=()=>{const m=c[u];h!==m&&(l("SCROLL"),o()),h=m};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,r,l,o]),d.jsx(yn,{present:s||a!=="hidden",children:d.jsx(td,{"data-state":a==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:J(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:J(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),xx=y.forwardRef((t,e)=>{const s=wt(qt,t.__scopeScrollArea),{forceMount:n,...i}=t,[r,o]=y.useState(!1),a=t.orientation==="horizontal",l=pa(()=>{if(s.viewport){const c=s.viewport.offsetWidth<s.viewport.scrollWidth,u=s.viewport.offsetHeight<s.viewport.scrollHeight;o(a?c:u)}},10);return ri(s.viewport,l),ri(s.content,l),d.jsx(yn,{present:n||r,children:d.jsx(td,{"data-state":r?"visible":"hidden",...i,ref:e})})}),td=y.forwardRef((t,e)=>{const{orientation:s="vertical",...n}=t,i=wt(qt,t.__scopeScrollArea),r=y.useRef(null),o=y.useRef(0),[a,l]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=_x(a.viewport,a.content),u={...n,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>r.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return hE(f,o.current,a,m)}return s==="horizontal"?d.jsx(aE,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&r.current){const f=i.viewport.scrollLeft,m=ih(f,a,i.dir);r.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=h(f,i.dir))}}):s==="vertical"?d.jsx(lE,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&r.current){const f=i.viewport.scrollTop,m=ih(f,a);r.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=h(f))}}):null}),aE=y.forwardRef((t,e)=>{const{sizes:s,onSizesChange:n,...i}=t,r=wt(qt,t.__scopeScrollArea),[o,a]=y.useState(),l=y.useRef(null),c=ke(e,l,r.onScrollbarXChange);return y.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(vx,{"data-orientation":"horizontal",...i,ref:c,sizes:s,style:{bottom:0,left:r.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:r.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ma(s)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(r.viewport){const f=r.viewport.scrollLeft+u.deltaX;t.onWheelScroll(f),jx(f,h)&&u.preventDefault()}},onResize:()=>{l.current&&r.viewport&&o&&n({content:r.viewport.scrollWidth,viewport:r.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Oo(o.paddingLeft),paddingEnd:Oo(o.paddingRight)}})}})}),lE=y.forwardRef((t,e)=>{const{sizes:s,onSizesChange:n,...i}=t,r=wt(qt,t.__scopeScrollArea),[o,a]=y.useState(),l=y.useRef(null),c=ke(e,l,r.onScrollbarYChange);return y.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(vx,{"data-orientation":"vertical",...i,ref:c,sizes:s,style:{top:0,right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ma(s)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(r.viewport){const f=r.viewport.scrollTop+u.deltaY;t.onWheelScroll(f),jx(f,h)&&u.preventDefault()}},onResize:()=>{l.current&&r.viewport&&o&&n({content:r.viewport.scrollHeight,viewport:r.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Oo(o.paddingTop),paddingEnd:Oo(o.paddingBottom)}})}})}),[cE,yx]=fx(qt),vx=y.forwardRef((t,e)=>{const{__scopeScrollArea:s,sizes:n,hasThumb:i,onThumbChange:r,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:h,...f}=t,m=wt(qt,s),[p,g]=y.useState(null),x=ke(e,N=>g(N)),v=y.useRef(null),b=y.useRef(""),w=m.viewport,S=n.content-n.viewport,_=lt(u),j=lt(l),T=pa(h,10);function C(N){if(v.current){const E=N.clientX-v.current.left,P=N.clientY-v.current.top;c({x:E,y:P})}}return y.useEffect(()=>{const N=E=>{const P=E.target;(p==null?void 0:p.contains(P))&&_(E,S)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[w,p,S,_]),y.useEffect(j,[n,j]),ri(p,T),ri(m.content,T),d.jsx(cE,{scope:s,scrollbar:p,hasThumb:i,onThumbChange:lt(r),onThumbPointerUp:lt(o),onThumbPositionChange:j,onThumbPointerDown:lt(a),children:d.jsx(re.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:J(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),v.current=p.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),C(N))}),onPointerMove:J(t.onPointerMove,C),onPointerUp:J(t.onPointerUp,N=>{const E=N.target;E.hasPointerCapture(N.pointerId)&&E.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),v.current=null})})})}),Mo="ScrollAreaThumb",bx=y.forwardRef((t,e)=>{const{forceMount:s,...n}=t,i=yx(Mo,t.__scopeScrollArea);return d.jsx(yn,{present:s||i.hasThumb,children:d.jsx(dE,{ref:e,...n})})}),dE=y.forwardRef((t,e)=>{const{__scopeScrollArea:s,style:n,...i}=t,r=wt(Mo,s),o=yx(Mo,s),{onThumbPositionChange:a}=o,l=ke(e,h=>o.onThumbChange(h)),c=y.useRef(void 0),u=pa(()=>{c.current&&(c.current(),c.current=void 0)},100);return y.useEffect(()=>{const h=r.viewport;if(h){const f=()=>{if(u(),!c.current){const m=fE(h,a);c.current=m,a()}};return a(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[r.viewport,u,a]),d.jsx(re.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:J(t.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),p=h.clientX-m.left,g=h.clientY-m.top;o.onThumbPointerDown({x:p,y:g})}),onPointerUp:J(t.onPointerUp,o.onThumbPointerUp)})});bx.displayName=Mo;var sd="ScrollAreaCorner",wx=y.forwardRef((t,e)=>{const s=wt(sd,t.__scopeScrollArea),n=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&n?d.jsx(uE,{...t,ref:e}):null});wx.displayName=sd;var uE=y.forwardRef((t,e)=>{const{__scopeScrollArea:s,...n}=t,i=wt(sd,s),[r,o]=y.useState(0),[a,l]=y.useState(0),c=!!(r&&a);return ri(i.scrollbarX,()=>{var h;const u=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),ri(i.scrollbarY,()=>{var h;const u=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),c?d.jsx(re.div,{...n,ref:e,style:{width:r,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Oo(t){return t?parseInt(t,10):0}function _x(t,e){const s=t/e;return isNaN(s)?0:s}function ma(t){const e=_x(t.viewport,t.content),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-s)*e;return Math.max(n,18)}function hE(t,e,s,n="ltr"){const i=ma(s),r=i/2,o=e||r,a=i-o,l=s.scrollbar.paddingStart+o,c=s.scrollbar.size-s.scrollbar.paddingEnd-a,u=s.content-s.viewport,h=n==="ltr"?[0,u]:[u*-1,0];return Sx([l,c],h)(t)}function ih(t,e,s="ltr"){const n=ma(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=e.scrollbar.size-i,o=e.content-e.viewport,a=r-n,l=s==="ltr"?[0,o]:[o*-1,0],c=Kl(t,l);return Sx([0,o],[0,a])(c)}function Sx(t,e){return s=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(s-t[0])}}function jx(t,e){return t>0&&t<e}var fE=(t,e=()=>{})=>{let s={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const r={left:t.scrollLeft,top:t.scrollTop},o=s.left!==r.left,a=s.top!==r.top;(o||a)&&e(),s=r,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function pa(t,e){const s=lt(t),n=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),y.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(s,e)},[s,e])}function ri(t,e){const s=lt(e);at(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(s)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,s])}var Tx=mx,mE=gx,pE=wx;const Cx=y.forwardRef(({className:t,children:e,...s},n)=>d.jsxs(Tx,{ref:n,className:H("relative overflow-hidden",t),...s,children:[d.jsx(mE,{className:"h-full w-full rounded-[inherit]",children:e}),d.jsx(Ex,{}),d.jsx(pE,{})]}));Cx.displayName=Tx.displayName;const Ex=y.forwardRef(({className:t,orientation:e="vertical",...s},n)=>d.jsx(ed,{ref:n,orientation:e,className:H("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...s,children:d.jsx(bx,{className:"relative flex-1 rounded-full bg-border"})}));Ex.displayName=ed.displayName;var rh;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(rh||(rh={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oh;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(oh||(oh={}));var ah;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(ah||(ah={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=["user","model","function","system"];var ch;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(ch||(ch={}));var dh;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(dh||(dh={}));var uh;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(uh||(uh={}));var hh;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(hh||(hh={}));var Wi;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Wi||(Wi={}));var fh;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(fh||(fh={}));var mh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(mh||(mh={}));var ph;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ph||(ph={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Pn extends He{constructor(e,s){super(e),this.response=s}}class Nx extends He{constructor(e,s,n,i){super(e),this.status=s,this.statusText=n,this.errorDetails=i}}class Ns extends He{}class kx extends He{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="https://generativelanguage.googleapis.com",xE="v1beta",yE="0.24.1",vE="genai-js";var fn;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(fn||(fn={}));class bE{constructor(e,s,n,i,r){this.model=e,this.task=s,this.apiKey=n,this.stream=i,this.requestOptions=r}toString(){var e,s;const n=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||xE;let r=`${((s=this.requestOptions)===null||s===void 0?void 0:s.baseUrl)||gE}/${n}/${this.model}:${this.task}`;return this.stream&&(r+="?alt=sse"),r}}function wE(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${vE}/${yE}`),e.join(" ")}async function _E(t){var e;const s=new Headers;s.append("Content-Type","application/json"),s.append("x-goog-api-client",wE(t.requestOptions)),s.append("x-goog-api-key",t.apiKey);let n=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(i){throw new Ns(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${i.message}`)}for(const[i,r]of n.entries()){if(i==="x-goog-api-key")throw new Ns(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Ns(`Header name ${i} can only be set using the apiClient field`);s.append(i,r)}}return s}async function SE(t,e,s,n,i,r){const o=new bE(t,e,s,n,r);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},EE(r)),{method:"POST",headers:await _E(o),body:i})}}async function Ar(t,e,s,n,i,r={},o=fetch){const{url:a,fetchOptions:l}=await SE(t,e,s,n,i,r);return jE(a,l,o)}async function jE(t,e,s=fetch){let n;try{n=await s(t,e)}catch(i){TE(i,t)}return n.ok||await CE(n,t),n}function TE(t,e){let s=t;throw s.name==="AbortError"?(s=new kx(`Request aborted when fetching ${e.toString()}: ${t.message}`),s.stack=t.stack):t instanceof Nx||t instanceof Ns||(s=new He(`Error fetching from ${e.toString()}: ${t.message}`),s.stack=t.stack),s}async function CE(t,e){let s="",n;try{const i=await t.json();s=i.error.message,i.error.details&&(s+=` ${JSON.stringify(i.error.details)}`,n=i.error.details)}catch{}throw new Nx(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${s}`,t.status,t.statusText,n)}function EE(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const s=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>s.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{s.abort()}),e.signal=s.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),po(t.candidates[0]))throw new Pn(`${ys(t)}`,t);return NE(t)}else if(t.promptFeedback)throw new Pn(`Text not available. ${ys(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),po(t.candidates[0]))throw new Pn(`${ys(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),gh(t)[0]}else if(t.promptFeedback)throw new Pn(`Function call not available. ${ys(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),po(t.candidates[0]))throw new Pn(`${ys(t)}`,t);return gh(t)}else if(t.promptFeedback)throw new Pn(`Function call not available. ${ys(t)}`,t)},t}function NE(t){var e,s,n,i;const r=[];if(!((s=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||s===void 0)&&s.parts)for(const o of(i=(n=t.candidates)===null||n===void 0?void 0:n[0].content)===null||i===void 0?void 0:i.parts)o.text&&r.push(o.text),o.executableCode&&r.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&r.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return r.length>0?r.join(""):""}function gh(t){var e,s,n,i;const r=[];if(!((s=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||s===void 0)&&s.parts)for(const o of(i=(n=t.candidates)===null||n===void 0?void 0:n[0].content)===null||i===void 0?void 0:i.parts)o.functionCall&&r.push(o.functionCall);if(r.length>0)return r}const kE=[Wi.RECITATION,Wi.SAFETY,Wi.LANGUAGE];function po(t){return!!t.finishReason&&kE.includes(t.finishReason)}function ys(t){var e,s,n;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((s=t.promptFeedback)===null||s===void 0)&&s.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((n=t.candidates)===null||n===void 0)&&n[0]){const r=t.candidates[0];po(r)&&(i+=`Candidate was blocked due to ${r.finishReason}`,r.finishMessage&&(i+=`: ${r.finishMessage}`))}return i}function rr(t){return this instanceof rr?(this.v=t,this):new rr(t)}function PE(t,e,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s.apply(t,e||[]),i,r=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(m){return new Promise(function(p,g){r.push([f,m,p,g])>1||a(f,m)})})}function a(f,m){try{l(n[f](m))}catch(p){h(r[0][3],p)}}function l(f){f.value instanceof rr?Promise.resolve(f.value.v).then(c,u):h(r[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function h(f,m){f(m),r.shift(),r.length&&a(r[0][0],r[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function AE(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),s=ME(e),[n,i]=s.tee();return{stream:IE(n),response:RE(i)}}async function RE(t){const e=[],s=t.getReader();for(;;){const{done:n,value:i}=await s.read();if(n)return nd(OE(e));e.push(i)}}function IE(t){return PE(this,arguments,function*(){const s=t.getReader();for(;;){const{value:n,done:i}=yield rr(s.read());if(i)break;yield yield rr(nd(n))}})}function ME(t){const e=t.getReader();return new ReadableStream({start(n){let i="";return r();function r(){return e.read().then(({value:o,done:a})=>{if(a){if(i.trim()){n.error(new He("Failed to parse stream"));return}n.close();return}i+=o;let l=i.match(xh),c;for(;l;){try{c=JSON.parse(l[1])}catch{n.error(new He(`Error parsing JSON response: "${l[1]}"`));return}n.enqueue(c),i=i.substring(l[0].length),l=i.match(xh)}return r()}).catch(o=>{let a=o;throw a.stack=o.stack,a.name==="AbortError"?a=new kx("Request aborted when reading from the stream"):a=new He("Error reading from the stream"),a})}}})}function OE(t){const e=t[t.length-1],s={promptFeedback:e==null?void 0:e.promptFeedback};for(const n of t){if(n.candidates){let i=0;for(const r of n.candidates)if(s.candidates||(s.candidates=[]),s.candidates[i]||(s.candidates[i]={index:i}),s.candidates[i].citationMetadata=r.citationMetadata,s.candidates[i].groundingMetadata=r.groundingMetadata,s.candidates[i].finishReason=r.finishReason,s.candidates[i].finishMessage=r.finishMessage,s.candidates[i].safetyRatings=r.safetyRatings,r.content&&r.content.parts){s.candidates[i].content||(s.candidates[i].content={role:r.content.role||"user",parts:[]});const o={};for(const a of r.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),s.candidates[i].content.parts.push(o)}i++}n.usageMetadata&&(s.usageMetadata=n.usageMetadata)}return s}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(t,e,s,n){const i=await Ar(e,fn.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(s),n);return AE(i)}async function Ax(t,e,s,n){const r=await(await Ar(e,fn.GENERATE_CONTENT,t,!1,JSON.stringify(s),n)).json();return{response:nd(r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function or(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const s of t)typeof s=="string"?e.push({text:s}):e.push(s);return DE(e)}function DE(t){const e={role:"user",parts:[]},s={role:"function",parts:[]};let n=!1,i=!1;for(const r of t)"functionResponse"in r?(s.parts.push(r),i=!0):(e.parts.push(r),n=!0);if(n&&i)throw new He("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!i)throw new He("No content is provided for sending chat message.");return n?e:s}function LE(t,e){var s;let n={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(s=e==null?void 0:e.cachedContent)===null||s===void 0?void 0:s.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new Ns("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=t.contents}else if(i)n=Object.assign(Object.assign({},n),t.generateContentRequest);else{const r=or(t);n.contents=[r]}return{generateContentRequest:n}}function yh(t){let e;return t.contents?e=t:e={contents:[or(t)]},t.systemInstruction&&(e.systemInstruction=Rx(t.systemInstruction)),e}function FE(t){return typeof t=="string"||Array.isArray(t)?{content:or(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],$E={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function VE(t){let e=!1;for(const s of t){const{role:n,parts:i}=s;if(!e&&n!=="user")throw new He(`First content should be with role 'user', got ${n}`);if(!lh.includes(n))throw new He(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(lh)}`);if(!Array.isArray(i))throw new He("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new He("Each Content should have at least one part");const r={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of i)for(const l of vh)l in a&&(r[l]+=1);const o=$E[n];for(const a of vh)if(!o.includes(a)&&r[a]>0)throw new He(`Content with role '${n}' can't contain '${a}' part`);e=!0}}function bh(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const s=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(s===void 0||s.parts===void 0||s.parts.length===0)return!1;for(const n of s.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="SILENT_ERROR";class BE{constructor(e,s,n,i={}){this.model=s,this.params=n,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,n!=null&&n.history&&(VE(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,s={}){var n,i,r,o,a,l;await this._sendPromise;const c=or(e),u={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(r=this.params)===null||r===void 0?void 0:r.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},h=Object.assign(Object.assign({},this._requestOptions),s);let f;return this._sendPromise=this._sendPromise.then(()=>Ax(this._apiKey,this.model,u,h)).then(m=>{var p;if(bh(m.response)){this._history.push(c);const g=Object.assign({parts:[],role:"model"},(p=m.response.candidates)===null||p===void 0?void 0:p[0].content);this._history.push(g)}else{const g=ys(m.response);g&&console.warn(`sendMessage() was unsuccessful. ${g}. Inspect response object for details.`)}f=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,f}async sendMessageStream(e,s={}){var n,i,r,o,a,l;await this._sendPromise;const c=or(e),u={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(r=this.params)===null||r===void 0?void 0:r.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},h=Object.assign(Object.assign({},this._requestOptions),s),f=Px(this._apiKey,this.model,u,h);return this._sendPromise=this._sendPromise.then(()=>f).catch(m=>{throw new Error(wh)}).then(m=>m.response).then(m=>{if(bh(m)){this._history.push(c);const p=Object.assign({},m.candidates[0].content);p.role||(p.role="model"),this._history.push(p)}else{const p=ys(m);p&&console.warn(`sendMessageStream() was unsuccessful. ${p}. Inspect response object for details.`)}}).catch(m=>{m.message!==wh&&console.error(m)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UE(t,e,s,n){return(await Ar(e,fn.COUNT_TOKENS,t,!1,JSON.stringify(s),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zE(t,e,s,n){return(await Ar(e,fn.EMBED_CONTENT,t,!1,JSON.stringify(s),n)).json()}async function HE(t,e,s,n){const i=s.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await Ar(e,fn.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,s,n={}){this.apiKey=e,this._requestOptions=n,s.model.includes("/")?this.model=s.model:this.model=`models/${s.model}`,this.generationConfig=s.generationConfig||{},this.safetySettings=s.safetySettings||[],this.tools=s.tools,this.toolConfig=s.toolConfig,this.systemInstruction=Rx(s.systemInstruction),this.cachedContent=s.cachedContent}async generateContent(e,s={}){var n;const i=yh(e),r=Object.assign(Object.assign({},this._requestOptions),s);return Ax(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},i),r)}async generateContentStream(e,s={}){var n;const i=yh(e),r=Object.assign(Object.assign({},this._requestOptions),s);return Px(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},i),r)}startChat(e){var s;return new BE(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},e),this._requestOptions)}async countTokens(e,s={}){const n=LE(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),s);return UE(this.apiKey,this.model,n,i)}async embedContent(e,s={}){const n=FE(e),i=Object.assign(Object.assign({},this._requestOptions),s);return zE(this.apiKey,this.model,n,i)}async batchEmbedContents(e,s={}){const n=Object.assign(Object.assign({},this._requestOptions),s);return HE(this.apiKey,this.model,e,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.apiKey=e}getGenerativeModel(e,s){if(!e.model)throw new He("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new _h(this.apiKey,e,s)}getGenerativeModelFromCachedContent(e,s,n){if(!e.name)throw new Ns("Cached content must contain a `name` field.");if(!e.model)throw new Ns("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const o of i)if(s!=null&&s[o]&&e[o]&&(s==null?void 0:s[o])!==e[o]){if(o==="model"){const a=s.model.startsWith("models/")?s.model.replace("models/",""):s.model,l=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(a===l)continue}throw new Ns(`Different value for "${o}" specified in modelParams (${s[o]}) and cachedContent (${e[o]})`)}const r=Object.assign(Object.assign({},s),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new _h(this.apiKey,r,n)}}const ks="AIzaSyA_LpgLu6bQKyCOyo07tXSco22Zwwym66o";console.log("=== GEMINI API DEBUG ===");console.log("API Key exists:",!!ks);console.log("API Key length:",ks==null?void 0:ks.length);console.log("API Key preview:",(ks==null?void 0:ks.substring(0,10))+"...");const GE=new WE(ks);class KE{constructor(){B(this,"model");console.log("Initializing Gemini Chat Service...");try{this.model=GE.getGenerativeModel({model:"models/gemini-1.5-flash-8b",generationConfig:{maxOutputTokens:300,temperature:.7}}),console.log("Gemini service initialized successfully")}catch(e){throw console.error("Error initializing Gemini service:",e),e}}async sendMessage(e){var s,n,i,r,o,a,l,c,u,h,f,m;console.log("=== SENDING MESSAGE ==="),console.log("Input message:",e);try{if(!e||e.trim().length===0)throw new Error("Message cannot be empty");const p=`You are EcoBot, a friendly assistant for sustainable travel. Answer this question about eco-friendly travel in a helpful way (max 2-3 sentences): ${e}`;console.log("Sending prompt to Gemini API..."),console.log("Prompt length:",p.length);const g=await this.model.generateContent(p);console.log("Received result from Gemini API");const v=(await g.response).text();if(console.log("Response received:",v.substring(0,100)+"..."),console.log("Response length:",v.length),!v||v.trim().length===0)throw new Error("Empty response from Gemini API");return v.trim()}catch(p){throw console.error("=== GEMINI API ERROR ==="),console.error("Error type:",(s=p==null?void 0:p.constructor)==null?void 0:s.name),console.error("Error message:",p==null?void 0:p.message),console.error("Error code:",p==null?void 0:p.code),console.error("Error status:",p==null?void 0:p.status),console.error("Full error:",p),(n=p==null?void 0:p.message)!=null&&n.includes("API_KEY_INVALID")||(i=p==null?void 0:p.message)!=null&&i.includes("API key")?new Error("❌ Invalid API key. Please verify your Gemini API key is correct."):(r=p==null?void 0:p.message)!=null&&r.includes("PERMISSION_DENIED")?new Error("❌ Permission denied. Please check your API key permissions."):(o=p==null?void 0:p.message)!=null&&o.includes("quota")||(a=p==null?void 0:p.message)!=null&&a.includes("QUOTA_EXCEEDED")||(p==null?void 0:p.status)===429?new Error("❌ API quota exceeded. Your free tier limit has been reached. Please wait a few minutes or upgrade your Gemini API plan."):(l=p==null?void 0:p.message)!=null&&l.includes("RESOURCE_EXHAUSTED")?new Error("❌ API rate limit exceeded. Please wait a moment and try again."):(c=p==null?void 0:p.message)!=null&&c.includes("Too Many Requests")?new Error("❌ Too many requests. Please wait before trying again. Free tier has limited requests per minute."):(u=p==null?void 0:p.message)!=null&&u.includes("network")||(h=p==null?void 0:p.message)!=null&&h.includes("fetch")||(p==null?void 0:p.code)==="NETWORK_ERROR"?new Error("❌ Network error. Please check your internet connection."):(f=p==null?void 0:p.message)!=null&&f.includes("blocked")||(m=p==null?void 0:p.message)!=null&&m.includes("safety")?new Error("❌ Message was blocked by safety filters. Please try rephrasing your question."):new Error(`❌ Gemini API Error: ${(p==null?void 0:p.message)||"Unknown error occurred"}`)}}resetChat(){console.log("Chat reset requested")}}const qE=()=>{const[t,e]=y.useState(!1),[s,n]=y.useState(!1),[i,r]=y.useState([{id:"1",role:"assistant",content:"Hello! I'm EcoBot, your sustainable travel assistant. I can help you with eco-friendly travel tips, destination recommendations, and reducing your carbon footprint. How can I assist you today?",timestamp:new Date}]),[o,a]=y.useState(""),[l,c]=y.useState(!1),[u]=y.useState(()=>new KE),[h,f]=y.useState(!1),[m,p]=y.useState(!1),[g,x]=y.useState(!1),[v,b]=y.useState(!0),w=y.useRef(null),S=y.useRef(null),_=y.useRef(null),j=()=>{var M;(M=w.current)==null||M.scrollIntoView({behavior:"smooth"})};y.useEffect(()=>{const M=window.SpeechRecognition||window.webkitSpeechRecognition;if(M){x(!0);const O=new M;O.continuous=!1,O.interimResults=!1,O.lang="en-US",O.onstart=()=>{console.log("🎤 Speech recognition started"),f(!0)},O.onend=()=>{console.log("🎤 Speech recognition ended"),f(!1)},O.onresult=D=>{var R,z;const L=(z=(R=D.results[0])==null?void 0:R[0])==null?void 0:z.transcript;L&&(console.log("🎤 Speech recognized:",L),a(L),setTimeout(()=>{L.trim()&&P(L.trim())},100))},O.onerror=D=>{var z;console.error("🎤 Speech recognition error:",D.error),f(!1);let L="Voice recognition failed. ";switch(D.error){case"not-allowed":L+="Please allow microphone access.";break;case"no-speech":L+="No speech detected. Please try again.";break;case"network":L+="Network error. Check your connection.";break;default:L+="Please try again."}const R=(z=S.current)==null?void 0:z.placeholder;S.current&&(S.current.placeholder=L,setTimeout(()=>{S.current&&R&&(S.current.placeholder=R)},3e3))},_.current=O}else console.warn("🎤 Speech Recognition not supported in this browser"),x(!1);return()=>{_.current&&_.current.abort()}},[]),y.useEffect(()=>()=>{"speechSynthesis"in window&&window.speechSynthesis.cancel()},[t]);const T=M=>{if(!v||!("speechSynthesis"in window))return;window.speechSynthesis.cancel(),p(!0);const O=new SpeechSynthesisUtterance(M);O.rate=.9,O.pitch=1,O.volume=.8;const L=window.speechSynthesis.getVoices().find(R=>R.name.includes("Google")||R.name.includes("Microsoft")||R.lang.startsWith("en"));L&&(O.voice=L),O.onstart=()=>{console.log("🔊 Speaking started"),p(!0)},O.onend=()=>{console.log("🔊 Speaking ended"),p(!1)},O.onerror=R=>{console.error("🔊 Speech synthesis error:",R),p(!1)},window.speechSynthesis.speak(O)},C=()=>{if(!g||!_.current){alert("Speech recognition is not supported in your browser. Please use Chrome, Edge, or Safari.");return}h?_.current.stop():(a(""),_.current.start())},N=()=>{"speechSynthesis"in window&&(window.speechSynthesis.cancel(),p(!1))};y.useEffect(()=>{j()},[i]),y.useEffect(()=>{t&&!s&&S.current&&S.current.focus()},[t,s]);const E=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),P=async M=>{const O=M||o.trim();if(!O||l)return;const D={id:E(),role:"user",content:O,timestamp:new Date};r(L=>[...L,D]),a(""),c(!0);try{console.log("Attempting to send message to chat service...");const L=await u.sendMessage(D.content);console.log("Received response from chat service:",L.substring(0,100)+"...");const R={id:E(),role:"assistant",content:L,timestamp:new Date};r(z=>[...z,R]),v&&L&&setTimeout(()=>{T(L)},300)}catch(L){console.error("Chat error details:",L);let R="I apologize, but I'm having trouble responding right now. ";L!=null&&L.message?R+=`Error: ${L.message}`:R+="Please try again in a moment.";const z={id:E(),role:"assistant",content:R,timestamp:new Date};r(de=>[...de,z]),v&&setTimeout(()=>{T("I apologize, but I'm having trouble responding right now. Please try again.")},300)}finally{c(!1)}},A=M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),P())},W=()=>{r([{id:E(),role:"assistant",content:"Chat cleared! How can I help you with your eco-travel plans?",timestamp:new Date}]),u.resetChat()},F=M=>M.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return t?d.jsx("div",{className:"fixed bottom-4 sm:bottom-6 right-4 sm:right-6 z-50 safe-area-bottom",children:d.jsxs(ee,{className:`transition-all duration-300 shadow-2xl ${s?"w-72 sm:w-80 h-14 sm:h-16":"w-[calc(100vw-2rem)] sm:w-80 md:w-96 h-[calc(100vh-6rem)] sm:h-[500px] md:h-[600px] max-w-md"}`,children:[d.jsx(we,{className:"p-3 sm:p-4 bg-gradient-to-r from-nature-primary to-nature-accent text-white rounded-t-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ma,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),d.jsx(Se,{className:"text-base sm:text-lg font-semibold",children:"EcoBot"}),d.jsx("div",{className:"h-1.5 w-1.5 sm:h-2 sm:w-2 bg-red-400 rounded-full animate-pulse flex-shrink-0"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>n(!s),className:"text-white hover:bg-white/20 h-7 w-7 sm:h-8 sm:w-8 p-0 touch-target",children:s?d.jsx(B0,{className:"h-3 w-3 sm:h-4 sm:w-4"}):d.jsx(U0,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),d.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>e(!1),className:"text-white hover:bg-white/20 h-7 w-7 sm:h-8 sm:w-8 p-0 touch-target",children:d.jsx(Ic,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]})}),!s&&d.jsx(d.Fragment,{children:d.jsxs(se,{className:"p-0 h-[calc(100%-8rem)] sm:h-[420px] md:h-[480px] flex flex-col",children:[d.jsxs(Cx,{className:"flex-1 p-3 sm:p-4",children:[d.jsxs("div",{className:"space-y-4",children:[i.map(M=>d.jsxs("div",{className:`flex gap-3 ${M.role==="user"?"justify-end":"justify-start"}`,children:[M.role==="assistant"&&d.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-nature-accent rounded-full flex items-center justify-center",children:d.jsx(Ma,{className:"h-4 w-4 text-white"})}),d.jsxs("div",{className:`max-w-[200px] sm:max-w-[250px] rounded-lg p-2 sm:p-3 ${M.role==="user"?"bg-nature-primary text-white":"bg-muted text-foreground"}`,children:[d.jsx("p",{className:"text-xs sm:text-sm whitespace-pre-wrap break-words",children:M.content}),d.jsx("p",{className:"text-xs mt-1 opacity-70",children:F(M.timestamp)})]}),M.role==="user"&&d.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-nature-primary rounded-full flex items-center justify-center",children:d.jsx(Co,{className:"h-4 w-4 text-white"})})]},M.id)),l&&d.jsxs("div",{className:"flex gap-3 justify-start",children:[d.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-nature-accent rounded-full flex items-center justify-center",children:d.jsx(Ma,{className:"h-4 w-4 text-white"})}),d.jsx("div",{className:"bg-muted rounded-lg p-3",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(tr,{className:"h-4 w-4 animate-spin"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"EcoBot is thinking..."})]})})]})]}),d.jsx("div",{ref:w})]}),d.jsxs("div",{className:"p-3 sm:p-4 border-t",children:[d.jsxs("div",{className:"flex gap-1 sm:gap-2",children:[d.jsx(qe,{ref:S,value:o,onChange:M=>a(M.target.value),onKeyPress:A,placeholder:h?"🎤 Listening...":"Ask about eco-travel...",disabled:l||h,className:"flex-1 text-xs sm:text-sm"}),g&&d.jsx(Y,{onClick:C,disabled:l,size:"sm",variant:h?"destructive":"outline",className:`${h?"animate-pulse":""} touch-target min-w-[2rem] sm:min-w-[2.5rem]`,title:h?"Stop listening":"Start voice input",children:h?d.jsx(z0,{className:"h-3 w-3 sm:h-4 sm:w-4"}):d.jsx(Oa,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),"speechSynthesis"in window&&d.jsx(Y,{onClick:()=>{m?N():b(!v)},size:"sm",variant:"outline",className:`${m?"animate-pulse":""} touch-target min-w-[2rem] sm:min-w-[2.5rem]`,title:m?"Stop speaking":v?"Disable voice responses":"Enable voice responses",children:m?d.jsx(gu,{className:"h-3 w-3 sm:h-4 sm:w-4"}):v?d.jsx(xu,{className:"h-3 w-3 sm:h-4 sm:w-4"}):d.jsx(gu,{className:"h-3 w-3 sm:h-4 sm:w-4 opacity-50"})}),d.jsx(Y,{onClick:()=>P(),disabled:!o.trim()||l||h,size:"sm",className:"bg-nature-accent hover:bg-nature-accent/90 touch-target min-w-[2rem] sm:min-w-[2.5rem]",children:d.jsx(_p,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx(Y,{variant:"ghost",size:"sm",onClick:W,className:"text-xs text-muted-foreground hover:text-foreground h-6 px-2",children:"Clear chat"}),d.jsxs("div",{className:"flex items-center gap-2",children:[g&&d.jsx("span",{className:"text-xs text-muted-foreground",children:h?"🎤 Listening...":"Click mic to speak"}),!g&&d.jsx("span",{className:"text-xs text-muted-foreground",children:"Voice not supported"})]})]}),g&&d.jsxs("div",{className:"mt-2 text-xs text-muted-foreground bg-muted/50 rounded p-2 hidden sm:block",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx(Oa,{className:"h-3 w-3"}),d.jsx("span",{className:"font-medium",children:"Voice Commands:"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{children:["• Click ",d.jsx(Oa,{className:"h-3 w-3 inline"})," to speak your message"]}),d.jsx("div",{children:"• Responses will be read aloud automatically"}),d.jsxs("div",{children:["• Click ",d.jsx(xu,{className:"h-3 w-3 inline"})," to toggle voice responses"]})]})]})]})]})})]})}):d.jsxs("div",{className:"fixed bottom-4 sm:bottom-6 right-4 sm:right-6 z-50 safe-area-bottom",children:[d.jsx(Y,{onClick:()=>e(!0),size:"lg",className:"rounded-full h-12 w-12 sm:h-14 sm:w-14 shadow-lg hover:shadow-xl transition-all duration-300 bg-nature-accent hover:bg-nature-accent/90 chatbot-pulse touch-target",title:"Chat with EcoBot - Your sustainable travel assistant",children:d.jsx(uo,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),d.jsx("div",{className:"absolute -top-1 -right-1 sm:-top-2 sm:-right-2 h-3 w-3 sm:h-4 sm:w-4 bg-red-600 rounded-full animate-pulse"})]})},Ix=y.createContext({});function YE(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const id=typeof window<"u",XE=id?y.useLayoutEffect:y.useEffect,rd=y.createContext(null);function od(t,e){t.indexOf(e)===-1&&t.push(e)}function ad(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}const rs=(t,e,s)=>s>e?e:s<t?t:s;let Do=()=>{};const os={},Mx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Ox(t){return typeof t=="object"&&t!==null}const Dx=t=>/^0[^.\s]+$/u.test(t);function ld(t){let e;return()=>(e===void 0&&(e=t()),e)}const xt=t=>t,JE=(t,e)=>s=>e(t(s)),Rr=(...t)=>t.reduce(JE),ar=(t,e,s)=>{const n=e-t;return n===0?1:(s-t)/n};class cd{constructor(){this.subscriptions=[]}add(e){return od(this.subscriptions,e),()=>ad(this.subscriptions,e)}notify(e,s,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,s,n);else for(let r=0;r<i;r++){const o=this.subscriptions[r];o&&o(e,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wt=t=>t*1e3,pt=t=>t/1e3;function Lx(t,e){return e?t*(1e3/e):0}const Fx=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,QE=1e-7,ZE=12;function eN(t,e,s,n,i){let r,o,a=0;do o=e+(s-e)/2,r=Fx(o,n,i)-t,r>0?s=o:e=o;while(Math.abs(r)>QE&&++a<ZE);return o}function Ir(t,e,s,n){if(t===e&&s===n)return xt;const i=r=>eN(r,0,1,t,s);return r=>r===0||r===1?r:Fx(i(r),e,n)}const $x=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Vx=t=>e=>1-t(1-e),Bx=Ir(.33,1.53,.69,.99),dd=Vx(Bx),Ux=$x(dd),zx=t=>(t*=2)<1?.5*dd(t):.5*(2-Math.pow(2,-10*(t-1))),ud=t=>1-Math.sin(Math.acos(t)),Hx=Vx(ud),Wx=$x(ud),tN=Ir(.42,0,1,1),sN=Ir(0,0,.58,1),Gx=Ir(.42,0,.58,1),nN=t=>Array.isArray(t)&&typeof t[0]!="number",Kx=t=>Array.isArray(t)&&typeof t[0]=="number",Sh={linear:xt,easeIn:tN,easeInOut:Gx,easeOut:sN,circIn:ud,circInOut:Wx,circOut:Hx,backIn:dd,backInOut:Ux,backOut:Bx,anticipate:zx},iN=t=>typeof t=="string",jh=t=>{if(Kx(t)){Do(t.length===4);const[e,s,n,i]=t;return Ir(e,s,n,i)}else if(iN(t))return Do(Sh[t]!==void 0),Sh[t];return t},Gr=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Th={value:null,addProjectionMetrics:null};function rN(t,e){let s=new Set,n=new Set,i=!1,r=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(u.schedule(h),t()),l++,h(a)}const u={schedule:(h,f=!1,m=!1)=>{const g=m&&i?s:n;return f&&o.add(h),g.has(h)||g.add(h),h},cancel:h=>{n.delete(h),o.delete(h)},process:h=>{if(a=h,i){r=!0;return}i=!0,[s,n]=[n,s],s.forEach(c),e&&Th.value&&Th.value.frameloop[e].push(l),l=0,s.clear(),i=!1,r&&(r=!1,u.process(h))}};return u}const oN=40;function qx(t,e){let s=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>s=!0,o=Gr.reduce((w,S)=>(w[S]=rN(r,e?S:void 0),w),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:h,preRender:f,render:m,postRender:p}=o,g=()=>{const w=os.useManualTiming?i.timestamp:performance.now();s=!1,os.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(w-i.timestamp,oN),1)),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),h.process(i),f.process(i),m.process(i),p.process(i),i.isProcessing=!1,s&&e&&(n=!1,t(g))},x=()=>{s=!0,n=!0,i.isProcessing||t(g)};return{schedule:Gr.reduce((w,S)=>{const _=o[S];return w[S]=(j,T=!1,C=!1)=>(s||x(),_.schedule(j,T,C)),w},{}),cancel:w=>{for(let S=0;S<Gr.length;S++)o[Gr[S]].cancel(w)},state:i,steps:o}}const{schedule:je,cancel:As,state:Ve,steps:Ja}=qx(typeof requestAnimationFrame<"u"?requestAnimationFrame:xt,!0);let go;function aN(){go=void 0}const ot={now:()=>(go===void 0&&ot.set(Ve.isProcessing||os.useManualTiming?Ve.timestamp:performance.now()),go),set:t=>{go=t,queueMicrotask(aN)}},Yx=t=>e=>typeof e=="string"&&e.startsWith(t),hd=Yx("--"),lN=Yx("var(--"),fd=t=>lN(t)?cN.test(t.split("/*")[0].trim()):!1,cN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},lr={...fi,transform:t=>rs(0,1,t)},Kr={...fi,default:1},Gi=t=>Math.round(t*1e5)/1e5,md=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function dN(t){return t==null}const uN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pd=(t,e)=>s=>!!(typeof s=="string"&&uN.test(s)&&s.startsWith(t)||e&&!dN(s)&&Object.prototype.hasOwnProperty.call(s,e)),Xx=(t,e,s)=>n=>{if(typeof n!="string")return n;const[i,r,o,a]=n.match(md);return{[t]:parseFloat(i),[e]:parseFloat(r),[s]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},hN=t=>rs(0,255,t),Qa={...fi,transform:t=>Math.round(hN(t))},Qs={test:pd("rgb","red"),parse:Xx("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:n=1})=>"rgba("+Qa.transform(t)+", "+Qa.transform(e)+", "+Qa.transform(s)+", "+Gi(lr.transform(n))+")"};function fN(t){let e="",s="",n="",i="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,s+=s,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const ql={test:pd("#"),parse:fN,transform:Qs.transform},Mr=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xs=Mr("deg"),Gt=Mr("%"),U=Mr("px"),mN=Mr("vh"),pN=Mr("vw"),Ch={...Gt,parse:t=>Gt.parse(t)/100,transform:t=>Gt.transform(t*100)},On={test:pd("hsl","hue"),parse:Xx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:n=1})=>"hsla("+Math.round(t)+", "+Gt.transform(Gi(e))+", "+Gt.transform(Gi(s))+", "+Gi(lr.transform(n))+")"},Me={test:t=>Qs.test(t)||ql.test(t)||On.test(t),parse:t=>Qs.test(t)?Qs.parse(t):On.test(t)?On.parse(t):ql.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qs.transform(t):On.transform(t),getAnimatableNone:t=>{const e=Me.parse(t);return e.alpha=0,Me.transform(e)}},gN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xN(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(md))==null?void 0:e.length)||0)+(((s=t.match(gN))==null?void 0:s.length)||0)>0}const Jx="number",Qx="color",yN="var",vN="var(",Eh="${}",bN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cr(t){const e=t.toString(),s=[],n={color:[],number:[],var:[]},i=[];let r=0;const a=e.replace(bN,l=>(Me.test(l)?(n.color.push(r),i.push(Qx),s.push(Me.parse(l))):l.startsWith(vN)?(n.var.push(r),i.push(yN),s.push(l)):(n.number.push(r),i.push(Jx),s.push(parseFloat(l))),++r,Eh)).split(Eh);return{values:s,split:a,indexes:n,types:i}}function Zx(t){return cr(t).values}function ey(t){const{split:e,types:s}=cr(t),n=e.length;return i=>{let r="";for(let o=0;o<n;o++)if(r+=e[o],i[o]!==void 0){const a=s[o];a===Jx?r+=Gi(i[o]):a===Qx?r+=Me.transform(i[o]):r+=i[o]}return r}}const wN=t=>typeof t=="number"?0:Me.test(t)?Me.getAnimatableNone(t):t;function _N(t){const e=Zx(t);return ey(t)(e.map(wN))}const Rs={test:xN,parse:Zx,createTransformer:ey,getAnimatableNone:_N};function Za(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function SN({hue:t,saturation:e,lightness:s,alpha:n}){t/=360,e/=100,s/=100;let i=0,r=0,o=0;if(!e)i=r=o=s;else{const a=s<.5?s*(1+e):s+e-s*e,l=2*s-a;i=Za(l,a,t+1/3),r=Za(l,a,t),o=Za(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:n}}function Lo(t,e){return s=>s>0?e:t}const Te=(t,e,s)=>t+(e-t)*s,el=(t,e,s)=>{const n=t*t,i=s*(e*e-n)+n;return i<0?0:Math.sqrt(i)},jN=[ql,Qs,On],TN=t=>jN.find(e=>e.test(t));function Nh(t){const e=TN(t);if(!e)return!1;let s=e.parse(t);return e===On&&(s=SN(s)),s}const kh=(t,e)=>{const s=Nh(t),n=Nh(e);if(!s||!n)return Lo(t,e);const i={...s};return r=>(i.red=el(s.red,n.red,r),i.green=el(s.green,n.green,r),i.blue=el(s.blue,n.blue,r),i.alpha=Te(s.alpha,n.alpha,r),Qs.transform(i))},Yl=new Set(["none","hidden"]);function CN(t,e){return Yl.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function EN(t,e){return s=>Te(t,e,s)}function gd(t){return typeof t=="number"?EN:typeof t=="string"?fd(t)?Lo:Me.test(t)?kh:PN:Array.isArray(t)?ty:typeof t=="object"?Me.test(t)?kh:NN:Lo}function ty(t,e){const s=[...t],n=s.length,i=t.map((r,o)=>gd(r)(r,e[o]));return r=>{for(let o=0;o<n;o++)s[o]=i[o](r);return s}}function NN(t,e){const s={...t,...e},n={};for(const i in s)t[i]!==void 0&&e[i]!==void 0&&(n[i]=gd(t[i])(t[i],e[i]));return i=>{for(const r in n)s[r]=n[r](i);return s}}function kN(t,e){const s=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const r=e.types[i],o=t.indexes[r][n[r]],a=t.values[o]??0;s[i]=a,n[r]++}return s}const PN=(t,e)=>{const s=Rs.createTransformer(e),n=cr(t),i=cr(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Yl.has(t)&&!i.values.length||Yl.has(e)&&!n.values.length?CN(t,e):Rr(ty(kN(n,i),i.values),s):Lo(t,e)};function sy(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?Te(t,e,s):gd(t)(t,e)}const AN=t=>{const e=({timestamp:s})=>t(s);return{start:(s=!0)=>je.update(e,s),stop:()=>As(e),now:()=>Ve.isProcessing?Ve.timestamp:ot.now()}},ny=(t,e,s=10)=>{let n="";const i=Math.max(Math.round(e/s),2);for(let r=0;r<i;r++)n+=Math.round(t(r/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Fo=2e4;function xd(t){let e=0;const s=50;let n=t.next(e);for(;!n.done&&e<Fo;)e+=s,n=t.next(e);return e>=Fo?1/0:e}function RN(t,e=100,s){const n=s({...t,keyframes:[0,e]}),i=Math.min(xd(n),Fo);return{type:"keyframes",ease:r=>n.next(i*r).value/e,duration:pt(i)}}const IN=5;function iy(t,e,s){const n=Math.max(e-IN,0);return Lx(s-t(n),e-n)}const Ee={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tl=.001;function MN({duration:t=Ee.duration,bounce:e=Ee.bounce,velocity:s=Ee.velocity,mass:n=Ee.mass}){let i,r,o=1-e;o=rs(Ee.minDamping,Ee.maxDamping,o),t=rs(Ee.minDuration,Ee.maxDuration,pt(t)),o<1?(i=c=>{const u=c*o,h=u*t,f=u-s,m=Xl(c,o),p=Math.exp(-h);return tl-f/m*p},r=c=>{const h=c*o*t,f=h*s+s,m=Math.pow(o,2)*Math.pow(c,2)*t,p=Math.exp(-h),g=Xl(Math.pow(c,2),o);return(-i(c)+tl>0?-1:1)*((f-m)*p)/g}):(i=c=>{const u=Math.exp(-c*t),h=(c-s)*t+1;return-tl+u*h},r=c=>{const u=Math.exp(-c*t),h=(s-c)*(t*t);return u*h});const a=5/t,l=DN(i,r,a);if(t=Wt(t),isNaN(l))return{stiffness:Ee.stiffness,damping:Ee.damping,duration:t};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:t}}}const ON=12;function DN(t,e,s){let n=s;for(let i=1;i<ON;i++)n=n-t(n)/e(n);return n}function Xl(t,e){return t*Math.sqrt(1-e*e)}const LN=["duration","bounce"],FN=["stiffness","damping","mass"];function Ph(t,e){return e.some(s=>t[s]!==void 0)}function $N(t){let e={velocity:Ee.velocity,stiffness:Ee.stiffness,damping:Ee.damping,mass:Ee.mass,isResolvedFromDuration:!1,...t};if(!Ph(t,FN)&&Ph(t,LN))if(t.visualDuration){const s=t.visualDuration,n=2*Math.PI/(s*1.2),i=n*n,r=2*rs(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ee.mass,stiffness:i,damping:r}}else{const s=MN(t);e={...e,...s,mass:Ee.mass},e.isResolvedFromDuration=!0}return e}function $o(t=Ee.visualDuration,e=Ee.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=s;const r=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],a={done:!1,value:r},{stiffness:l,damping:c,mass:u,duration:h,velocity:f,isResolvedFromDuration:m}=$N({...s,velocity:-pt(s.velocity||0)}),p=f||0,g=c/(2*Math.sqrt(l*u)),x=o-r,v=pt(Math.sqrt(l/u)),b=Math.abs(x)<5;n||(n=b?Ee.restSpeed.granular:Ee.restSpeed.default),i||(i=b?Ee.restDelta.granular:Ee.restDelta.default);let w;if(g<1){const _=Xl(v,g);w=j=>{const T=Math.exp(-g*v*j);return o-T*((p+g*v*x)/_*Math.sin(_*j)+x*Math.cos(_*j))}}else if(g===1)w=_=>o-Math.exp(-v*_)*(x+(p+v*x)*_);else{const _=v*Math.sqrt(g*g-1);w=j=>{const T=Math.exp(-g*v*j),C=Math.min(_*j,300);return o-T*((p+g*v*x)*Math.sinh(C)+_*x*Math.cosh(C))/_}}const S={calculatedDuration:m&&h||null,next:_=>{const j=w(_);if(m)a.done=_>=h;else{let T=_===0?p:0;g<1&&(T=_===0?Wt(p):iy(w,_,j));const C=Math.abs(T)<=n,N=Math.abs(o-j)<=i;a.done=C&&N}return a.value=a.done?o:j,a},toString:()=>{const _=Math.min(xd(S),Fo),j=ny(T=>S.next(_*T).value,_,30);return _+"ms "+j},toTransition:()=>{}};return S}$o.applyToOptions=t=>{const e=RN(t,100,$o);return t.ease=e.ease,t.duration=Wt(e.duration),t.type="keyframes",t};function Jl({keyframes:t,velocity:e=0,power:s=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},m=C=>a!==void 0&&C<a||l!==void 0&&C>l,p=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let g=s*e;const x=h+g,v=o===void 0?x:o(x);v!==x&&(g=v-h);const b=C=>-g*Math.exp(-C/n),w=C=>v+b(C),S=C=>{const N=b(C),E=w(C);f.done=Math.abs(N)<=c,f.value=f.done?v:E};let _,j;const T=C=>{m(f.value)&&(_=C,j=$o({keyframes:[f.value,p(f.value)],velocity:iy(w,C,f.value),damping:i,stiffness:r,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:C=>{let N=!1;return!j&&_===void 0&&(N=!0,S(C),T(C)),_!==void 0&&C>=_?j.next(C-_):(!N&&S(C),f)}}}function VN(t,e,s){const n=[],i=s||os.mix||sy,r=t.length-1;for(let o=0;o<r;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||xt:e;a=Rr(l,a)}n.push(a)}return n}function BN(t,e,{clamp:s=!0,ease:n,mixer:i}={}){const r=t.length;if(Do(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=VN(e,n,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=ar(t[h],t[h+1],u);return a[h](f)};return s?u=>c(rs(t[0],t[r-1],u)):c}function UN(t,e){const s=t[t.length-1];for(let n=1;n<=e;n++){const i=ar(0,e,n);t.push(Te(s,1,i))}}function zN(t){const e=[0];return UN(e,t.length-1),e}function HN(t,e){return t.map(s=>s*e)}function WN(t,e){return t.map(()=>e||Gx).splice(0,t.length-1)}function Ki({duration:t=300,keyframes:e,times:s,ease:n="easeInOut"}){const i=nN(n)?n.map(jh):jh(n),r={done:!1,value:e[0]},o=HN(s&&s.length===e.length?s:zN(e),t),a=BN(o,e,{ease:Array.isArray(i)?i:WN(e,i)});return{calculatedDuration:t,next:l=>(r.value=a(l),r.done=l>=t,r)}}const GN=t=>t!==null;function yd(t,{repeat:e,repeatType:s="loop"},n,i=1){const r=t.filter(GN),a=i<0||e&&s!=="loop"&&e%2===1?0:r.length-1;return!a||n===void 0?r[a]:n}const KN={decay:Jl,inertia:Jl,tween:Ki,keyframes:Ki,spring:$o};function ry(t){typeof t.type=="string"&&(t.type=KN[t.type])}class vd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const qN=t=>t/100;class bd extends vd{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:s}=this.options;s&&s.updatedAt!==ot.now()&&this.tick(ot.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ry(e);const{type:s=Ki,repeat:n=0,repeatDelay:i=0,repeatType:r,velocity:o=0}=e;let{keyframes:a}=e;const l=s||Ki;l!==Ki&&typeof a[0]!="number"&&(this.mixKeyframes=Rr(qN,sy(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});r==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=xd(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=c}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:n,totalDuration:i,mixKeyframes:r,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:m,type:p,onUpdate:g,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,S=n;if(h){const C=Math.min(this.currentTime,i)/a;let N=Math.floor(C),E=C%1;!E&&C>=1&&(E=1),E===1&&N--,N=Math.min(N,h+1),!!(N%2)&&(f==="reverse"?(E=1-E,m&&(E-=m/a)):f==="mirror"&&(S=o)),w=rs(0,1,E)*a}const _=b?{done:!1,value:u[0]}:S.next(w);r&&(_.value=r(_.value));let{done:j}=_;!b&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return T&&p!==Jl&&(_.value=yd(u,this.options,x,this.speed)),g&&g(_.value),T&&this.finish(),_}then(e,s){return this.finished.then(e,s)}get duration(){return pt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+pt(e)}get time(){return pt(this.currentTime)}set time(e){var s;e=Wt(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ot.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=pt(this.currentTime))}play(){var i,r;if(this.isStopped)return;const{driver:e=AN,startTime:s}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(r=(i=this.options).onPlay)==null||r.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=s??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ot.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(e=this.options).onComplete)==null||s.call(e)}cancel(){var e,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(e=this.options).onCancel)==null||s.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),e.observe(this)}}function YN(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Zs=t=>t*180/Math.PI,Ql=t=>{const e=Zs(Math.atan2(t[1],t[0]));return Zl(e)},XN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ql,rotateZ:Ql,skewX:t=>Zs(Math.atan(t[1])),skewY:t=>Zs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Zl=t=>(t=t%360,t<0&&(t+=360),t),Ah=Ql,Rh=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ih=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),JN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Rh,scaleY:Ih,scale:t=>(Rh(t)+Ih(t))/2,rotateX:t=>Zl(Zs(Math.atan2(t[6],t[5]))),rotateY:t=>Zl(Zs(Math.atan2(-t[2],t[0]))),rotateZ:Ah,rotate:Ah,skewX:t=>Zs(Math.atan(t[4])),skewY:t=>Zs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ec(t){return t.includes("scale")?1:0}function tc(t,e){if(!t||t==="none")return ec(e);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(s)n=JN,i=s;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=XN,i=a}if(!i)return ec(e);const r=n[e],o=i[1].split(",").map(ZN);return typeof r=="function"?r(o):o[r]}const QN=(t,e)=>{const{transform:s="none"}=getComputedStyle(t);return tc(s,e)};function ZN(t){return parseFloat(t.trim())}const mi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pi=new Set(mi),Mh=t=>t===fi||t===U,ek=new Set(["x","y","z"]),tk=mi.filter(t=>!ek.has(t));function sk(t){const e=[];return tk.forEach(s=>{const n=t.getValue(s);n!==void 0&&(e.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),e}const ln={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>tc(e,"x"),y:(t,{transform:e})=>tc(e,"y")};ln.translateX=ln.x;ln.translateY=ln.y;const cn=new Set;let sc=!1,nc=!1,ic=!1;function oy(){if(nc){const t=Array.from(cn).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),s=new Map;e.forEach(n=>{const i=sk(n);i.length&&(s.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=s.get(n);i&&i.forEach(([r,o])=>{var a;(a=n.getValue(r))==null||a.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}nc=!1,sc=!1,cn.forEach(t=>t.complete(ic)),cn.clear()}function ay(){cn.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(nc=!0)})}function nk(){ic=!0,ay(),oy(),ic=!1}class wd{constructor(e,s,n,i,r,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=n,this.motionValue=i,this.element=r,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(cn.add(this),sc||(sc=!0,je.read(ay),je.resolveKeyframes(oy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:n,motionValue:i}=this;if(e[0]===null){const r=i==null?void 0:i.get(),o=e[e.length-1];if(r!==void 0)e[0]=r;else if(n&&s){const a=n.readValue(s,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&r===void 0&&i.set(e[0])}YN(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),cn.delete(this)}cancel(){this.state==="scheduled"&&(cn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ik=t=>t.startsWith("--");function rk(t,e,s){ik(e)?t.style.setProperty(e,s):t.style[e]=s}const ok=ld(()=>window.ScrollTimeline!==void 0),ak={};function lk(t,e){const s=ld(t);return()=>ak[e]??s()}const ly=lk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ri=([t,e,s,n])=>`cubic-bezier(${t}, ${e}, ${s}, ${n})`,Oh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ri([0,.65,.55,1]),circOut:Ri([.55,0,1,.45]),backIn:Ri([.31,.01,.66,-.59]),backOut:Ri([.33,1.53,.69,.99])};function cy(t,e){if(t)return typeof t=="function"?ly()?ny(t,e):"ease-out":Kx(t)?Ri(t):Array.isArray(t)?t.map(s=>cy(s,e)||Oh.easeOut):Oh[t]}function ck(t,e,s,{delay:n=0,duration:i=300,repeat:r=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:s};l&&(u.offset=l);const h=cy(a,i);Array.isArray(h)&&(u.easing=h);const f={delay:n,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(u,f)}function dy(t){return typeof t=="function"&&"applyToOptions"in t}function dk({type:t,...e}){return dy(t)&&ly()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class uk extends vd{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:n,keyframes:i,pseudoElement:r,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!r,this.allowFlatten=o,this.options=e,Do(typeof e.type!="string");const c=dk(e);this.animation=ck(s,n,i,c,r),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const u=yd(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):rk(s,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,s;(s=(e=this.animation).finish)==null||s.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,s;this.isPseudoElement||(s=(e=this.animation).commitStyles)==null||s.call(e)}get duration(){var s,n;const e=((n=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:n.call(s).duration)||0;return pt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+pt(e)}get time(){return pt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Wt(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&ok()?(this.animation.timeline=e,xt):s(this)}}const uy={anticipate:zx,backInOut:Ux,circInOut:Wx};function hk(t){return t in uy}function fk(t){typeof t.ease=="string"&&hk(t.ease)&&(t.ease=uy[t.ease])}const Dh=10;class mk extends uk{constructor(e){fk(e),ry(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:n,onComplete:i,element:r,...o}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const a=new bd({...o,autoplay:!1}),l=Wt(this.finishedTime??this.time);s.setWithVelocity(a.sample(l-Dh).value,a.sample(l).value,Dh),a.stop()}}const Lh=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Rs.test(t)||t==="0")&&!t.startsWith("url("));function pk(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function gk(t,e,s,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const r=t[t.length-1],o=Lh(i,e),a=Lh(r,e);return!o||!a?!1:pk(t)||(s==="spring"||dy(s))&&n}function rc(t){t.duration=0,t.type="keyframes"}const xk=new Set(["opacity","clipPath","filter","transform"]),yk=ld(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function vk(t){var u;const{motionValue:e,name:s,repeatDelay:n,repeatType:i,damping:r,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return yk()&&s&&xk.has(s)&&(s!=="transform"||!c)&&!l&&!n&&i!=="mirror"&&r!==0&&o!=="inertia"}const bk=40;class wk extends vd{constructor({autoplay:e=!0,delay:s=0,type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...h}){var p;super(),this.stop=()=>{var g,x;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=ot.now();const f={autoplay:e,delay:s,type:n,repeat:i,repeatDelay:r,repeatType:o,name:l,motionValue:c,element:u,...h},m=(u==null?void 0:u.KeyframeResolver)||wd;this.keyframeResolver=new m(a,(g,x,v)=>this.onKeyframesResolved(g,x,f,!v),l,c,u),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,s,n,i){this.keyframeResolver=void 0;const{name:r,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=ot.now(),gk(e,r,o,a)||((os.instantAnimations||!l)&&(u==null||u(yd(e,n,s))),e[0]=e[e.length-1],rc(n),n.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>bk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...n,keyframes:e},m=!c&&vk(f)?new mk({...f,element:f.motionValue.owner.current}):new bd(f);m.finished.then(()=>this.notifyFinished()).catch(xt),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),nk()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const _k=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Sk(t){const e=_k.exec(t);if(!e)return[,];const[,s,n,i]=e;return[`--${s??n}`,i]}function hy(t,e,s=1){const[n,i]=Sk(t);if(!n)return;const r=window.getComputedStyle(e).getPropertyValue(n);if(r){const o=r.trim();return Mx(o)?parseFloat(o):o}return fd(i)?hy(i,e,s+1):i}function _d(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const fy=new Set(["width","height","top","left","right","bottom",...mi]),jk={test:t=>t==="auto",parse:t=>t},my=t=>e=>e.test(t),py=[fi,U,Gt,xs,pN,mN,jk],Fh=t=>py.find(my(t));function Tk(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Dx(t):!0}const Ck=new Set(["brightness","contrast","saturate","opacity"]);function Ek(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=s.match(md)||[];if(!n)return t;const i=s.replace(n,"");let r=Ck.has(e)?1:0;return n!==s&&(r*=100),e+"("+r+i+")"}const Nk=/\b([a-z-]*)\(.*?\)/gu,oc={...Rs,getAnimatableNone:t=>{const e=t.match(Nk);return e?e.map(Ek).join(" "):t}},$h={...fi,transform:Math.round},kk={rotate:xs,rotateX:xs,rotateY:xs,rotateZ:xs,scale:Kr,scaleX:Kr,scaleY:Kr,scaleZ:Kr,skew:xs,skewX:xs,skewY:xs,distance:U,translateX:U,translateY:U,translateZ:U,x:U,y:U,z:U,perspective:U,transformPerspective:U,opacity:lr,originX:Ch,originY:Ch,originZ:U},Sd={borderWidth:U,borderTopWidth:U,borderRightWidth:U,borderBottomWidth:U,borderLeftWidth:U,borderRadius:U,radius:U,borderTopLeftRadius:U,borderTopRightRadius:U,borderBottomRightRadius:U,borderBottomLeftRadius:U,width:U,maxWidth:U,height:U,maxHeight:U,top:U,right:U,bottom:U,left:U,padding:U,paddingTop:U,paddingRight:U,paddingBottom:U,paddingLeft:U,margin:U,marginTop:U,marginRight:U,marginBottom:U,marginLeft:U,backgroundPositionX:U,backgroundPositionY:U,...kk,zIndex:$h,fillOpacity:lr,strokeOpacity:lr,numOctaves:$h},Pk={...Sd,color:Me,backgroundColor:Me,outlineColor:Me,fill:Me,stroke:Me,borderColor:Me,borderTopColor:Me,borderRightColor:Me,borderBottomColor:Me,borderLeftColor:Me,filter:oc,WebkitFilter:oc},gy=t=>Pk[t];function xy(t,e){let s=gy(t);return s!==oc&&(s=Rs),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const Ak=new Set(["auto","none","0"]);function Rk(t,e,s){let n=0,i;for(;n<t.length&&!i;){const r=t[n];typeof r=="string"&&!Ak.has(r)&&cr(r).values.length&&(i=t[n]),n++}if(i&&s)for(const r of e)t[r]=xy(s,i)}class Ik extends wd{constructor(e,s,n,i,r){super(e,s,n,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),fd(c))){const u=hy(c,s.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!fy.has(n)||e.length!==2)return;const[i,r]=e,o=Fh(i),a=Fh(r);if(o!==a)if(Mh(o)&&Mh(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else ln[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||Tk(e[i]))&&n.push(i);n.length&&Rk(e,n,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ln[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:s,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(s);i&&i.jump(this.measuredOrigin,!1);const r=n.length-1,o=n[r];n[r]=ln[s](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Mk(t,e,s){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const yy=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Ok(t){return Ox(t)&&"offsetHeight"in t}const Vh=30,Dk=t=>!isNaN(parseFloat(t));class Lk{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var r;const i=ot.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=ot.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Dk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new cd);const n=this.events[e].add(s);return e==="change"?()=>{n(),je.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ot.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Vh)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Vh);return Lx(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,s;(e=this.dependents)==null||e.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oi(t,e){return new Lk(t,e)}const{schedule:jd,cancel:X2}=qx(queueMicrotask,!1),Ct={x:!1,y:!1};function vy(){return Ct.x||Ct.y}function Fk(t){return t==="x"||t==="y"?Ct[t]?null:(Ct[t]=!0,()=>{Ct[t]=!1}):Ct.x||Ct.y?null:(Ct.x=Ct.y=!0,()=>{Ct.x=Ct.y=!1})}function by(t,e){const s=Mk(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[s,i,()=>n.abort()]}function Bh(t){return!(t.pointerType==="touch"||vy())}function $k(t,e,s={}){const[n,i,r]=by(t,s),o=a=>{if(!Bh(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=h=>{Bh(h)&&(c(h),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return n.forEach(a=>{a.addEventListener("pointerenter",o,i)}),r}const wy=(t,e)=>e?t===e?!0:wy(t,e.parentElement):!1,Td=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Vk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Bk(t){return Vk.has(t.tagName)||t.tabIndex!==-1}const xo=new WeakSet;function Uh(t){return e=>{e.key==="Enter"&&t(e)}}function sl(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Uk=(t,e)=>{const s=t.currentTarget;if(!s)return;const n=Uh(()=>{if(xo.has(s))return;sl(s,"down");const i=Uh(()=>{sl(s,"up")}),r=()=>sl(s,"cancel");s.addEventListener("keyup",i,e),s.addEventListener("blur",r,e)});s.addEventListener("keydown",n,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),e)};function zh(t){return Td(t)&&!vy()}function zk(t,e,s={}){const[n,i,r]=by(t,s),o=a=>{const l=a.currentTarget;if(!zh(a))return;xo.add(l);const c=e(l,a),u=(m,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),xo.has(l)&&xo.delete(l),zh(m)&&typeof c=="function"&&c(m,{success:p})},h=m=>{u(m,l===window||l===document||s.useGlobalTarget||wy(l,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return n.forEach(a=>{(s.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),Ok(a)&&(a.addEventListener("focus",c=>Uk(c,i)),!Bk(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),r}function _y(t){return Ox(t)&&"ownerSVGElement"in t}function Hk(t){return _y(t)&&t.tagName==="svg"}const We=t=>!!(t&&t.getVelocity),Wk=[...py,Me,Rs],Gk=t=>Wk.find(my(t)),Sy=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Kk(t=!0){const e=y.useContext(rd);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:i}=e,r=y.useId();y.useEffect(()=>{if(t)return i(r)},[t]);const o=y.useCallback(()=>t&&n&&n(r),[r,n,t]);return!s&&n?[!1,o]:[!0]}const jy=y.createContext({strict:!1}),Hh={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ai={};for(const t in Hh)ai[t]={isEnabled:e=>Hh[t].some(s=>!!e[s])};function qk(t){for(const e in t)ai[e]={...ai[e],...t[e]}}const Yk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vo(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Yk.has(t)}let Ty=t=>!Vo(t);function Xk(t){typeof t=="function"&&(Ty=e=>e.startsWith("on")?!Vo(e):t(e))}try{Xk(require("@emotion/is-prop-valid").default)}catch{}function Jk(t,e,s){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(Ty(i)||s===!0&&Vo(i)||!e&&!Vo(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const ga=y.createContext({});function xa(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function dr(t){return typeof t=="string"||Array.isArray(t)}const Cd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ed=["initial",...Cd];function ya(t){return xa(t.animate)||Ed.some(e=>dr(t[e]))}function Cy(t){return!!(ya(t)||t.variants)}function Qk(t,e){if(ya(t)){const{initial:s,animate:n}=t;return{initial:s===!1||dr(s)?s:void 0,animate:dr(n)?n:void 0}}return t.inherit!==!1?e:{}}function Zk(t){const{initial:e,animate:s}=Qk(t,y.useContext(ga));return y.useMemo(()=>({initial:e,animate:s}),[Wh(e),Wh(s)])}function Wh(t){return Array.isArray(t)?t.join(" "):t}const ur={};function e1(t){for(const e in t)ur[e]=t[e],hd(e)&&(ur[e].isCSSVariable=!0)}function Ey(t,{layout:e,layoutId:s}){return pi.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!ur[t]||t==="opacity")}const t1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},s1=mi.length;function n1(t,e,s){let n="",i=!0;for(let r=0;r<s1;r++){const o=mi[r],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||s){const c=yy(a,Sd[o]);if(!l){i=!1;const u=t1[o]||o;n+=`${u}(${c}) `}s&&(e[o]=c)}}return n=n.trim(),s?n=s(e,i?"":n):i&&(n="none"),n}function Nd(t,e,s){const{style:n,vars:i,transformOrigin:r}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(pi.has(l)){o=!0;continue}else if(hd(l)){i[l]=c;continue}else{const u=yy(c,Sd[l]);l.startsWith("origin")?(a=!0,r[l]=u):n[l]=u}}if(e.transform||(o||s?n.transform=n1(e,t.transform,s):n.transform&&(n.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=r;n.transformOrigin=`${l} ${c} ${u}`}}const kd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ny(t,e,s){for(const n in e)!We(e[n])&&!Ey(n,s)&&(t[n]=e[n])}function i1({transformTemplate:t},e){return y.useMemo(()=>{const s=kd();return Nd(s,e,t),Object.assign({},s.vars,s.style)},[e])}function r1(t,e){const s=t.style||{},n={};return Ny(n,s,t),Object.assign(n,i1(t,e)),n}function o1(t,e){const s={},n=r1(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=n,s}const a1={offset:"stroke-dashoffset",array:"stroke-dasharray"},l1={offset:"strokeDashoffset",array:"strokeDasharray"};function c1(t,e,s=1,n=0,i=!0){t.pathLength=1;const r=i?a1:l1;t[r.offset]=U.transform(-n);const o=U.transform(e),a=U.transform(s);t[r.array]=`${o} ${a}`}function ky(t,{attrX:e,attrY:s,attrScale:n,pathLength:i,pathSpacing:r=1,pathOffset:o=0,...a},l,c,u){if(Nd(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),s!==void 0&&(h.y=s),n!==void 0&&(h.scale=n),i!==void 0&&c1(h,i,r,o,!1)}const Py=()=>({...kd(),attrs:{}}),Ay=t=>typeof t=="string"&&t.toLowerCase()==="svg";function d1(t,e,s,n){const i=y.useMemo(()=>{const r=Py();return ky(r,e,Ay(n),t.transformTemplate,t.style),{...r.attrs,style:{...r.style}}},[e]);if(t.style){const r={};Ny(r,t.style,t),i.style={...r,...i.style}}return i}const u1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pd(t){return typeof t!="string"||t.includes("-")?!1:!!(u1.indexOf(t)>-1||/[A-Z]/u.test(t))}function h1(t,e,s,{latestValues:n},i,r=!1){const a=(Pd(t)?d1:o1)(e,n,i,t),l=Jk(e,typeof t=="string",r),c=t!==y.Fragment?{...l,...a,ref:s}:{},{children:u}=e,h=y.useMemo(()=>We(u)?u.get():u,[u]);return y.createElement(t,{...c,children:h})}function Gh(t){const e=[{},{}];return t==null||t.values.forEach((s,n)=>{e[0][n]=s.get(),e[1][n]=s.getVelocity()}),e}function Ad(t,e,s,n){if(typeof e=="function"){const[i,r]=Gh(n);e=e(s!==void 0?s:t.custom,i,r)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,r]=Gh(n);e=e(s!==void 0?s:t.custom,i,r)}return e}function yo(t){return We(t)?t.get():t}function f1({scrapeMotionValuesFromProps:t,createRenderState:e},s,n,i){return{latestValues:m1(s,n,i,t),renderState:e()}}function m1(t,e,s,n){const i={},r=n(t,{});for(const f in r)i[f]=yo(r[f]);let{initial:o,animate:a}=t;const l=ya(t),c=Cy(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const h=u?a:o;if(h&&typeof h!="boolean"&&!xa(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const p=Ad(t,f[m]);if(p){const{transitionEnd:g,transition:x,...v}=p;for(const b in v){let w=v[b];if(Array.isArray(w)){const S=u?w.length-1:0;w=w[S]}w!==null&&(i[b]=w)}for(const b in g)i[b]=g[b]}}}return i}const Ry=t=>(e,s)=>{const n=y.useContext(ga),i=y.useContext(rd),r=()=>f1(t,e,n,i);return s?r():YE(r)};function Rd(t,e,s){var r;const{style:n}=t,i={};for(const o in n)(We(n[o])||e.style&&We(e.style[o])||Ey(o,t)||((r=s==null?void 0:s.getValue(o))==null?void 0:r.liveStyle)!==void 0)&&(i[o]=n[o]);return i}const p1=Ry({scrapeMotionValuesFromProps:Rd,createRenderState:kd});function Iy(t,e,s){const n=Rd(t,e,s);for(const i in t)if(We(t[i])||We(e[i])){const r=mi.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[r]=t[i]}return n}const g1=Ry({scrapeMotionValuesFromProps:Iy,createRenderState:Py}),x1=Symbol.for("motionComponentSymbol");function Dn(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function y1(t,e,s){return y.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),s&&(typeof s=="function"?s(n):Dn(s)&&(s.current=n))},[e])}const Id=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),v1="framerAppearId",My="data-"+Id(v1),Oy=y.createContext({});function b1(t,e,s,n,i){var g,x;const{visualElement:r}=y.useContext(ga),o=y.useContext(jy),a=y.useContext(rd),l=y.useContext(Sy).reducedMotion,c=y.useRef(null);n=n||o.renderer,!c.current&&n&&(c.current=n(t,{visualState:e,parent:r,props:s,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,h=y.useContext(Oy);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&w1(c.current,s,i,h);const f=y.useRef(!1);y.useInsertionEffect(()=>{u&&f.current&&u.update(s,a)});const m=s[My],p=y.useRef(!!m&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,m))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,m)));return XE(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),p.current&&u.animationState&&u.animationState.animateChanges())}),y.useEffect(()=>{u&&(!p.current&&u.animationState&&u.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,m)}),p.current=!1),u.enteringChildren=void 0)}),u}function w1(t,e,s,n){const{layoutId:i,layout:r,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:Dy(t.parent)),t.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!o||a&&Dn(a),visualElement:t,animationType:typeof r=="string"?r:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function Dy(t){if(t)return t.options.allowProjection!==!1?t.projection:Dy(t.parent)}function nl(t,{forwardMotionProps:e=!1}={},s,n){s&&qk(s);const i=Pd(t)?g1:p1;function r(a,l){let c;const u={...y.useContext(Sy),...a,layoutId:_1(a)},{isStatic:h}=u,f=Zk(a),m=i(a,h);if(!h&&id){S1();const p=j1(u);c=p.MeasureLayout,f.visualElement=b1(t,m,u,n,p.ProjectionNode)}return d.jsxs(ga.Provider,{value:f,children:[c&&f.visualElement?d.jsx(c,{visualElement:f.visualElement,...u}):null,h1(t,a,y1(m,f.visualElement,l),m,h,e)]})}r.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=y.forwardRef(r);return o[x1]=t,o}function _1({layoutId:t}){const e=y.useContext(Ix).id;return e&&t!==void 0?e+"-"+t:t}function S1(t,e){y.useContext(jy).strict}function j1(t){const{drag:e,layout:s}=ai;if(!e&&!s)return{};const n={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(t)||s!=null&&s.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function T1(t,e){if(typeof Proxy>"u")return nl;const s=new Map,n=(r,o)=>nl(r,o,t,e),i=(r,o)=>n(r,o);return new Proxy(i,{get:(r,o)=>o==="create"?n:(s.has(o)||s.set(o,nl(o,void 0,t,e)),s.get(o))})}function Ly({top:t,left:e,right:s,bottom:n}){return{x:{min:e,max:s},y:{min:t,max:n}}}function C1({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function E1(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function il(t){return t===void 0||t===1}function ac({scale:t,scaleX:e,scaleY:s}){return!il(t)||!il(e)||!il(s)}function qs(t){return ac(t)||Fy(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Fy(t){return Kh(t.x)||Kh(t.y)}function Kh(t){return t&&t!=="0%"}function Bo(t,e,s){const n=t-s,i=e*n;return s+i}function qh(t,e,s,n,i){return i!==void 0&&(t=Bo(t,i,n)),Bo(t,s,n)+e}function lc(t,e=0,s=1,n,i){t.min=qh(t.min,e,s,n,i),t.max=qh(t.max,e,s,n,i)}function $y(t,{x:e,y:s}){lc(t.x,e.translate,e.scale,e.originPoint),lc(t.y,s.translate,s.scale,s.originPoint)}const Yh=.999999999999,Xh=1.0000000000001;function N1(t,e,s,n=!1){const i=s.length;if(!i)return;e.x=e.y=1;let r,o;for(let a=0;a<i;a++){r=s[a],o=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Fn(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,$y(t,o)),n&&qs(r.latestValues)&&Fn(t,r.latestValues))}e.x<Xh&&e.x>Yh&&(e.x=1),e.y<Xh&&e.y>Yh&&(e.y=1)}function Ln(t,e){t.min=t.min+e,t.max=t.max+e}function Jh(t,e,s,n,i=.5){const r=Te(t.min,t.max,i);lc(t,e,s,r,n)}function Fn(t,e){Jh(t.x,e.x,e.scaleX,e.scale,e.originX),Jh(t.y,e.y,e.scaleY,e.scale,e.originY)}function Vy(t,e){return Ly(E1(t.getBoundingClientRect(),e))}function k1(t,e,s){const n=Vy(t,s),{scroll:i}=e;return i&&(Ln(n.x,i.offset.x),Ln(n.y,i.offset.y)),n}const Qh=()=>({translate:0,scale:1,origin:0,originPoint:0}),$n=()=>({x:Qh(),y:Qh()}),Zh=()=>({min:0,max:0}),Pe=()=>({x:Zh(),y:Zh()}),cc={current:null},By={current:!1};function P1(){if(By.current=!0,!!id)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>cc.current=t.matches;t.addEventListener("change",e),e()}else cc.current=!1}const A1=new WeakMap;function R1(t,e,s){for(const n in e){const i=e[n],r=s[n];if(We(i))t.addValue(n,i);else if(We(r))t.addValue(n,oi(i,{owner:t}));else if(r!==i)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(n);t.addValue(n,oi(o!==void 0?o:i,{owner:t}))}}for(const n in s)e[n]===void 0&&t.removeValue(n);return e}const ef=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class I1{scrapeMotionValuesFromProps(e,s,n){return{}}constructor({parent:e,props:s,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:r,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=ot.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,je.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=s,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!r,this.isControllingVariants=ya(s),this.isVariantNode=Cy(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&We(m)&&m.set(l[f])}}mount(e){var s;this.current=e,A1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),By.current||P1(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cc.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),As(this.notifyUpdate),As(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const n=this.features[s];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=pi.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&je.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{i(),r&&r(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ai){const s=ai[e];if(!s)continue;const{isEnabled:n,Feature:i}=s;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<ef.length;n++){const i=ef[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,o=e[r];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=R1(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const n=this.values.get(e);s!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&s!==void 0&&(n=oi(s===null?void 0:s,{owner:this}),this.addValue(e,n)),n}readValue(e,s){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(Mx(n)||Dx(n))?n=parseFloat(n):!Gk(n)&&Rs.test(s)&&(n=xy(e,s)),this.setBaseTarget(e,We(n)?n.get():n)),We(n)?n.get():n}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var r;const{initial:s}=this.props;let n;if(typeof s=="string"||typeof s=="object"){const o=Ad(this.props,s,(r=this.presenceContext)==null?void 0:r.custom);o&&(n=o[e])}if(s&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!We(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new cd),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){jd.render(this.render)}}class Uy extends I1{constructor(){super(...arguments),this.KeyframeResolver=Ik}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:n}){delete s[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;We(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function zy(t,{style:e,vars:s},n,i){const r=t.style;let o;for(o in e)r[o]=e[o];i==null||i.applyProjectionStyles(r,n);for(o in s)r.setProperty(o,s[o])}function M1(t){return window.getComputedStyle(t)}class O1 extends Uy{constructor(){super(...arguments),this.type="html",this.renderInstance=zy}readValueFromInstance(e,s){var n;if(pi.has(s))return(n=this.projection)!=null&&n.isProjecting?ec(s):QN(e,s);{const i=M1(e),r=(hd(s)?i.getPropertyValue(s):i[s])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:s}){return Vy(e,s)}build(e,s,n){Nd(e,s,n.transformTemplate)}scrapeMotionValuesFromProps(e,s,n){return Rd(e,s,n)}}const Hy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function D1(t,e,s,n){zy(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(Hy.has(i)?i:Id(i),e.attrs[i])}class L1 extends Uy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pe}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(pi.has(s)){const n=gy(s);return n&&n.default||0}return s=Hy.has(s)?s:Id(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,n){return Iy(e,s,n)}build(e,s,n){ky(e,s,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,s,n,i){D1(e,s,n,i)}mount(e){this.isSVGTag=Ay(e.tagName),super.mount(e)}}const F1=(t,e)=>Pd(t)?new L1(e):new O1(e,{allowProjection:t!==y.Fragment});function Un(t,e,s){const n=t.getProps();return Ad(n,e,s!==void 0?s:n.custom,t)}const dc=t=>Array.isArray(t);function $1(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,oi(s))}function V1(t){return dc(t)?t[t.length-1]||0:t}function B1(t,e){const s=Un(t,e);let{transitionEnd:n={},transition:i={},...r}=s||{};r={...r,...n};for(const o in r){const a=V1(r[o]);$1(t,o,a)}}function U1(t){return!!(We(t)&&t.add)}function uc(t,e){const s=t.getValue("willChange");if(U1(s))return s.add(e);if(!s&&os.WillChange){const n=new os.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function Wy(t){return t.props[My]}const z1=t=>t!==null;function H1(t,{repeat:e,repeatType:s="loop"},n){const i=t.filter(z1),r=e&&s!=="loop"&&e%2===1?0:i.length-1;return!r||n===void 0?i[r]:n}const W1={type:"spring",stiffness:500,damping:25,restSpeed:10},G1=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),K1={type:"keyframes",duration:.8},q1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Y1=(t,{keyframes:e})=>e.length>2?K1:pi.has(t)?t.startsWith("scale")?G1(e[1]):W1:q1;function X1({when:t,delay:e,delayChildren:s,staggerChildren:n,staggerDirection:i,repeat:r,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Md=(t,e,s,n={},i,r)=>o=>{const a=_d(n,t)||{},l=a.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Wt(l);const u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:r?void 0:i};X1(a)||Object.assign(u,Y1(t,u)),u.duration&&(u.duration=Wt(u.duration)),u.repeatDelay&&(u.repeatDelay=Wt(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(rc(u),u.delay===0&&(h=!0)),(os.instantAnimations||os.skipAnimations)&&(h=!0,rc(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,h&&!r&&e.get()!==void 0){const f=H1(u.keyframes,a);if(f!==void 0){je.update(()=>{u.onUpdate(f),u.onComplete()});return}}return a.isSync?new bd(u):new wk(u)};function J1({protectedKeys:t,needsAnimating:e},s){const n=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,n}function Gy(t,e,{delay:s=0,transitionOverride:n,type:i}={}){let{transition:r=t.getDefaultTransition(),transitionEnd:o,...a}=e;n&&(r=n);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in a){const h=t.getValue(u,t.latestValues[u]??null),f=a[u];if(f===void 0||c&&J1(c,u))continue;const m={delay:s,..._d(r||{},u)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===p&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const v=Wy(t);if(v){const b=window.MotionHandoffAnimation(v,u,je);b!==null&&(m.startTime=b,g=!0)}}uc(t,u),h.start(Md(u,h,f,t.shouldReduceMotion&&fy.has(u)?{type:!1}:m,t,g));const x=h.animation;x&&l.push(x)}return o&&Promise.all(l).then(()=>{je.update(()=>{o&&B1(t,o)})}),l}function Ky(t,e,s,n=0,i=1){const r=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),o=t.size,a=(o-1)*n;return typeof s=="function"?s(r,o):i===1?r*n:a-r*n}function hc(t,e,s={}){var l;const n=Un(t,e,s.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(i=s.transitionOverride);const r=n?()=>Promise.all(Gy(t,n,s)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=i;return Q1(t,e,c,u,h,f,s)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[r,o]:[o,r];return c().then(()=>u())}else return Promise.all([r(),o(s.delay)])}function Q1(t,e,s=0,n=0,i=0,r=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(hc(l,e,{...o,delay:s+(typeof n=="function"?0:n)+Ky(t.variantChildren,l,n,i,r)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function Z1(t,e,s={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(r=>hc(t,r,s));n=Promise.all(i)}else if(typeof e=="string")n=hc(t,e,s);else{const i=typeof e=="function"?Un(t,e,s.custom):e;n=Promise.all(Gy(t,i,s))}return n.then(()=>{t.notify("AnimationComplete",e)})}function qy(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let n=0;n<s;n++)if(e[n]!==t[n])return!1;return!0}const eP=Ed.length;function Yy(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?Yy(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<eP;s++){const n=Ed[s],i=t.props[n];(dr(i)||i===!1)&&(e[n]=i)}return e}const tP=[...Cd].reverse(),sP=Cd.length;function nP(t){return e=>Promise.all(e.map(({animation:s,options:n})=>Z1(t,s,n)))}function iP(t){let e=nP(t),s=tf(),n=!0;const i=l=>(c,u)=>{var f;const h=Un(t,u,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:p,...g}=h;c={...c,...g,...p}}return c};function r(l){e=l(t)}function o(l){const{props:c}=t,u=Yy(t.parent)||{},h=[],f=new Set;let m={},p=1/0;for(let x=0;x<sP;x++){const v=tP[x],b=s[v],w=c[v]!==void 0?c[v]:u[v],S=dr(w),_=v===l?b.isActive:null;_===!1&&(p=x);let j=w===u[v]&&w!==c[v]&&S;if(j&&n&&t.manuallyAnimateOnMount&&(j=!1),b.protectedKeys={...m},!b.isActive&&_===null||!w&&!b.prevProp||xa(w)||typeof w=="boolean")continue;const T=rP(b.prevProp,w);let C=T||v===l&&b.isActive&&!j&&S||x>p&&S,N=!1;const E=Array.isArray(w)?w:[w];let P=E.reduce(i(v),{});_===!1&&(P={});const{prevResolvedValues:A={}}=b,W={...A,...P},F=D=>{C=!0,f.has(D)&&(N=!0,f.delete(D)),b.needsAnimating[D]=!0;const L=t.getValue(D);L&&(L.liveStyle=!1)};for(const D in W){const L=P[D],R=A[D];if(m.hasOwnProperty(D))continue;let z=!1;dc(L)&&dc(R)?z=!qy(L,R):z=L!==R,z?L!=null?F(D):f.add(D):L!==void 0&&f.has(D)?F(D):b.protectedKeys[D]=!0}b.prevProp=w,b.prevResolvedValues=P,b.isActive&&(m={...m,...P}),n&&t.blockInitialAnimation&&(C=!1);const M=j&&T;C&&(!M||N)&&h.push(...E.map(D=>{const L={type:v};if(typeof D=="string"&&n&&!M&&t.manuallyAnimateOnMount&&t.parent){const{parent:R}=t,z=Un(R,D);if(R.enteringChildren&&z){const{delayChildren:de}=z.transition||{};L.delay=Ky(R.enteringChildren,t,de)}}return{animation:D,options:L}}))}if(f.size){const x={};if(typeof c.initial!="boolean"){const v=Un(t,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(x.transition=v.transition)}f.forEach(v=>{const b=t.getBaseTarget(v),w=t.getValue(v);w&&(w.liveStyle=!0),x[v]=b??null}),h.push({animation:x})}let g=!!h.length;return n&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(g=!1),n=!1,g?e(h):Promise.resolve()}function a(l,c){var h;if(s[l].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,c)}),s[l].isActive=c;const u=o(l);for(const f in s)s[f].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:r,getState:()=>s,reset:()=>{s=tf(),n=!0}}}function rP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qy(e,t):!1}function zs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tf(){return{animate:zs(!0),whileInView:zs(),whileHover:zs(),whileTap:zs(),whileDrag:zs(),whileFocus:zs(),exit:zs()}}class Ds{constructor(e){this.isMounted=!1,this.node=e}update(){}}class oP extends Ds{constructor(e){super(e),e.animationState||(e.animationState=iP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xa(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let aP=0;class lP extends Ds{constructor(){super(...arguments),this.id=aP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);s&&!e&&i.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const cP={animation:{Feature:oP},exit:{Feature:lP}};function hr(t,e,s,n={passive:!0}){return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s)}function Or(t){return{point:{x:t.pageX,y:t.pageY}}}const dP=t=>e=>Td(e)&&t(e,Or(e));function qi(t,e,s,n){return hr(t,e,dP(s),n)}const Xy=1e-4,uP=1-Xy,hP=1+Xy,Jy=.01,fP=0-Jy,mP=0+Jy;function Ze(t){return t.max-t.min}function pP(t,e,s){return Math.abs(t-e)<=s}function sf(t,e,s,n=.5){t.origin=n,t.originPoint=Te(e.min,e.max,t.origin),t.scale=Ze(s)/Ze(e),t.translate=Te(s.min,s.max,t.origin)-t.originPoint,(t.scale>=uP&&t.scale<=hP||isNaN(t.scale))&&(t.scale=1),(t.translate>=fP&&t.translate<=mP||isNaN(t.translate))&&(t.translate=0)}function Yi(t,e,s,n){sf(t.x,e.x,s.x,n?n.originX:void 0),sf(t.y,e.y,s.y,n?n.originY:void 0)}function nf(t,e,s){t.min=s.min+e.min,t.max=t.min+Ze(e)}function gP(t,e,s){nf(t.x,e.x,s.x),nf(t.y,e.y,s.y)}function rf(t,e,s){t.min=e.min-s.min,t.max=t.min+Ze(e)}function Xi(t,e,s){rf(t.x,e.x,s.x),rf(t.y,e.y,s.y)}function ft(t){return[t("x"),t("y")]}const Qy=({current:t})=>t?t.ownerDocument.defaultView:null,of=(t,e)=>Math.abs(t-e);function xP(t,e){const s=of(t.x,e.x),n=of(t.y,e.y);return Math.sqrt(s**2+n**2)}class Zy{constructor(e,s,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:r=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ol(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=xP(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:g}=f,{timestamp:x}=Ve;this.history.push({...g,timestamp:x});const{onStart:v,onMove:b}=this.handlers;m||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=rl(m,this.transformPagePoint),je.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=ol(f.type==="pointercancel"?this.lastMoveEventInfo:rl(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,v),g&&g(f,v)},!Td(e))return;this.dragSnapToOrigin=r,this.handlers=s,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const a=Or(e),l=rl(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ve;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=s;h&&h(e,ol(l,this.history)),this.removeListeners=Rr(qi(this.contextWindow,"pointermove",this.handlePointerMove),qi(this.contextWindow,"pointerup",this.handlePointerUp),qi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),As(this.updatePoint)}}function rl(t,e){return e?{point:e(t.point)}:t}function af(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ol({point:t},e){return{point:t,delta:af(t,ev(e)),offset:af(t,yP(e)),velocity:vP(e,.1)}}function yP(t){return t[0]}function ev(t){return t[t.length-1]}function vP(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,n=null;const i=ev(t);for(;s>=0&&(n=t[s],!(i.timestamp-n.timestamp>Wt(e)));)s--;if(!n)return{x:0,y:0};const r=pt(i.timestamp-n.timestamp);if(r===0)return{x:0,y:0};const o={x:(i.x-n.x)/r,y:(i.y-n.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function bP(t,{min:e,max:s},n){return e!==void 0&&t<e?t=n?Te(e,t,n.min):Math.max(t,e):s!==void 0&&t>s&&(t=n?Te(s,t,n.max):Math.min(t,s)),t}function lf(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function wP(t,{top:e,left:s,bottom:n,right:i}){return{x:lf(t.x,s,i),y:lf(t.y,e,n)}}function cf(t,e){let s=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,n]=[n,s]),{min:s,max:n}}function _P(t,e){return{x:cf(t.x,e.x),y:cf(t.y,e.y)}}function SP(t,e){let s=.5;const n=Ze(t),i=Ze(e);return i>n?s=ar(e.min,e.max-n,t.min):n>i&&(s=ar(t.min,t.max-i,e.min)),rs(0,1,s)}function jP(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const fc=.35;function TP(t=fc){return t===!1?t=0:t===!0&&(t=fc),{x:df(t,"left","right"),y:df(t,"top","bottom")}}function df(t,e,s){return{min:uf(t,e),max:uf(t,s)}}function uf(t,e){return typeof t=="number"?t:t[e]||0}const CP=new WeakMap;class EP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Or(h).point)},o=(h,f)=>{const{drag:m,dragPropagation:p,onDragStart:g}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Fk(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ft(v=>{let b=this.getAxisMotionValue(v).get()||0;if(Gt.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const S=w.layout.layoutBox[v];S&&(b=Ze(S)*(parseFloat(b)/100))}}this.originPoint[v]=b}),g&&je.postRender(()=>g(h,f)),uc(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:g,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=f;if(p&&this.currentDirection===null){this.currentDirection=NP(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),x&&x(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>ft(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Zy(e,{onSessionStart:r,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:Qy(this.visualElement)})}stop(e,s){const n=e||this.latestPointerEvent,i=s||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&je.postRender(()=>a(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,n){const{drag:i}=this.getProps();if(!n||!qr(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=bP(o,this.constraints[e],this.elastic[e])),r.set(o)}resolveConstraints(){var r;const{dragConstraints:e,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,i=this.constraints;e&&Dn(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=wP(n.layoutBox,e):this.constraints=!1,this.elastic=TP(s),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ft(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=jP(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!Dn(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=k1(n,i.root,this.visualElement.getTransformPagePoint());let o=_P(i.layout.layoutBox,r);if(s){const a=s(C1(o));this.hasMutatedConstraints=!!a,a&&(o=Ly(a))}return o}startAnimation(e){const{drag:s,dragMomentum:n,dragElastic:i,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ft(u=>{if(!qr(u,s,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:n?e[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(a)}startAxisValueAnimation(e,s){const n=this.getAxisMotionValue(e);return uc(this.visualElement,e),n.start(Md(e,n,0,s,this.visualElement,!1))}stopAnimation(){ft(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ft(e=>{var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[s];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ft(s=>{const{drag:n}=this.getProps();if(!qr(s,n,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[s];r.set(e[s]-Te(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Dn(s)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ft(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=SP({min:l,max:l},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ft(o=>{if(!qr(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Te(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;CP.set(this.visualElement,this);const e=this.visualElement.current,s=qi(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Dn(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),je.read(n);const o=hr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ft(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),s(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:o=fc,dragMomentum:a=!0}=e;return{...e,drag:s,dragDirectionLock:n,dragPropagation:i,dragConstraints:r,dragElastic:o,dragMomentum:a}}}function qr(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function NP(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class kP extends Ds{constructor(e){super(e),this.removeGroupControls=xt,this.removeListeners=xt,this.controls=new EP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xt}unmount(){this.removeGroupControls(),this.removeListeners()}}const hf=t=>(e,s)=>{t&&je.postRender(()=>t(e,s))};class PP extends Ds{constructor(){super(...arguments),this.removePointerDownListener=xt}onPointerDown(e){this.session=new Zy(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Qy(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:hf(e),onStart:hf(s),onMove:n,onEnd:(r,o)=>{delete this.session,i&&je.postRender(()=>i(r,o))}}}mount(){this.removePointerDownListener=qi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const vo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ff(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ti={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(U.test(t))t=parseFloat(t);else return t;const s=ff(t,e.target.x),n=ff(t,e.target.y);return`${s}% ${n}%`}},AP={correct:(t,{treeScale:e,projectionDelta:s})=>{const n=t,i=Rs.parse(t);if(i.length>5)return n;const r=Rs.createTransformer(t),o=typeof i[0]!="number"?1:0,a=s.x.scale*e.x,l=s.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Te(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),r(i)}};let al=!1;class RP extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:n,layoutId:i}=this.props,{projection:r}=e;e1(IP),r&&(s.group&&s.group.add(r),n&&n.register&&i&&n.register(r),al&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),vo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:n,drag:i,isPresent:r}=this.props,{projection:o}=n;return o&&(o.isPresent=r,al=!0,i||e.layoutDependency!==s||s===void 0||e.isPresent!==r?o.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?o.promote():o.relegate()||je.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),jd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:i}=e;al=!0,i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tv(t){const[e,s]=Kk(),n=y.useContext(Ix);return d.jsx(RP,{...t,layoutGroup:n,switchLayoutGroup:y.useContext(Oy),isPresent:e,safeToRemove:s})}const IP={borderRadius:{...Ti,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ti,borderTopRightRadius:Ti,borderBottomLeftRadius:Ti,borderBottomRightRadius:Ti,boxShadow:AP};function MP(t,e,s){const n=We(t)?t:oi(t);return n.start(Md("",n,e,s)),n.animation}const OP=(t,e)=>t.depth-e.depth;class DP{constructor(){this.children=[],this.isDirty=!1}add(e){od(this.children,e),this.isDirty=!0}remove(e){ad(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(OP),this.isDirty=!1,this.children.forEach(e)}}function LP(t,e){const s=ot.now(),n=({timestamp:i})=>{const r=i-s;r>=e&&(As(n),t(r-e))};return je.setup(n,!0),()=>As(n)}const sv=["TopLeft","TopRight","BottomLeft","BottomRight"],FP=sv.length,mf=t=>typeof t=="string"?parseFloat(t):t,pf=t=>typeof t=="number"||U.test(t);function $P(t,e,s,n,i,r){i?(t.opacity=Te(0,s.opacity??1,VP(n)),t.opacityExit=Te(e.opacity??1,0,BP(n))):r&&(t.opacity=Te(e.opacity??1,s.opacity??1,n));for(let o=0;o<FP;o++){const a=`border${sv[o]}Radius`;let l=gf(e,a),c=gf(s,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||pf(l)===pf(c)?(t[a]=Math.max(Te(mf(l),mf(c),n),0),(Gt.test(c)||Gt.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||s.rotate)&&(t.rotate=Te(e.rotate||0,s.rotate||0,n))}function gf(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const VP=nv(0,.5,Hx),BP=nv(.5,.95,xt);function nv(t,e,s){return n=>n<t?0:n>e?1:s(ar(t,e,n))}function xf(t,e){t.min=e.min,t.max=e.max}function dt(t,e){xf(t.x,e.x),xf(t.y,e.y)}function yf(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function vf(t,e,s,n,i){return t-=e,t=Bo(t,1/s,n),i!==void 0&&(t=Bo(t,1/i,n)),t}function UP(t,e=0,s=1,n=.5,i,r=t,o=t){if(Gt.test(e)&&(e=parseFloat(e),e=Te(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Te(r.min,r.max,n);t===r&&(a-=e),t.min=vf(t.min,e,s,a,i),t.max=vf(t.max,e,s,a,i)}function bf(t,e,[s,n,i],r,o){UP(t,e[s],e[n],e[i],e.scale,r,o)}const zP=["x","scaleX","originX"],HP=["y","scaleY","originY"];function wf(t,e,s,n){bf(t.x,e,zP,s?s.x:void 0,n?n.x:void 0),bf(t.y,e,HP,s?s.y:void 0,n?n.y:void 0)}function _f(t){return t.translate===0&&t.scale===1}function iv(t){return _f(t.x)&&_f(t.y)}function Sf(t,e){return t.min===e.min&&t.max===e.max}function WP(t,e){return Sf(t.x,e.x)&&Sf(t.y,e.y)}function jf(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function rv(t,e){return jf(t.x,e.x)&&jf(t.y,e.y)}function Tf(t){return Ze(t.x)/Ze(t.y)}function Cf(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class GP{constructor(){this.members=[]}add(e){od(this.members,e),e.scheduleRender()}remove(e){if(ad(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(i=>e===i);if(s===0)return!1;let n;for(let i=s;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){n=r;break}}return n?(this.promote(n),!0):!1}promote(e,s){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,s&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:n}=e;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function KP(t,e,s){let n="";const i=t.x.translate/e.x,r=t.y.translate/e.y,o=(s==null?void 0:s.z)||0;if((i||r||o)&&(n=`translate3d(${i}px, ${r}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:f,skewX:m,skewY:p}=s;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),p&&(n+=`skewY(${p}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const ll=["","X","Y","Z"],qP=1e3;let YP=0;function cl(t,e,s,n){const{latestValues:i}=e;i[t]&&(s[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function ov(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=Wy(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",je,!(i||r))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&ov(n)}function av({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=YP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(QP),this.nodes.forEach(sA),this.nodes.forEach(nA),this.nodes.forEach(ZP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new DP)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new cd),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=_y(o)&&!Hk(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u,h=0;const f=()=>this.root.updateBlockedByResize=!1;je.read(()=>{h=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,u&&u(),u=LP(f,250),vo.hasAnimatedSinceResize&&(vo.hasAnimatedSinceResize=!1,this.nodes.forEach(kf)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||lA,{onLayoutAnimationStart:g,onLayoutAnimationComplete:x}=c.getProps(),v=!this.targetLayout||!rv(this.targetLayout,m),b=!h&&f;if(this.options.layoutRoot||this.resumeFrom||b||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={..._d(p,"layout"),onPlay:g,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(u,b)}else h||kf(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),As(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iA),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ov(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ef);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Nf);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(tA),this.nodes.forEach(XP),this.nodes.forEach(JP)):this.nodes.forEach(Nf),this.clearAllSnapshots();const a=ot.now();Ve.delta=rs(0,1e3/60,a-Ve.timestamp),Ve.timestamp=a,Ve.isProcessing=!0,Ja.update.process(Ve),Ja.preRender.process(Ve),Ja.render.process(Ve),Ve.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eA),this.sharedNodes.forEach(rA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ze(this.snapshot.measuredBox.x)&&!Ze(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!iv(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||qs(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),cA(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Pe();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(dA))){const{scroll:u}=this.root;u&&(Ln(a.x,u.offset.x),Ln(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=Pe();if(dt(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&dt(a,o),Ln(a.x,h.offset.x),Ln(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Pe();dt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Fn(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),qs(u.latestValues)&&Fn(l,u.latestValues)}return qs(this.latestValues)&&Fn(l,this.latestValues),l}removeTransform(o){const a=Pe();dt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!qs(c.latestValues))continue;ac(c.latestValues)&&c.updateSnapshot();const u=Pe(),h=c.measurePageBox();dt(u,h),wf(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return qs(this.latestValues)&&wf(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ve.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Ve.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pe(),this.relativeTargetOrigin=Pe(),Xi(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),dt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pe(),this.targetWithTransforms=Pe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dt(this.target,this.layout.layoutBox),$y(this.target,this.targetDelta)):dt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pe(),this.relativeTargetOrigin=Pe(),Xi(this.relativeTargetOrigin,this.target,m.target),dt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ac(this.parent.latestValues)||Fy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ve.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;dt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;N1(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Pe());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yf(this.prevProjectionDelta.x,this.projectionDelta.x),yf(this.prevProjectionDelta.y,this.projectionDelta.y)),Yi(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Cf(this.projectionDelta.x,this.prevProjectionDelta.x)||!Cf(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$n(),this.projectionDelta=$n(),this.projectionDeltaWithTransform=$n()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=$n();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Pe(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=m!==p,x=this.getStack(),v=!x||x.members.length<=1,b=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(aA));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const _=S/1e3;Pf(h.x,o.x,_),Pf(h.y,o.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xi(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oA(this.relativeTarget,this.relativeTargetOrigin,f,_),w&&WP(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Pe()),dt(w,this.relativeTarget)),g&&(this.animationValues=u,$P(u,c,this.latestValues,_,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(As(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=je.update(()=>{vo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=oi(0)),this.currentAnimation=MP(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&lv(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Pe();const h=Ze(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Ze(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}dt(a,l),Fn(a,u),Yi(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new GP),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&cl("z",o,c,this.animationValues);for(let u=0;u<ll.length;u++)cl(`rotate${ll[u]}`,o,c,this.animationValues),cl(`skew${ll[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=yo(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=yo(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!qs(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=KP(this.projectionDeltaWithTransform,this.treeScale,u);l&&(h=l(u,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in ur){if(u[p]===void 0)continue;const{correct:g,applyTo:x,isCSSVariable:v}=ur[p],b=h==="none"?u[p]:g(u[p],c);if(x){const w=x.length;for(let S=0;S<w;S++)o[x[S]]=b}else v?this.options.visualElement.renderState.vars[p]=b:o[p]=b}this.options.layoutId&&(o.pointerEvents=c===this?yo(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Ef),this.root.sharedNodes.clear()}}}function XP(t){t.updateLayout()}function JP(t){var s;const e=((s=t.resumeFrom)==null?void 0:s.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:r}=t.options,o=e.source!==t.layout.source;r==="size"?ft(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=Ze(f);f.min=n[h].min,f.max=f.min+m}):lv(r,e.layoutBox,n)&&ft(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=Ze(n[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=$n();Yi(a,n,e.layoutBox);const l=$n();o?Yi(l,t.applyTransform(i,!0),e.measuredBox):Yi(l,n,e.layoutBox);const c=!iv(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const p=Pe();Xi(p,e.layoutBox,f.layoutBox);const g=Pe();Xi(g,n,m.layoutBox),rv(p,g)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=p,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function QP(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ZP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function eA(t){t.clearSnapshot()}function Ef(t){t.clearMeasurements()}function Nf(t){t.isLayoutDirty=!1}function tA(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function kf(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function sA(t){t.resolveTargetDelta()}function nA(t){t.calcProjection()}function iA(t){t.resetSkewAndRotation()}function rA(t){t.removeLeadSnapshot()}function Pf(t,e,s){t.translate=Te(e.translate,0,s),t.scale=Te(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function Af(t,e,s,n){t.min=Te(e.min,s.min,n),t.max=Te(e.max,s.max,n)}function oA(t,e,s,n){Af(t.x,e.x,s.x,n),Af(t.y,e.y,s.y,n)}function aA(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const lA={duration:.45,ease:[.4,0,.1,1]},Rf=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),If=Rf("applewebkit/")&&!Rf("chrome/")?Math.round:xt;function Mf(t){t.min=If(t.min),t.max=If(t.max)}function cA(t){Mf(t.x),Mf(t.y)}function lv(t,e,s){return t==="position"||t==="preserve-aspect"&&!pP(Tf(e),Tf(s),.2)}function dA(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const uA=av({attachResizeListener:(t,e)=>hr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dl={current:void 0},cv=av({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!dl.current){const t=new uA({});t.mount(window),t.setOptions({layoutScroll:!0}),dl.current=t}return dl.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),hA={pan:{Feature:PP},drag:{Feature:kP,ProjectionNode:cv,MeasureLayout:tv}};function Of(t,e,s){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,r=n[i];r&&je.postRender(()=>r(e,Or(e)))}class fA extends Ds{mount(){const{current:e}=this.node;e&&(this.unmount=$k(e,(s,n)=>(Of(this.node,n,"Start"),i=>Of(this.node,i,"End"))))}unmount(){}}class mA extends Ds{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rr(hr(this.node.current,"focus",()=>this.onFocus()),hr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Df(t,e,s){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),r=n[i];r&&je.postRender(()=>r(e,Or(e)))}class pA extends Ds{mount(){const{current:e}=this.node;e&&(this.unmount=zk(e,(s,n)=>(Df(this.node,n,"Start"),(i,{success:r})=>Df(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mc=new WeakMap,ul=new WeakMap,gA=t=>{const e=mc.get(t.target);e&&e(t)},xA=t=>{t.forEach(gA)};function yA({root:t,...e}){const s=t||document;ul.has(s)||ul.set(s,{});const n=ul.get(s),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(xA,{root:t,...e})),n[i]}function vA(t,e,s){const n=yA(e);return mc.set(t,s),n.observe(t),()=>{mc.delete(t),n.unobserve(t)}}const bA={some:0,all:1};class wA extends Ds{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:n,amount:i="some",once:r}=e,o={root:s?s.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:bA[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=c?u:h;f&&f(l)};return vA(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(_A(e,s))&&this.startObserver()}unmount(){}}function _A({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const SA={inView:{Feature:wA},tap:{Feature:pA},focus:{Feature:mA},hover:{Feature:fA}},jA={layout:{ProjectionNode:cv,MeasureLayout:tv}},TA={...cP,...SA,...hA,...jA},$=T1(TA,F1),CA="/assets/hero-bg-B7KnPagd.jpg",EA=()=>d.jsxs("div",{className:"min-h-screen",children:[d.jsxs("section",{className:"relative min-h-screen h-screen flex items-center justify-center text-center bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${CA})`},children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 to-black/40"}),d.jsxs($.div,{className:"relative z-10 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-20 safe-area-top",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[d.jsxs($.h1,{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-white mb-4 sm:mb-6 leading-tight",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:["Sustainable Tourism",d.jsx("span",{className:"block text-nature-accent mt-2",children:"& Climate Change"})]}),d.jsx($.p,{className:"text-base sm:text-lg md:text-xl lg:text-2xl text-gray-200 mb-6 sm:mb-8 max-w-3xl mx-auto px-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:"Discover how climate change is impacting tourism worldwide and learn to travel responsibly."}),d.jsxs($.div,{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center max-w-2xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:[d.jsx(Y,{asChild:!0,size:"lg",className:"bg-nature-accent hover:bg-nature-accent/90 text-white px-6 sm:px-8 py-3 text-base sm:text-lg shadow-glow w-full sm:w-auto touch-target",children:d.jsxs(Je,{to:"/calculator",className:"flex items-center justify-center",children:[d.jsx(Eo,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),"Calculate Your Impact"]})}),d.jsx(Y,{asChild:!0,variant:"outline",size:"lg",className:"border-white text-green-800 hover:bg-white hover:text-primary px-6 sm:px-8 py-3 text-base sm:text-lg w-full sm:w-auto touch-target",children:d.jsxs(Je,{to:"/destinations",className:"flex items-center justify-center",children:[d.jsx(Oc,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),"Explore Destinations"]})})]})]})]}),d.jsx("section",{className:"py-12 sm:py-16 lg:py-20 px-4 sm:px-6 lg:px-8 bg-gradient-card",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsx($.h2,{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-center mb-8 sm:mb-12 text-foreground px-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:"Start Your Sustainable Journey"}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:[d.jsx($.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:d.jsx(ee,{className:"h-full shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-card",children:d.jsxs(se,{className:"p-4 sm:p-6 lg:p-8",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center mb-4 gap-3",children:[d.jsx(Eo,{className:"h-6 w-6 sm:h-8 sm:w-8 text-nature-accent flex-shrink-0"}),d.jsx("h3",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-card-foreground",children:"Carbon Footprint Calculator"})]}),d.jsx("p",{className:"text-muted-foreground mb-4 sm:mb-6 text-sm sm:text-base lg:text-lg",children:"Calculate the environmental impact of your travels and discover greener alternatives."}),d.jsx(Y,{asChild:!0,className:"bg-primary hover:bg-primary/90 w-full sm:w-auto touch-target",children:d.jsxs(Je,{to:"/calculator",className:"flex items-center justify-center",children:["Calculate Now ",d.jsx(yu,{className:"ml-2 h-4 w-4"})]})})]})})}),d.jsx($.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:d.jsx(ee,{className:"h-full shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-card",children:d.jsxs(se,{className:"p-4 sm:p-6 lg:p-8",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center mb-4 gap-3",children:[d.jsx(Mt,{className:"h-6 w-6 sm:h-8 sm:w-8 text-nature-success flex-shrink-0"}),d.jsx("h3",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-card-foreground",children:"Eco-Friendly Destinations"})]}),d.jsx("p",{className:"text-muted-foreground mb-4 sm:mb-6 text-sm sm:text-base lg:text-lg",children:"Explore beautiful destinations committed to sustainable tourism practices."}),d.jsx(Y,{asChild:!0,className:"bg-nature-success hover:bg-nature-success/90 text-white w-full sm:w-auto touch-target",children:d.jsxs(Je,{to:"/destinations",className:"flex items-center justify-center",children:["Explore Destinations ",d.jsx(yu,{className:"ml-2 h-4 w-4"})]})})]})})})]})]})})]}),NA=()=>{const t=[{icon:Cl,title:"Rising Temperatures",description:"Global temperatures have increased by 1.1°C since pre-industrial times, affecting seasonal patterns and destination weather.",color:"text-red-500"},{icon:No,title:"Sea Level Rise",description:"Ocean levels are rising at 3.3mm per year, threatening coastal destinations and island nations worldwide.",color:"text-blue-500"},{icon:H0,title:"Extreme Weather",description:"Increased frequency of hurricanes, droughts, and floods disrupts travel plans and damages tourism infrastructure.",color:"text-purple-500"}],e=[{location:"The Himalayas",issue:"Melting Glaciers",description:"Rising temperatures are causing rapid glacier retreat, affecting trekking routes and water sources for mountain communities.",icon:ho},{location:"Maldives",issue:"Coral Bleaching",description:"Ocean warming and acidification are causing widespread coral bleaching, threatening marine tourism and local ecosystems.",icon:No},{location:"Europe",issue:"Heat Waves",description:"Record-breaking temperatures make summer travel uncomfortable and increase energy costs for tourism facilities.",icon:Cl}];return d.jsxs("div",{className:"min-h-screen pt-16",children:[d.jsx("section",{className:"py-20 px-6 bg-gradient-hero text-white",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx($.h1,{className:"text-5xl md:text-6xl font-bold mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:"Climate Change & Tourism"}),d.jsx($.p,{className:"text-xl md:text-2xl text-gray-200 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Understanding the complex relationship between our changing climate and the tourism industry that connects us to the world's most beautiful destinations."})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Understanding Climate Change"}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Climate change encompasses several interconnected phenomena that directly impact tourism destinations and travel experiences."})]}),d.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:t.map((s,n)=>{const i=s.icon;return d.jsx($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:n*.2},children:d.jsxs(ee,{className:"h-full shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-gradient-card",children:[d.jsxs(we,{className:"text-center",children:[d.jsx(i,{className:`h-16 w-16 mx-auto mb-4 ${s.color}`}),d.jsx(Se,{className:"text-2xl",children:s.title})]}),d.jsx(se,{children:d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:s.description})})]})},s.title)})})]})}),d.jsx("section",{className:"py-20 px-6 bg-muted/30",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Real-World Examples"}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Climate change is already affecting some of the world's most beloved travel destinations."})]}),d.jsx("div",{className:"space-y-8",children:e.map((s,n)=>{const i=s.icon;return d.jsx($.div,{initial:{opacity:0,x:n%2===0?-20:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:n*.1},children:d.jsx(ee,{className:"shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-card",children:d.jsxs(se,{className:"flex items-center p-8",children:[d.jsx("div",{className:"flex-shrink-0 mr-8",children:d.jsx(i,{className:"h-16 w-16 text-nature-secondary"})}),d.jsxs("div",{className:"flex-grow",children:[d.jsx("h3",{className:"text-2xl font-bold text-card-foreground mb-2",children:s.location}),d.jsx("h4",{className:"text-lg font-semibold text-nature-accent mb-3",children:s.issue}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:s.description})]})]})})},s.location)})})]})}),d.jsx("section",{className:"py-20 px-6 bg-primary text-primary-foreground",children:d.jsx("div",{className:"max-w-4xl mx-auto text-center",children:d.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx(Tl,{className:"h-16 w-16 mx-auto mb-6 text-nature-accent"}),d.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Together We Can Make a Difference"}),d.jsx("p",{className:"text-xl text-primary-foreground/90 leading-relaxed",children:"By understanding climate change and its impacts on tourism, we can make informed decisions that help preserve the destinations we love for future generations. Every sustainable choice counts."})]})})})]})};var va="Collapsible",[kA,dv]=Ms(va),[PA,Od]=kA(va),uv=y.forwardRef((t,e)=>{const{__scopeCollapsible:s,open:n,defaultOpen:i,disabled:r,onOpenChange:o,...a}=t,[l,c]=Zn({prop:n,defaultProp:i??!1,onChange:o,caller:va});return d.jsx(PA,{scope:s,disabled:r,contentId:Tr(),open:l,onOpenToggle:y.useCallback(()=>c(u=>!u),[c]),children:d.jsx(re.div,{"data-state":Ld(l),"data-disabled":r?"":void 0,...a,ref:e})})});uv.displayName=va;var hv="CollapsibleTrigger",fv=y.forwardRef((t,e)=>{const{__scopeCollapsible:s,...n}=t,i=Od(hv,s);return d.jsx(re.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Ld(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:J(t.onClick,i.onOpenToggle)})});fv.displayName=hv;var Dd="CollapsibleContent",mv=y.forwardRef((t,e)=>{const{forceMount:s,...n}=t,i=Od(Dd,t.__scopeCollapsible);return d.jsx(yn,{present:s||i.open,children:({present:r})=>d.jsx(AA,{...n,ref:e,present:r})})});mv.displayName=Dd;var AA=y.forwardRef((t,e)=>{const{__scopeCollapsible:s,present:n,children:i,...r}=t,o=Od(Dd,s),[a,l]=y.useState(n),c=y.useRef(null),u=ke(e,c),h=y.useRef(0),f=h.current,m=y.useRef(0),p=m.current,g=o.open||a,x=y.useRef(g),v=y.useRef(void 0);return y.useEffect(()=>{const b=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(b)},[]),at(()=>{const b=c.current;if(b){v.current=v.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();h.current=w.height,m.current=w.width,x.current||(b.style.transitionDuration=v.current.transitionDuration,b.style.animationName=v.current.animationName),l(n)}},[o.open,n]),d.jsx(re.div,{"data-state":Ld(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...r,ref:u,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...t.style},children:g&&i})});function Ld(t){return t?"open":"closed"}var RA=uv,IA=fv,MA=mv,Ot="Accordion",OA=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Fd,DA,LA]=Rc(Ot),[ba,Q2]=Ms(Ot,[LA,dv]),$d=dv(),pv=I.forwardRef((t,e)=>{const{type:s,...n}=t,i=n,r=n;return d.jsx(Fd.Provider,{scope:t.__scopeAccordion,children:s==="multiple"?d.jsx(BA,{...r,ref:e}):d.jsx(VA,{...i,ref:e})})});pv.displayName=Ot;var[gv,FA]=ba(Ot),[xv,$A]=ba(Ot,{collapsible:!1}),VA=I.forwardRef((t,e)=>{const{value:s,defaultValue:n,onValueChange:i=()=>{},collapsible:r=!1,...o}=t,[a,l]=Zn({prop:s,defaultProp:n??"",onChange:i,caller:Ot});return d.jsx(gv,{scope:t.__scopeAccordion,value:I.useMemo(()=>a?[a]:[],[a]),onItemOpen:l,onItemClose:I.useCallback(()=>r&&l(""),[r,l]),children:d.jsx(xv,{scope:t.__scopeAccordion,collapsible:r,children:d.jsx(yv,{...o,ref:e})})})}),BA=I.forwardRef((t,e)=>{const{value:s,defaultValue:n,onValueChange:i=()=>{},...r}=t,[o,a]=Zn({prop:s,defaultProp:n??[],onChange:i,caller:Ot}),l=I.useCallback(u=>a((h=[])=>[...h,u]),[a]),c=I.useCallback(u=>a((h=[])=>h.filter(f=>f!==u)),[a]);return d.jsx(gv,{scope:t.__scopeAccordion,value:o,onItemOpen:l,onItemClose:c,children:d.jsx(xv,{scope:t.__scopeAccordion,collapsible:!0,children:d.jsx(yv,{...r,ref:e})})})}),[UA,wa]=ba(Ot),yv=I.forwardRef((t,e)=>{const{__scopeAccordion:s,disabled:n,dir:i,orientation:r="vertical",...o}=t,a=I.useRef(null),l=ke(a,e),c=DA(s),h=Mc(i)==="ltr",f=J(t.onKeyDown,m=>{var C;if(!OA.includes(m.key))return;const p=m.target,g=c().filter(N=>{var E;return!((E=N.ref.current)!=null&&E.disabled)}),x=g.findIndex(N=>N.ref.current===p),v=g.length;if(x===-1)return;m.preventDefault();let b=x;const w=0,S=v-1,_=()=>{b=x+1,b>S&&(b=w)},j=()=>{b=x-1,b<w&&(b=S)};switch(m.key){case"Home":b=w;break;case"End":b=S;break;case"ArrowRight":r==="horizontal"&&(h?_():j());break;case"ArrowDown":r==="vertical"&&_();break;case"ArrowLeft":r==="horizontal"&&(h?j():_());break;case"ArrowUp":r==="vertical"&&j();break}const T=b%v;(C=g[T].ref.current)==null||C.focus()});return d.jsx(UA,{scope:s,disabled:n,direction:i,orientation:r,children:d.jsx(Fd.Slot,{scope:s,children:d.jsx(re.div,{...o,"data-orientation":r,ref:l,onKeyDown:n?void 0:f})})})}),Uo="AccordionItem",[zA,Vd]=ba(Uo),vv=I.forwardRef((t,e)=>{const{__scopeAccordion:s,value:n,...i}=t,r=wa(Uo,s),o=FA(Uo,s),a=$d(s),l=Tr(),c=n&&o.value.includes(n)||!1,u=r.disabled||t.disabled;return d.jsx(zA,{scope:s,open:c,disabled:u,triggerId:l,children:d.jsx(RA,{"data-orientation":r.orientation,"data-state":Tv(c),...a,...i,ref:e,disabled:u,open:c,onOpenChange:h=>{h?o.onItemOpen(n):o.onItemClose(n)}})})});vv.displayName=Uo;var bv="AccordionHeader",wv=I.forwardRef((t,e)=>{const{__scopeAccordion:s,...n}=t,i=wa(Ot,s),r=Vd(bv,s);return d.jsx(re.h3,{"data-orientation":i.orientation,"data-state":Tv(r.open),"data-disabled":r.disabled?"":void 0,...n,ref:e})});wv.displayName=bv;var pc="AccordionTrigger",_v=I.forwardRef((t,e)=>{const{__scopeAccordion:s,...n}=t,i=wa(Ot,s),r=Vd(pc,s),o=$A(pc,s),a=$d(s);return d.jsx(Fd.ItemSlot,{scope:s,children:d.jsx(IA,{"aria-disabled":r.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:r.triggerId,...a,...n,ref:e})})});_v.displayName=pc;var Sv="AccordionContent",jv=I.forwardRef((t,e)=>{const{__scopeAccordion:s,...n}=t,i=wa(Ot,s),r=Vd(Sv,s),o=$d(s);return d.jsx(MA,{role:"region","aria-labelledby":r.triggerId,"data-orientation":i.orientation,...o,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});jv.displayName=Sv;function Tv(t){return t?"open":"closed"}var HA=pv,WA=vv,GA=wv,Cv=_v,Ev=jv;const KA=HA,Nv=y.forwardRef(({className:t,...e},s)=>d.jsx(WA,{ref:s,className:H("border-b",t),...e}));Nv.displayName="AccordionItem";const kv=y.forwardRef(({className:t,children:e,...s},n)=>d.jsx(GA,{className:"flex",children:d.jsxs(Cv,{ref:n,className:H("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...s,children:[e,d.jsx(Dc,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));kv.displayName=Cv.displayName;const Pv=y.forwardRef(({className:t,children:e,...s},n)=>d.jsx(Ev,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...s,children:d.jsx("div",{className:H("pb-4 pt-0",t),children:e})}));Pv.displayName=Ev.displayName;const qA=()=>{const t=[{id:"environment",title:"Environmental Impact",icon:Mt,color:"text-green-500",impacts:[{title:"Rising Temperatures",description:"Global warming is changing seasonal patterns and making some destinations uncomfortably hot during traditional peak seasons.",severity:"High"},{title:"Extreme Weather Events",description:"Increased frequency of hurricanes, floods, and droughts disrupts travel plans and damages tourism infrastructure.",severity:"High"},{title:"Ecosystem Disruption",description:"Climate change affects wildlife migration patterns and breeding cycles, impacting eco-tourism experiences.",severity:"Medium"},{title:"Water Scarcity",description:"Changing precipitation patterns and increased temperatures lead to water shortages in popular destinations.",severity:"High"}]},{id:"industry",title:"Tourism Industry Impact",icon:G0,color:"text-blue-500",impacts:[{title:"Destination Loss",description:"Sea level rise and extreme weather threaten iconic destinations like coral reefs and ski resorts.",severity:"High"},{title:"Increased Operational Costs",description:"Higher energy costs for cooling, heating, and infrastructure protection due to climate changes.",severity:"Medium"},{title:"Seasonal Disruption",description:"Traditional travel seasons are shifting, affecting booking patterns and revenue streams.",severity:"Medium"},{title:"Insurance Costs",description:"Rising insurance premiums due to increased climate-related risks and damages.",severity:"Medium"}]},{id:"communities",title:"Local Communities Impact",icon:Lc,color:"text-purple-500",impacts:[{title:"Job Displacement",description:"Tourism-dependent communities face unemployment as destinations become less viable due to climate change.",severity:"High"},{title:"Cultural Heritage at Risk",description:"Rising sea levels and extreme weather threaten historical sites and cultural landmarks.",severity:"High"},{title:"Economic Instability",description:"Communities heavily reliant on tourism face economic uncertainty as visitor patterns change.",severity:"Medium"},{title:"Forced Migration",description:"Some communities may need to relocate due to sea level rise or extreme weather events.",severity:"High"}]}],e=s=>{switch(s){case"High":return"text-red-500 bg-red-50";case"Medium":return"text-orange-500 bg-orange-50";case"Low":return"text-green-500 bg-green-50";default:return"text-gray-500 bg-gray-50"}};return d.jsxs("div",{className:"min-h-screen pt-16",children:[d.jsx("section",{className:"py-20 px-6 bg-gradient-hero text-white",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx($.h1,{className:"text-5xl md:text-6xl font-bold mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:"Climate Change Impacts"}),d.jsx($.p,{className:"text-xl md:text-2xl text-gray-200 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Explore how climate change affects the environment, tourism industry, and local communities worldwide."})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Understanding the Impact"}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Climate change affects tourism through multiple interconnected pathways, creating challenges for destinations, businesses, and communities."})]}),d.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:t.map((s,n)=>{const i=s.icon;return d.jsx($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:n*.2},children:d.jsxs(ee,{className:"h-full shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-gradient-card",children:[d.jsxs(we,{className:"text-center",children:[d.jsx(i,{className:`h-16 w-16 mx-auto mb-4 ${s.color}`}),d.jsx(Se,{className:"text-2xl",children:s.title})]}),d.jsx(se,{children:d.jsx("div",{className:"text-center",children:d.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.impacts.length," key impacts"]})})})]})},s.id)})})]})}),d.jsx("section",{className:"py-20 px-6 bg-muted/30",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Detailed Impact Analysis"}),d.jsx("p",{className:"text-xl text-muted-foreground",children:"Explore specific impacts within each category to understand the full scope of climate change effects on tourism."})]}),d.jsx($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:d.jsx(KA,{type:"single",collapsible:!0,className:"space-y-4",children:t.map(s=>{const n=s.icon;return d.jsx(Nv,{value:s.id,className:"border-none",children:d.jsxs(ee,{className:"shadow-card-eco border-none bg-card",children:[d.jsx(kv,{className:"px-6 py-4 hover:no-underline",children:d.jsxs("div",{className:"flex items-center text-left",children:[d.jsx(n,{className:`h-8 w-8 mr-4 ${s.color}`}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold text-card-foreground",children:s.title}),d.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Click to explore ",s.impacts.length," specific impacts"]})]})]})}),d.jsx(Pv,{className:"px-6 pb-6",children:d.jsx("div",{className:"space-y-4 mt-4",children:s.impacts.map((i,r)=>d.jsxs("div",{className:"p-4 rounded-lg bg-muted/50",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsx("h4",{className:"font-semibold text-card-foreground",children:i.title}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e(i.severity)}`,children:i.severity})]}),d.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:i.description})]},r))})})]})},s.id)})})})]})}),d.jsx("section",{className:"py-20 px-6 bg-primary text-primary-foreground",children:d.jsx("div",{className:"max-w-4xl mx-auto text-center",children:d.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx(W0,{className:"h-16 w-16 mx-auto mb-6 text-nature-warning"}),d.jsx("h2",{className:"text-4xl font-bold mb-6",children:"The Time to Act is Now"}),d.jsx("p",{className:"text-xl text-primary-foreground/90 leading-relaxed mb-8",children:"Understanding these impacts is the first step toward sustainable tourism. By making informed choices and supporting climate-conscious travel practices, we can help mitigate these effects and protect the destinations we love."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsx($.a,{href:"/calculator",className:"inline-flex items-center px-6 py-3 bg-nature-accent hover:bg-nature-accent/90 text-white rounded-md font-medium transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Calculate Your Impact"}),d.jsx($.a,{href:"/tips",className:"inline-flex items-center px-6 py-3 border border-primary-foreground/20 hover:bg-primary-foreground/10 text-primary-foreground rounded-md font-medium transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Learn Sustainable Practices"})]})]})})})]})};var YA="Label",Av=y.forwardRef((t,e)=>d.jsx(re.label,{...t,ref:e,onMouseDown:s=>{var i;s.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Av.displayName=YA;var Rv=Av;const XA=Er("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$e=y.forwardRef(({className:t,...e},s)=>d.jsx(Rv,{ref:s,className:H(XA(),t),...e}));$e.displayName=Rv.displayName;function JA(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var QA=[" ","Enter","ArrowUp","ArrowDown"],ZA=[" ","Enter"],mn="Select",[_a,Sa,eR]=Rc(mn),[gi,Z2]=Ms(mn,[eR,Zo]),ja=Zo(),[tR,Ls]=gi(mn),[sR,nR]=gi(mn),Iv=t=>{const{__scopeSelect:e,children:s,open:n,defaultOpen:i,onOpenChange:r,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:f,required:m,form:p}=t,g=ja(e),[x,v]=y.useState(null),[b,w]=y.useState(null),[S,_]=y.useState(!1),j=Mc(c),[T,C]=Zn({prop:n,defaultProp:i??!1,onChange:r,caller:mn}),[N,E]=Zn({prop:o,defaultProp:a,onChange:l,caller:mn}),P=y.useRef(null),A=x?p||!!x.closest("form"):!0,[W,F]=y.useState(new Set),M=Array.from(W).map(O=>O.props.value).join(";");return d.jsx(Q0,{...g,children:d.jsxs(tR,{required:m,scope:e,trigger:x,onTriggerChange:v,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:Tr(),value:N,onValueChange:E,open:T,onOpenChange:C,dir:j,triggerPointerDownPosRef:P,disabled:f,children:[d.jsx(_a.Provider,{scope:e,children:d.jsx(sR,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(O=>{F(D=>new Set(D).add(O))},[]),onNativeOptionRemove:y.useCallback(O=>{F(D=>{const L=new Set(D);return L.delete(O),L})},[]),children:s})}),A?d.jsxs(nb,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:h,value:N,onChange:O=>E(O.target.value),disabled:f,form:p,children:[N===void 0?d.jsx("option",{value:""}):null,Array.from(W)]},M):null]})})};Iv.displayName=mn;var Mv="SelectTrigger",Ov=y.forwardRef((t,e)=>{const{__scopeSelect:s,disabled:n=!1,...i}=t,r=ja(s),o=Ls(Mv,s),a=o.disabled||n,l=ke(e,o.onTriggerChange),c=Sa(s),u=y.useRef("touch"),[h,f,m]=rb(g=>{const x=c().filter(w=>!w.disabled),v=x.find(w=>w.value===o.value),b=ob(x,g,v);b!==void 0&&o.onValueChange(b.value)}),p=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return d.jsx(lp,{asChild:!0,...r,children:d.jsx(re.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":ib(o.value)?"":void 0,...i,ref:l,onClick:J(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&p(g)}),onPointerDown:J(i.onPointerDown,g=>{u.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:J(i.onKeyDown,g=>{const x=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(x&&g.key===" ")&&QA.includes(g.key)&&(p(),g.preventDefault())})})})});Ov.displayName=Mv;var Dv="SelectValue",Lv=y.forwardRef((t,e)=>{const{__scopeSelect:s,className:n,style:i,children:r,placeholder:o="",...a}=t,l=Ls(Dv,s),{onValueNodeHasChildrenChange:c}=l,u=r!==void 0,h=ke(e,l.onValueNodeChange);return at(()=>{c(u)},[c,u]),d.jsx(re.span,{...a,ref:h,style:{pointerEvents:"none"},children:ib(l.value)?d.jsx(d.Fragment,{children:o}):r})});Lv.displayName=Dv;var iR="SelectIcon",Fv=y.forwardRef((t,e)=>{const{__scopeSelect:s,children:n,...i}=t;return d.jsx(re.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});Fv.displayName=iR;var rR="SelectPortal",$v=t=>d.jsx(ap,{asChild:!0,...t});$v.displayName=rR;var pn="SelectContent",Vv=y.forwardRef((t,e)=>{const s=Ls(pn,t.__scopeSelect),[n,i]=y.useState();if(at(()=>{i(new DocumentFragment)},[]),!s.open){const r=n;return r?ea.createPortal(d.jsx(Bv,{scope:t.__scopeSelect,children:d.jsx(_a.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),r):null}return d.jsx(Uv,{...t,ref:e})});Vv.displayName=pn;var Et=10,[Bv,Fs]=gi(pn),oR="SelectContentImpl",aR=J0("SelectContent.RemoveScroll"),Uv=y.forwardRef((t,e)=>{const{__scopeSelect:s,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:r,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:x,...v}=t,b=Ls(pn,s),[w,S]=y.useState(null),[_,j]=y.useState(null),T=ke(e,V=>S(V)),[C,N]=y.useState(null),[E,P]=y.useState(null),A=Sa(s),[W,F]=y.useState(!1),M=y.useRef(!1);y.useEffect(()=>{if(w)return K0(w)},[w]),q0();const O=y.useCallback(V=>{const[ge,...Oe]=A().map(ue=>ue.ref.current),[me]=Oe.slice(-1),le=document.activeElement;for(const ue of V)if(ue===le||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===ge&&_&&(_.scrollTop=0),ue===me&&_&&(_.scrollTop=_.scrollHeight),ue==null||ue.focus(),document.activeElement!==le))return},[A,_]),D=y.useCallback(()=>O([C,w]),[O,C,w]);y.useEffect(()=>{W&&D()},[W,D]);const{onOpenChange:L,triggerPointerDownPosRef:R}=b;y.useEffect(()=>{if(w){let V={x:0,y:0};const ge=me=>{var le,ue;V={x:Math.abs(Math.round(me.pageX)-(((le=R.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(me.pageY)-(((ue=R.current)==null?void 0:ue.y)??0))}},Oe=me=>{V.x<=10&&V.y<=10?me.preventDefault():w.contains(me.target)||L(!1),document.removeEventListener("pointermove",ge),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[w,L,R]),y.useEffect(()=>{const V=()=>L(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[L]);const[z,de]=rb(V=>{const ge=A().filter(le=>!le.disabled),Oe=ge.find(le=>le.ref.current===document.activeElement),me=ob(ge,V,Oe);me&&setTimeout(()=>me.ref.current.focus())}),X=y.useCallback((V,ge,Oe)=>{const me=!M.current&&!Oe;(b.value!==void 0&&b.value===ge||me)&&(N(V),me&&(M.current=!0))},[b.value]),te=y.useCallback(()=>w==null?void 0:w.focus(),[w]),Q=y.useCallback((V,ge,Oe)=>{const me=!M.current&&!Oe;(b.value!==void 0&&b.value===ge||me)&&P(V)},[b.value]),ye=n==="popper"?gc:zv,Re=ye===gc?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:x}:{};return d.jsx(Bv,{scope:s,content:w,viewport:_,onViewportChange:j,itemRefCallback:X,selectedItem:C,onItemLeave:te,itemTextRefCallback:Q,focusSelectedItem:D,selectedItemText:E,position:n,isPositioned:W,searchRef:z,children:d.jsx(Y0,{as:aR,allowPinchZoom:!0,children:d.jsx(X0,{asChild:!0,trapped:b.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:J(i,V=>{var ge;(ge=b.trigger)==null||ge.focus({preventScroll:!0}),V.preventDefault()}),children:d.jsx(cp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:d.jsx(ye,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:V=>V.preventDefault(),...v,...Re,onPlaced:()=>F(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:J(v.onKeyDown,V=>{const ge=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!ge&&V.key.length===1&&de(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let me=A().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(V.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const le=V.target,ue=me.indexOf(le);me=me.slice(ue+1)}setTimeout(()=>O(me)),V.preventDefault()}})})})})})})});Uv.displayName=oR;var lR="SelectItemAlignedPosition",zv=y.forwardRef((t,e)=>{const{__scopeSelect:s,onPlaced:n,...i}=t,r=Ls(pn,s),o=Fs(pn,s),[a,l]=y.useState(null),[c,u]=y.useState(null),h=ke(e,T=>u(T)),f=Sa(s),m=y.useRef(!1),p=y.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:v,focusSelectedItem:b}=o,w=y.useCallback(()=>{if(r.trigger&&r.valueNode&&a&&c&&g&&x&&v){const T=r.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),N=r.valueNode.getBoundingClientRect(),E=v.getBoundingClientRect();if(r.dir!=="rtl"){const le=E.left-C.left,ue=N.left-le,Dt=T.left-ue,Yt=T.width+Dt,yi=Math.max(Yt,C.width),wn=window.innerWidth-Et,vi=Kl(ue,[Et,Math.max(Et,wn-yi)]);a.style.minWidth=Yt+"px",a.style.left=vi+"px"}else{const le=C.right-E.right,ue=window.innerWidth-N.right-le,Dt=window.innerWidth-T.right-ue,Yt=T.width+Dt,yi=Math.max(Yt,C.width),wn=window.innerWidth-Et,vi=Kl(ue,[Et,Math.max(Et,wn-yi)]);a.style.minWidth=Yt+"px",a.style.right=vi+"px"}const P=f(),A=window.innerHeight-Et*2,W=g.scrollHeight,F=window.getComputedStyle(c),M=parseInt(F.borderTopWidth,10),O=parseInt(F.paddingTop,10),D=parseInt(F.borderBottomWidth,10),L=parseInt(F.paddingBottom,10),R=M+O+W+L+D,z=Math.min(x.offsetHeight*5,R),de=window.getComputedStyle(g),X=parseInt(de.paddingTop,10),te=parseInt(de.paddingBottom,10),Q=T.top+T.height/2-Et,ye=A-Q,Re=x.offsetHeight/2,V=x.offsetTop+Re,ge=M+O+V,Oe=R-ge;if(ge<=Q){const le=P.length>0&&x===P[P.length-1].ref.current;a.style.bottom="0px";const ue=c.clientHeight-g.offsetTop-g.offsetHeight,Dt=Math.max(ye,Re+(le?te:0)+ue+D),Yt=ge+Dt;a.style.height=Yt+"px"}else{const le=P.length>0&&x===P[0].ref.current;a.style.top="0px";const Dt=Math.max(Q,M+g.offsetTop+(le?X:0)+Re)+Oe;a.style.height=Dt+"px",g.scrollTop=ge-Q+g.offsetTop}a.style.margin=`${Et}px 0`,a.style.minHeight=z+"px",a.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[f,r.trigger,r.valueNode,a,c,g,x,v,r.dir,n]);at(()=>w(),[w]);const[S,_]=y.useState();at(()=>{c&&_(window.getComputedStyle(c).zIndex)},[c]);const j=y.useCallback(T=>{T&&p.current===!0&&(w(),b==null||b(),p.current=!1)},[w,b]);return d.jsx(dR,{scope:s,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:d.jsx(re.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});zv.displayName=lR;var cR="SelectPopperPosition",gc=y.forwardRef((t,e)=>{const{__scopeSelect:s,align:n="start",collisionPadding:i=Et,...r}=t,o=ja(s);return d.jsx(dp,{...o,...r,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...r.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gc.displayName=cR;var[dR,Bd]=gi(pn,{}),xc="SelectViewport",Hv=y.forwardRef((t,e)=>{const{__scopeSelect:s,nonce:n,...i}=t,r=Fs(xc,s),o=Bd(xc,s),a=ke(e,r.onViewportChange),l=y.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),d.jsx(_a.Slot,{scope:s,children:d.jsx(re.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:J(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(l.current-u.scrollTop);if(m>0){const p=window.innerHeight-Et*2,g=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),v=Math.max(g,x);if(v<p){const b=v+m,w=Math.min(p,b),S=b-w;h.style.height=w+"px",h.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});Hv.displayName=xc;var Wv="SelectGroup",[uR,hR]=gi(Wv),fR=y.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t,i=Tr();return d.jsx(uR,{scope:s,id:i,children:d.jsx(re.div,{role:"group","aria-labelledby":i,...n,ref:e})})});fR.displayName=Wv;var Gv="SelectLabel",Kv=y.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t,i=hR(Gv,s);return d.jsx(re.div,{id:i.id,...n,ref:e})});Kv.displayName=Gv;var zo="SelectItem",[mR,qv]=gi(zo),Yv=y.forwardRef((t,e)=>{const{__scopeSelect:s,value:n,disabled:i=!1,textValue:r,...o}=t,a=Ls(zo,s),l=Fs(zo,s),c=a.value===n,[u,h]=y.useState(r??""),[f,m]=y.useState(!1),p=ke(e,b=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,b,n,i)}),g=Tr(),x=y.useRef("touch"),v=()=>{i||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(mR,{scope:s,value:n,disabled:i,textId:g,isSelected:c,onItemTextChange:y.useCallback(b=>{h(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:d.jsx(_a.ItemSlot,{scope:s,value:n,disabled:i,textValue:u,children:d.jsx(re.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:p,onFocus:J(o.onFocus,()=>m(!0)),onBlur:J(o.onBlur,()=>m(!1)),onClick:J(o.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:J(o.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:J(o.onPointerDown,b=>{x.current=b.pointerType}),onPointerMove:J(o.onPointerMove,b=>{var w;x.current=b.pointerType,i?(w=l.onItemLeave)==null||w.call(l):x.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:J(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:J(o.onKeyDown,b=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&b.key===" "||(ZA.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});Yv.displayName=zo;var Ii="SelectItemText",Xv=y.forwardRef((t,e)=>{const{__scopeSelect:s,className:n,style:i,...r}=t,o=Ls(Ii,s),a=Fs(Ii,s),l=qv(Ii,s),c=nR(Ii,s),[u,h]=y.useState(null),f=ke(e,v=>h(v),l.onItemTextChange,v=>{var b;return(b=a.itemTextRefCallback)==null?void 0:b.call(a,v,l.value,l.disabled)}),m=u==null?void 0:u.textContent,p=y.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=c;return at(()=>(g(p),()=>x(p)),[g,x,p]),d.jsxs(d.Fragment,{children:[d.jsx(re.span,{id:l.textId,...r,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ea.createPortal(r.children,o.valueNode):null]})});Xv.displayName=Ii;var Jv="SelectItemIndicator",Qv=y.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t;return qv(Jv,s).isSelected?d.jsx(re.span,{"aria-hidden":!0,...n,ref:e}):null});Qv.displayName=Jv;var yc="SelectScrollUpButton",Zv=y.forwardRef((t,e)=>{const s=Fs(yc,t.__scopeSelect),n=Bd(yc,t.__scopeSelect),[i,r]=y.useState(!1),o=ke(e,n.onScrollButtonChange);return at(()=>{if(s.viewport&&s.isPositioned){let a=function(){const c=l.scrollTop>0;r(c)};const l=s.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[s.viewport,s.isPositioned]),i?d.jsx(tb,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=s;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});Zv.displayName=yc;var vc="SelectScrollDownButton",eb=y.forwardRef((t,e)=>{const s=Fs(vc,t.__scopeSelect),n=Bd(vc,t.__scopeSelect),[i,r]=y.useState(!1),o=ke(e,n.onScrollButtonChange);return at(()=>{if(s.viewport&&s.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;r(u)};const l=s.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[s.viewport,s.isPositioned]),i?d.jsx(tb,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=s;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});eb.displayName=vc;var tb=y.forwardRef((t,e)=>{const{__scopeSelect:s,onAutoScroll:n,...i}=t,r=Fs("SelectScrollButton",s),o=y.useRef(null),a=Sa(s),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),at(()=>{var u;const c=a().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),d.jsx(re.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:J(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:J(i.onPointerMove,()=>{var c;(c=r.onItemLeave)==null||c.call(r),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:J(i.onPointerLeave,()=>{l()})})}),pR="SelectSeparator",sb=y.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t;return d.jsx(re.div,{"aria-hidden":!0,...n,ref:e})});sb.displayName=pR;var bc="SelectArrow",gR=y.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t,i=ja(s),r=Ls(bc,s),o=Fs(bc,s);return r.open&&o.position==="popper"?d.jsx(up,{...i,...n,ref:e}):null});gR.displayName=bc;var xR="SelectBubbleInput",nb=y.forwardRef(({__scopeSelect:t,value:e,...s},n)=>{const i=y.useRef(null),r=ke(n,i),o=JA(e);return y.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const h=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(h)}},[o,e]),d.jsx(re.select,{...s,style:{...Rp,...s.style},ref:r,defaultValue:e})});nb.displayName=xR;function ib(t){return t===""||t===void 0}function rb(t){const e=lt(t),s=y.useRef(""),n=y.useRef(0),i=y.useCallback(o=>{const a=s.current+o;e(a),function l(c){s.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),r=y.useCallback(()=>{s.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[s,i,r]}function ob(t,e,s){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,r=s?t.indexOf(s):-1;let o=yR(t,Math.max(r,0));i.length===1&&(o=o.filter(c=>c!==s));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==s?l:void 0}function yR(t,e){return t.map((s,n)=>t[(e+n)%t.length])}var vR=Iv,ab=Ov,bR=Lv,wR=Fv,_R=$v,lb=Vv,SR=Hv,cb=Kv,db=Yv,jR=Xv,TR=Qv,ub=Zv,hb=eb,fb=sb;const CR=vR,ER=bR,mb=y.forwardRef(({className:t,children:e,...s},n)=>d.jsxs(ab,{ref:n,className:H("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[e,d.jsx(wR,{asChild:!0,children:d.jsx(Dc,{className:"h-4 w-4 opacity-50"})})]}));mb.displayName=ab.displayName;const pb=y.forwardRef(({className:t,...e},s)=>d.jsx(ub,{ref:s,className:H("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(Z0,{className:"h-4 w-4"})}));pb.displayName=ub.displayName;const gb=y.forwardRef(({className:t,...e},s)=>d.jsx(hb,{ref:s,className:H("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(Dc,{className:"h-4 w-4"})}));gb.displayName=hb.displayName;const xb=y.forwardRef(({className:t,children:e,position:s="popper",...n},i)=>d.jsx(_R,{children:d.jsxs(lb,{ref:i,className:H("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...n,children:[d.jsx(pb,{}),d.jsx(SR,{className:H("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(gb,{})]})}));xb.displayName=lb.displayName;const NR=y.forwardRef(({className:t,...e},s)=>d.jsx(cb,{ref:s,className:H("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));NR.displayName=cb.displayName;const yb=y.forwardRef(({className:t,children:e,...s},n)=>d.jsxs(db,{ref:n,className:H("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...s,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(TR,{children:d.jsx(st,{className:"h-4 w-4"})})}),d.jsx(jR,{children:e})]}));yb.displayName=db.displayName;const kR=y.forwardRef(({className:t,...e},s)=>d.jsx(fb,{ref:s,className:H("-mx-1 my-1 h-px bg-muted",t),...e}));kR.displayName=fb.displayName;const PR=Er("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),fr=y.forwardRef(({className:t,variant:e,...s},n)=>d.jsx("div",{ref:n,role:"alert",className:H(PR({variant:e}),t),...s}));fr.displayName="Alert";const AR=y.forwardRef(({className:t,...e},s)=>d.jsx("h5",{ref:s,className:H("mb-1 font-medium leading-none tracking-tight",t),...e}));AR.displayName="AlertTitle";const mr=y.forwardRef(({className:t,...e},s)=>d.jsx("div",{ref:s,className:H("text-sm [&_p]:leading-relaxed",t),...e}));mr.displayName="AlertDescription";const RR=()=>{const[t,e]=y.useState(""),[s,n]=y.useState(""),[i,r]=y.useState(null),o=[{value:"flight",label:"Flight",icon:Sp,factor:.15,color:"text-red-500"},{value:"train",label:"Train",icon:tw,factor:.04,color:"text-green-500"},{value:"car",label:"Car",icon:sw,factor:.12,color:"text-orange-500"}],a=()=>{if(!t||!s)return;const u=o.find(m=>m.value===t);if(!u)return;const h=parseFloat(s)*u.factor,f=l(t);r({emissions:Math.round(h*100)/100,mode:u.label,suggestions:f})},l=(u,h)=>{const f=["Offset your carbon footprint through verified carbon offset programs","Choose eco-friendly accommodations with green certifications","Support local businesses and communities at your destination"];switch(u){case"flight":return["Consider train travel for shorter distances (under 1000km)","Choose direct flights when flying is necessary","Pack light to reduce fuel consumption",...f];case"car":return["Consider carpooling or ride-sharing to reduce per-person emissions","Choose electric or hybrid vehicles when available","Combine multiple destinations in one trip",...f];case"train":return["Great choice! Trains are one of the most eco-friendly travel options","Look for trains powered by renewable energy",...f.slice(1)];default:return f}},c=u=>u<50?{level:"Low",color:"text-green-500",bg:"bg-green-50"}:u<150?{level:"Medium",color:"text-orange-500",bg:"bg-orange-50"}:{level:"High",color:"text-red-500",bg:"bg-red-50"};return d.jsxs("div",{className:"min-h-screen pt-16",children:[d.jsx("section",{className:"py-20 px-6 bg-gradient-hero text-white",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx($.h1,{className:"text-5xl md:text-6xl font-bold mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:"Carbon Footprint Calculator"}),d.jsx($.p,{className:"text-xl md:text-2xl text-gray-200 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Calculate the environmental impact of your travels and discover ways to reduce your carbon footprint."})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsx("div",{className:"max-w-4xl mx-auto",children:d.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[d.jsx($.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:d.jsxs(ee,{className:"shadow-card-eco border-none bg-gradient-card",children:[d.jsx(we,{children:d.jsxs(Se,{className:"flex items-center text-2xl",children:[d.jsx(Eo,{className:"mr-3 h-8 w-8 text-nature-accent"}),"Calculate Your Impact"]})}),d.jsxs(se,{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx($e,{htmlFor:"transport-mode",className:"text-base font-medium",children:"Travel Mode"}),d.jsxs(CR,{value:t,onValueChange:e,children:[d.jsx(mb,{className:"mt-2",children:d.jsx(ER,{placeholder:"Select your mode of transport"})}),d.jsx(xb,{children:o.map(u=>{const h=u.icon;return d.jsx(yb,{value:u.value,children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(h,{className:`mr-2 h-4 w-4 ${u.color}`}),u.label]})},u.value)})})]})]}),d.jsxs("div",{children:[d.jsx($e,{htmlFor:"distance",className:"text-base font-medium",children:"Distance (km)"}),d.jsx(qe,{id:"distance",type:"number",placeholder:"Enter distance in kilometers",value:s,onChange:u=>n(u.target.value),className:"mt-2"})]}),d.jsx(Y,{onClick:a,disabled:!t||!s,className:"w-full bg-nature-accent hover:bg-nature-accent/90 text-white",size:"lg",children:"Calculate Emissions"})]})]})}),d.jsx($.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:i?d.jsxs(ee,{className:"shadow-card-eco border-none bg-card",children:[d.jsx(we,{children:d.jsxs(Se,{className:"flex items-center text-2xl",children:[d.jsx(Mt,{className:"mr-3 h-8 w-8 text-nature-success"}),"Your Carbon Footprint"]})}),d.jsxs(se,{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"text-4xl font-bold text-foreground mb-2",children:[i.emissions," kg CO₂"]}),d.jsxs("div",{className:"text-lg text-muted-foreground",children:["for ",s,"km by ",i.mode]}),d.jsxs("div",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium mt-3 ${c(i.emissions).bg} ${c(i.emissions).color}`,children:[c(i.emissions).level," Impact"]})]}),d.jsxs(fr,{children:[d.jsx(ew,{className:"h-4 w-4"}),d.jsxs(mr,{children:[d.jsx("strong",{children:"Context:"})," The average person's annual carbon footprint is about 4,000 kg CO₂. Your trip represents ",(i.emissions/4e3*100).toFixed(1),"% of that."]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-lg mb-3 text-foreground",children:"Sustainable Alternatives:"}),d.jsx("ul",{className:"space-y-2",children:i.suggestions.map((u,h)=>d.jsxs("li",{className:"flex items-start",children:[d.jsx(Mt,{className:"h-4 w-4 text-nature-success mr-2 mt-0.5 flex-shrink-0"}),d.jsx("span",{className:"text-muted-foreground text-sm",children:u})]},h))})]})]})]}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsxs("div",{className:"text-center text-muted-foreground",children:[d.jsx(Eo,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),d.jsx("p",{className:"text-lg",children:"Select your travel mode and distance to calculate your carbon footprint."})]})})})]})})}),d.jsx("section",{className:"py-20 px-6 bg-muted/30",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Transport Comparison"}),d.jsx("p",{className:"text-xl text-muted-foreground",children:"CO₂ emissions per kilometer by transport mode"})]}),d.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:o.map((u,h)=>{const f=u.icon;return d.jsx($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:h*.2},children:d.jsx(ee,{className:"text-center shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-card",children:d.jsxs(se,{className:"p-8",children:[d.jsx(f,{className:`h-16 w-16 mx-auto mb-4 ${u.color}`}),d.jsx("h3",{className:"text-2xl font-bold text-card-foreground mb-2",children:u.label}),d.jsxs("div",{className:"text-3xl font-bold text-foreground mb-2",children:[u.factor," kg"]}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"CO₂ per km"})]})})},u.value)})})]})})]})},IR=Er("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function dn({className:t,variant:e,...s}){return d.jsx("div",{className:H(IR({variant:e}),t),...s})}const MR=()=>{const t=[{name:"Costa Rica",location:"Central America",icon:Da,color:"text-green-500",rating:4.9,bestSeason:"Dec - Apr",whyEcoFriendly:"Leader in renewable energy and biodiversity conservation",practices:["100% renewable electricity by 2025","25% of land protected as national parks","Carbon neutral tourism certification program","Local community-based tourism initiatives"],highlights:["Cloud forests","Wildlife reserves","Eco-lodges","Carbon neutral goal"]},{name:"Norway",location:"Northern Europe",icon:ho,color:"text-blue-500",rating:4.8,bestSeason:"May - Sep",whyEcoFriendly:"Sustainable transportation and renewable energy leadership",practices:["Electric vehicle infrastructure nationwide","Hydroelectric power for most energy needs","Sustainable seafood and agriculture practices","Green building standards for hotels"],highlights:["Fjords","Northern lights","Electric ferries","Clean energy"]},{name:"New Zealand",location:"Oceania",icon:No,color:"text-teal-500",rating:4.7,bestSeason:"Oct - Apr",whyEcoFriendly:"Conservation-focused tourism and pristine nature protection",practices:["Predator-free islands conservation program","Sustainable tourism certification (Qualmark)","Marine protected areas expansion","Indigenous Māori sustainable practices"],highlights:["Marine sanctuaries","Conservation projects","Eco-tours","Native species protection"]},{name:"Bhutan",location:"South Asia",icon:ho,color:"text-purple-500",rating:4.9,bestSeason:"Sep - Nov, Mar - May",whyEcoFriendly:"Carbon negative country with constitutional environmental protection",practices:["Carbon negative status (absorbs more CO2 than it produces)","60% forest coverage mandated by constitution","High-value, low-impact tourism policy","Gross National Happiness over GDP focus"],highlights:["Carbon negative","Forest preservation","Sustainable tourism fees","Cultural preservation"]},{name:"Iceland",location:"Northern Europe",icon:ho,color:"text-cyan-500",rating:4.6,bestSeason:"Jun - Aug",whyEcoFriendly:"Geothermal energy and responsible tourism practices",practices:["Nearly 100% renewable energy from geothermal and hydro","Strict environmental regulations for tourism","Sustainable fishing and agriculture","Reforestation and land restoration projects"],highlights:["Geothermal energy","Glacier protection","Responsible whale watching","Land restoration"]},{name:"Kenya",location:"East Africa",icon:Da,color:"text-orange-500",rating:4.5,bestSeason:"Jun - Oct",whyEcoFriendly:"Community-based conservation and wildlife protection",practices:["Community-owned conservancies","Anti-poaching initiatives","Renewable energy projects in rural areas","Sustainable wildlife tourism practices"],highlights:["Wildlife conservancies","Community tourism","Solar power projects","Anti-poaching efforts"]},{name:"Slovenia",location:"Central Europe",icon:Da,color:"text-green-600",rating:4.4,bestSeason:"Apr - Oct",whyEcoFriendly:"First country to be declared a Green Destination of the world",practices:["Green Scheme of Slovenian Tourism certification","Extensive protected natural areas","Sustainable mobility initiatives","Local food and wine tourism focus"],highlights:["Green certification","Protected areas","Sustainable mobility","Local cuisine focus"]},{name:"Palau",location:"Micronesia",icon:No,color:"text-blue-400",rating:4.8,bestSeason:"Nov - Apr",whyEcoFriendly:"Marine sanctuary and sustainable tourism pioneers",practices:["80% of waters designated as marine sanctuary","Palau Pledge for responsible tourism","Shark sanctuary protection","Visitor environmental education programs"],highlights:["Marine sanctuary","Shark protection","Visitor pledge","Coral conservation"]}];return d.jsxs("div",{className:"min-h-screen pt-16",children:[d.jsx("section",{className:"py-20 px-6 bg-gradient-hero text-white",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx($.h1,{className:"text-5xl md:text-6xl font-bold mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:"Eco-Friendly Destinations"}),d.jsx($.p,{className:"text-xl md:text-2xl text-gray-200 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Discover beautiful destinations committed to sustainable tourism practices and environmental conservation."})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Sustainable Travel Destinations"}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"These destinations lead the way in environmental protection, sustainable practices, and responsible tourism."})]}),d.jsx("div",{className:"grid lg:grid-cols-2 gap-8",children:t.map((e,s)=>{const n=e.icon;return d.jsx($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:s*.1},whileHover:{y:-5},className:"group",children:d.jsxs(ee,{className:"h-full shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-gradient-card group-hover:bg-card",children:[d.jsxs(we,{children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(n,{className:`h-8 w-8 mr-3 ${e.color}`}),d.jsxs("div",{children:[d.jsx(Se,{className:"text-2xl text-card-foreground",children:e.name}),d.jsxs("p",{className:"text-muted-foreground flex items-center mt-1",children:[d.jsx(Oc,{className:"h-4 w-4 mr-1"}),e.location]})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(jp,{className:"h-4 w-4 text-yellow-500 mr-1"}),d.jsx("span",{className:"text-sm font-semibold",children:e.rating})]})]}),d.jsx("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(Fc,{className:"h-4 w-4 mr-1"}),"Best: ",e.bestSeason]})})]}),d.jsxs(se,{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold text-card-foreground mb-2 flex items-center",children:[d.jsx(Mt,{className:"h-4 w-4 mr-2 text-nature-success"}),"Why It's Eco-Friendly"]}),d.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:e.whyEcoFriendly})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-card-foreground mb-3",children:"Sustainable Practices"}),d.jsx("ul",{className:"space-y-2",children:e.practices.map((i,r)=>d.jsxs("li",{className:"flex items-start text-sm text-muted-foreground",children:[d.jsx(Tp,{className:"h-3 w-3 mr-2 mt-1 text-nature-accent flex-shrink-0"}),i]},r))})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-card-foreground mb-3",children:"Key Highlights"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:e.highlights.map((i,r)=>d.jsx(dn,{variant:"secondary",className:"text-xs",children:i},r))})]})]})]})},e.name)})})]})}),d.jsx("section",{className:"py-20 px-6 bg-primary text-primary-foreground",children:d.jsx("div",{className:"max-w-4xl mx-auto text-center",children:d.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx(Mt,{className:"h-16 w-16 mx-auto mb-6 text-nature-accent"}),d.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Choose Sustainable Destinations"}),d.jsx("p",{className:"text-xl text-primary-foreground/90 leading-relaxed mb-8",children:"By choosing eco-friendly destinations, you support conservation efforts, local communities, and sustainable tourism practices that help preserve our planet's most beautiful places."}),d.jsx($.a,{href:"/tips",className:"inline-flex items-center px-8 py-3 bg-nature-accent hover:bg-nature-accent/90 text-white rounded-md font-medium transition-colors text-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Learn Sustainable Travel Tips"})]})})})]})};var Ud="Progress",zd=100,[OR,eL]=Ms(Ud),[DR,LR]=OR(Ud),vb=y.forwardRef((t,e)=>{const{__scopeProgress:s,value:n=null,max:i,getValueLabel:r=FR,...o}=t;(i||i===0)&&!Lf(i)&&console.error($R(`${i}`,"Progress"));const a=Lf(i)?i:zd;n!==null&&!Ff(n,a)&&console.error(VR(`${n}`,"Progress"));const l=Ff(n,a)?n:null,c=Ho(l)?r(l,a):void 0;return d.jsx(DR,{scope:s,value:l,max:a,children:d.jsx(re.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Ho(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":_b(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});vb.displayName=Ud;var bb="ProgressIndicator",wb=y.forwardRef((t,e)=>{const{__scopeProgress:s,...n}=t,i=LR(bb,s);return d.jsx(re.div,{"data-state":_b(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});wb.displayName=bb;function FR(t,e){return`${Math.round(t/e*100)}%`}function _b(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Ho(t){return typeof t=="number"}function Lf(t){return Ho(t)&&!isNaN(t)&&t>0}function Ff(t,e){return Ho(t)&&!isNaN(t)&&t<=e&&t>=0}function $R(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${zd}\`.`}function VR(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${zd} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Sb=vb,BR=wb;const jb=y.forwardRef(({className:t,value:e,...s},n)=>d.jsx(Sb,{ref:n,className:H("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...s,children:d.jsx(BR,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));jb.displayName=Sb.displayName;const UR=()=>{const[t,e]=y.useState([]),[s,n]=y.useState(0),i=[{title:"Before You Travel",icon:Sp,color:"text-blue-500",tips:["Choose direct flights when possible to reduce fuel consumption","Pack light to minimize aircraft weight and fuel usage","Research eco-friendly accommodations with green certifications","Plan longer stays to reduce frequency of flights","Consider train or bus travel for shorter distances"]},{title:"Accommodation",icon:nw,color:"text-green-500",tips:["Stay in eco-certified hotels or sustainable accommodations","Reuse towels and bed linens during your stay","Turn off lights, AC, and electronics when leaving your room","Choose accommodations that use renewable energy","Support locally-owned boutique hotels over large chains"]},{title:"Water & Waste",icon:iw,color:"text-cyan-500",tips:["Bring a reusable water bottle and refill it","Avoid single-use plastics and disposable items","Properly dispose of waste and recycle when possible","Take shorter showers to conserve water","Use reef-safe sunscreen to protect marine ecosystems"]},{title:"Local Engagement",icon:Ep,color:"text-red-500",tips:["Eat at local restaurants and try regional cuisine","Buy souvenirs from local artisans and markets","Learn basic phrases in the local language","Respect local customs, traditions, and dress codes","Support community-based tourism initiatives"]},{title:"Transportation",icon:rw,color:"text-purple-500",tips:["Use public transportation, walk, or bike when exploring","Choose electric or hybrid rental vehicles","Participate in group tours to reduce per-person impact","Offset your carbon footprint through verified programs","Avoid unnecessary domestic flights within your destination"]}],r=i.flatMap((l,c)=>l.tips.map((u,h)=>({id:c*100+h,text:u,category:l.title,points:10}))),o=l=>{e(c=>{const u=c.includes(l)?c.filter(f=>f!==l):[...c,l],h=u.length*10;return n(h),u})},a=t.length/r.length*100;return d.jsxs("div",{className:"min-h-screen pt-16",children:[d.jsx("section",{className:"py-20 px-6 bg-gradient-hero text-white",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx($.h1,{className:"text-5xl md:text-6xl font-bold mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:"Sustainable Travel Tips"}),d.jsx($.p,{className:"text-xl md:text-2xl text-gray-200 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Practical tips to reduce your environmental impact and travel more sustainably."})]})}),d.jsx("section",{className:"py-12 px-6 bg-muted/30",children:d.jsx("div",{className:"max-w-4xl mx-auto",children:d.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:d.jsx(ee,{className:"shadow-card-eco border-none bg-gradient-card",children:d.jsxs(se,{className:"p-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold text-card-foreground mb-2",children:"Your Green Journey"}),d.jsx("p",{className:"text-muted-foreground",children:"Check off tips as you implement them in your travels"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-nature-accent mb-1",children:s}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Green Points"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsxs("span",{className:"text-muted-foreground",children:["Progress: ",t.length," of ",r.length," tips completed"]}),d.jsxs("span",{className:"font-semibold text-foreground",children:[Math.round(a),"%"]})]}),d.jsx(jb,{value:a,className:"h-3"})]}),a>=100&&d.jsxs($.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"mt-6 p-4 bg-nature-success/10 border border-nature-success/20 rounded-lg text-center",children:[d.jsx(Tp,{className:"h-8 w-8 text-nature-success mx-auto mb-2"}),d.jsx("h4",{className:"font-bold text-nature-success mb-1",children:"Eco-Warrior Achievement Unlocked!"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"You've completed all sustainable travel tips!"})]})]})})})})}),d.jsx("section",{className:"py-20 px-6",children:d.jsx("div",{className:"max-w-6xl mx-auto space-y-12",children:i.map((l,c)=>{const u=l.icon;return d.jsx($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:c*.1},children:d.jsxs(ee,{className:"shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-card",children:[d.jsx(we,{children:d.jsxs(Se,{className:"flex items-center text-2xl",children:[d.jsx(u,{className:`h-8 w-8 mr-3 ${l.color}`}),l.title]})}),d.jsx(se,{children:d.jsx("div",{className:"grid gap-4",children:l.tips.map((h,f)=>{const m=c*100+f,p=t.includes(m);return d.jsxs($.div,{className:`flex items-start p-4 rounded-lg cursor-pointer transition-all duration-200 ${p?"bg-nature-success/10 border border-nature-success/20":"bg-muted/50 hover:bg-muted/70"}`,onClick:()=>o(m),whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx("div",{className:"flex-shrink-0 mr-3 mt-0.5",children:p?d.jsx(Cp,{className:"h-5 w-5 text-nature-success"}):d.jsx(vp,{className:"h-5 w-5 text-muted-foreground"})}),d.jsxs("div",{className:"flex-grow",children:[d.jsx("p",{className:`text-sm leading-relaxed ${p?"text-nature-success font-medium":"text-muted-foreground"}`,children:h}),p&&d.jsx($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 text-xs text-nature-success font-medium",children:"+10 Green Points ✓"})]})]},f)})})})]})},l.title)})})}),d.jsx("section",{className:"py-20 px-6 bg-primary text-primary-foreground",children:d.jsx("div",{className:"max-w-4xl mx-auto text-center",children:d.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx(Mt,{className:"h-16 w-16 mx-auto mb-6 text-nature-accent"}),d.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Every Action Counts"}),d.jsx("p",{className:"text-xl text-primary-foreground/90 leading-relaxed mb-8",children:"Small changes in how we travel can have a big impact on our planet. Start implementing these tips on your next journey and inspire others to travel sustainably."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsx(Y,{asChild:!0,size:"lg",className:"bg-nature-accent hover:bg-nature-accent/90 text-white",children:d.jsx("a",{href:"/calculator",children:"Calculate Your Impact"})}),d.jsx(Y,{asChild:!0,variant:"outline",size:"lg",className:"border-primary-foreground/20 text-primary-foreground hover:bg-primary-foreground/10",children:d.jsx("a",{href:"/community",children:"Share Your Experience"})})]})]})})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Dr(t){return t+.5|0}const Ts=(t,e,s)=>Math.max(Math.min(t,s),e);function Mi(t){return Ts(Dr(t*2.55),0,255)}function Ps(t){return Ts(Dr(t*255),0,255)}function ss(t){return Ts(Dr(t/2.55)/100,0,1)}function $f(t){return Ts(Dr(t*100),0,100)}const ut={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wc=[..."0123456789ABCDEF"],zR=t=>wc[t&15],HR=t=>wc[(t&240)>>4]+wc[t&15],Yr=t=>(t&240)>>4===(t&15),WR=t=>Yr(t.r)&&Yr(t.g)&&Yr(t.b)&&Yr(t.a);function GR(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&ut[t[1]]*17,g:255&ut[t[2]]*17,b:255&ut[t[3]]*17,a:e===5?ut[t[4]]*17:255}:(e===7||e===9)&&(s={r:ut[t[1]]<<4|ut[t[2]],g:ut[t[3]]<<4|ut[t[4]],b:ut[t[5]]<<4|ut[t[6]],a:e===9?ut[t[7]]<<4|ut[t[8]]:255})),s}const KR=(t,e)=>t<255?e(t):"";function qR(t){var e=WR(t)?zR:HR;return t?"#"+e(t.r)+e(t.g)+e(t.b)+KR(t.a,e):void 0}const YR=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Tb(t,e,s){const n=e*Math.min(s,1-s),i=(r,o=(r+t/30)%12)=>s-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function XR(t,e,s){const n=(i,r=(i+t/60)%6)=>s-s*e*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function JR(t,e,s){const n=Tb(t,1,.5);let i;for(e+s>1&&(i=1/(e+s),e*=i,s*=i),i=0;i<3;i++)n[i]*=1-e-s,n[i]+=e;return n}function QR(t,e,s,n,i){return t===i?(e-s)/n+(e<s?6:0):e===i?(s-t)/n+2:(t-e)/n+4}function Hd(t){const s=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(s,n,i),o=Math.min(s,n,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=QR(s,n,i,u,r),l=l*60+.5),[l|0,c||0,a]}function Wd(t,e,s,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,n)).map(Ps)}function Gd(t,e,s){return Wd(Tb,t,e,s)}function ZR(t,e,s){return Wd(JR,t,e,s)}function eI(t,e,s){return Wd(XR,t,e,s)}function Cb(t){return(t%360+360)%360}function tI(t){const e=YR.exec(t);let s=255,n;if(!e)return;e[5]!==n&&(s=e[6]?Mi(+e[5]):Ps(+e[5]));const i=Cb(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=ZR(i,r,o):e[1]==="hsv"?n=eI(i,r,o):n=Gd(i,r,o),{r:n[0],g:n[1],b:n[2],a:s}}function sI(t,e){var s=Hd(t);s[0]=Cb(s[0]+e),s=Gd(s),t.r=s[0],t.g=s[1],t.b=s[2]}function nI(t){if(!t)return;const e=Hd(t),s=e[0],n=$f(e[1]),i=$f(e[2]);return t.a<255?`hsla(${s}, ${n}%, ${i}%, ${ss(t.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const Vf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Bf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function iI(){const t={},e=Object.keys(Bf),s=Object.keys(Vf);let n,i,r,o,a;for(n=0;n<e.length;n++){for(o=a=e[n],i=0;i<s.length;i++)r=s[i],a=a.replace(r,Vf[r]);r=parseInt(Bf[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let Xr;function rI(t){Xr||(Xr=iI(),Xr.transparent=[0,0,0,0]);const e=Xr[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const oI=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function aI(t){const e=oI.exec(t);let s=255,n,i,r;if(e){if(e[7]!==n){const o=+e[7];s=e[8]?Mi(o):Ts(o*255,0,255)}return n=+e[1],i=+e[3],r=+e[5],n=255&(e[2]?Mi(n):Ts(n,0,255)),i=255&(e[4]?Mi(i):Ts(i,0,255)),r=255&(e[6]?Mi(r):Ts(r,0,255)),{r:n,g:i,b:r,a:s}}}function lI(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ss(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const hl=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,An=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function cI(t,e,s){const n=An(ss(t.r)),i=An(ss(t.g)),r=An(ss(t.b));return{r:Ps(hl(n+s*(An(ss(e.r))-n))),g:Ps(hl(i+s*(An(ss(e.g))-i))),b:Ps(hl(r+s*(An(ss(e.b))-r))),a:t.a+s*(e.a-t.a)}}function Jr(t,e,s){if(t){let n=Hd(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*s,e===0?360:1)),n=Gd(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function Eb(t,e){return t&&Object.assign(e||{},t)}function Uf(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ps(t[3]))):(e=Eb(t,{r:0,g:0,b:0,a:1}),e.a=Ps(e.a)),e}function dI(t){return t.charAt(0)==="r"?aI(t):tI(t)}class pr{constructor(e){if(e instanceof pr)return e;const s=typeof e;let n;s==="object"?n=Uf(e):s==="string"&&(n=GR(e)||rI(e)||dI(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Eb(this._rgb);return e&&(e.a=ss(e.a)),e}set rgb(e){this._rgb=Uf(e)}rgbString(){return this._valid?lI(this._rgb):void 0}hexString(){return this._valid?qR(this._rgb):void 0}hslString(){return this._valid?nI(this._rgb):void 0}mix(e,s){if(e){const n=this.rgb,i=e.rgb;let r;const o=s===r?.5:s,a=2*o-1,l=n.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,n.r=255&c*n.r+r*i.r+.5,n.g=255&c*n.g+r*i.g+.5,n.b=255&c*n.b+r*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(e,s){return e&&(this._rgb=cI(this._rgb,e._rgb,s)),this}clone(){return new pr(this.rgb)}alpha(e){return this._rgb.a=Ps(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=Dr(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Jr(this._rgb,2,e),this}darken(e){return Jr(this._rgb,2,-e),this}saturate(e){return Jr(this._rgb,1,e),this}desaturate(e){return Jr(this._rgb,1,-e),this}rotate(e){return sI(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Jt(){}const uI=(()=>{let t=0;return()=>t++})();function ce(t){return t==null}function Le(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function oe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function vt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Lt(t,e){return vt(t)?t:e}function ne(t,e){return typeof t>"u"?e:t}const hI=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Nb=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function be(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function he(t,e,s,n){let i,r,o;if(Le(t))for(r=t.length,i=0;i<r;i++)e.call(s,t[i],i);else if(oe(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(s,t[o[i]],o[i])}function Wo(t,e){let s,n,i,r;if(!t||!e||t.length!==e.length)return!1;for(s=0,n=t.length;s<n;++s)if(i=t[s],r=e[s],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function Go(t){if(Le(t))return t.map(Go);if(oe(t)){const e=Object.create(null),s=Object.keys(t),n=s.length;let i=0;for(;i<n;++i)e[s[i]]=Go(t[s[i]]);return e}return t}function kb(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function fI(t,e,s,n){if(!kb(t))return;const i=e[t],r=s[t];oe(i)&&oe(r)?gr(i,r,n):e[t]=Go(r)}function gr(t,e,s){const n=Le(e)?e:[e],i=n.length;if(!oe(t))return t;s=s||{};const r=s.merger||fI;let o;for(let a=0;a<i;++a){if(o=n[a],!oe(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],t,o,s)}return t}function Ji(t,e){return gr(t,e,{merger:mI})}function mI(t,e,s){if(!kb(t))return;const n=e[t],i=s[t];oe(n)&&oe(i)?Ji(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Go(i))}const zf={"":t=>t,x:t=>t.x,y:t=>t.y};function pI(t){const e=t.split("."),s=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function gI(t){const e=pI(t);return s=>{for(const n of e){if(n==="")break;s=s&&s[n]}return s}}function gn(t,e){return(zf[e]||(zf[e]=gI(e)))(t)}function Kd(t){return t.charAt(0).toUpperCase()+t.slice(1)}const xr=t=>typeof t<"u",Is=t=>typeof t=="function",Hf=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function xI(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const fe=Math.PI,Ne=2*fe,yI=Ne+fe,Ko=Number.POSITIVE_INFINITY,vI=fe/180,Fe=fe/2,Hs=fe/4,Wf=fe*2/3,_c=Math.log10,Kt=Math.sign;function Qi(t,e,s){return Math.abs(t-e)<s}function Gf(t){const e=Math.round(t);t=Qi(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(_c(t))),n=t/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function bI(t){const e=[],s=Math.sqrt(t);let n;for(n=1;n<s;n++)t%n===0&&(e.push(n),e.push(t/n));return s===(s|0)&&e.push(s),e.sort((i,r)=>i-r).pop(),e}function wI(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function yr(t){return!wI(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function _I(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function SI(t,e,s){let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n][s],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function is(t){return t*(fe/180)}function jI(t){return t*(180/fe)}function Kf(t){if(!vt(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function Pb(t,e){const s=e.x-t.x,n=e.y-t.y,i=Math.sqrt(s*s+n*n);let r=Math.atan2(n,s);return r<-.5*fe&&(r+=Ne),{angle:r,distance:i}}function Sc(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function TI(t,e){return(t-e+yI)%Ne-fe}function Rt(t){return(t%Ne+Ne)%Ne}function vr(t,e,s,n){const i=Rt(t),r=Rt(e),o=Rt(s),a=Rt(r-i),l=Rt(o-i),c=Rt(i-r),u=Rt(i-o);return i===r||i===o||n&&r===o||a>l&&c<u}function Ge(t,e,s){return Math.max(e,Math.min(s,t))}function CI(t){return Ge(t,-32768,32767)}function Cs(t,e,s,n=1e-6){return t>=Math.min(e,s)-n&&t<=Math.max(e,s)+n}function qd(t,e,s){s=s||(o=>t[o]<e);let n=t.length-1,i=0,r;for(;n-i>1;)r=i+n>>1,s(r)?i=r:n=r;return{lo:i,hi:n}}const en=(t,e,s,n)=>qd(t,s,n?i=>{const r=t[i][e];return r<s||r===s&&t[i+1][e]===s}:i=>t[i][e]<s),EI=(t,e,s)=>qd(t,s,n=>t[n][e]>=s);function NI(t,e,s){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>s;)i--;return n>0||i<t.length?t.slice(n,i):t}const Ab=["push","pop","shift","splice","unshift"];function kI(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Ab.forEach(s=>{const n="_onData"+Kd(s),i=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...r)}),o}})})}function qf(t,e){const s=t._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(Ab.forEach(r=>{delete t[r]}),delete t._chartjs)}function Rb(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Ib=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Mb(t,e){let s=[],n=!1;return function(...i){s=i,n||(n=!0,Ib.call(window,()=>{n=!1,t.apply(e,s)}))}}function PI(t,e){let s;return function(...n){return e?(clearTimeout(s),s=setTimeout(t,e,n)):t.apply(this,n),e}}const Yd=t=>t==="start"?"left":t==="end"?"right":"center",ze=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,AI=(t,e,s,n)=>t===(n?"left":"right")?s:t==="center"?(e+s)/2:e;function RI(t,e,s){const n=e.length;let i=0,r=n;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:m,maxDefined:p}=o.getUserBounds();if(m){if(i=Math.min(en(l,u,h).lo,s?n:en(e,u,o.getPixelForValue(h)).lo),c){const g=l.slice(0,i+1).reverse().findIndex(x=>!ce(x[a.axis]));i-=Math.max(0,g)}i=Ge(i,0,n-1)}if(p){let g=Math.max(en(l,o.axis,f,!0).hi+1,s?0:en(e,u,o.getPixelForValue(f),!0).hi+1);if(c){const x=l.slice(g-1).findIndex(v=>!ce(v[a.axis]));g+=Math.max(0,x)}r=Ge(g,i,n)-i}else r=n-i}return{start:i,count:r}}function II(t){const{xScale:e,yScale:s,_scaleRanges:n}=t,i={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!n)return t._scaleRanges=i,!0;const r=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,i),r}const Qr=t=>t===0||t===1,Yf=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ne/s)),Xf=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ne/s)+1,Zi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Fe)+1,easeOutSine:t=>Math.sin(t*Fe),easeInOutSine:t=>-.5*(Math.cos(fe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Qr(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Qr(t)?t:Yf(t,.075,.3),easeOutElastic:t=>Qr(t)?t:Xf(t,.075,.3),easeInOutElastic(t){return Qr(t)?t:t<.5?.5*Yf(t*2,.1125,.45):.5+.5*Xf(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Zi.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Zi.easeInBounce(t*2)*.5:Zi.easeOutBounce(t*2-1)*.5+.5};function Xd(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Jf(t){return Xd(t)?t:new pr(t)}function fl(t){return Xd(t)?t:new pr(t).saturate(.5).darken(.1).hexString()}const MI=["x","y","borderWidth","radius","tension"],OI=["color","borderColor","backgroundColor"];function DI(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:OI},numbers:{type:"number",properties:MI}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function LI(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Qf=new Map;function FI(t,e){e=e||{};const s=t+JSON.stringify(e);let n=Qf.get(s);return n||(n=new Intl.NumberFormat(t,e),Qf.set(s,n)),n}function Jd(t,e,s){return FI(e,s).format(t)}const Ob={values(t){return Le(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const n=this.chart.options.locale;let i,r=t;if(s.length>1){const c=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=$I(t,s)}const o=_c(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Jd(t,n,l)},logarithmic(t,e,s){if(t===0)return"0";const n=s[e].significand||t/Math.pow(10,Math.floor(_c(t)));return[1,2,3,5,10,15].includes(n)||e>.8*s.length?Ob.numeric.call(this,t,e,s):""}};function $I(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var Db={formatters:Ob};function VI(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Db.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const xn=Object.create(null),jc=Object.create(null);function er(t,e){if(!e)return t;const s=e.split(".");for(let n=0,i=s.length;n<i;++n){const r=s[n];t=t[r]||(t[r]=Object.create(null))}return t}function ml(t,e,s){return typeof e=="string"?gr(er(t,e),s):gr(er(t,""),e)}class BI{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>fl(i.backgroundColor),this.hoverBorderColor=(n,i)=>fl(i.borderColor),this.hoverColor=(n,i)=>fl(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return ml(this,e,s)}get(e){return er(this,e)}describe(e,s){return ml(jc,e,s)}override(e,s){return ml(xn,e,s)}route(e,s,n,i){const r=er(this,e),o=er(this,n),a="_"+s;Object.defineProperties(r,{[a]:{value:r[s],writable:!0},[s]:{enumerable:!0,get(){const l=this[a],c=o[i];return oe(l)?Object.assign({},c,l):ne(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(s=>s(this))}}var Ae=new BI({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[DI,LI,VI]);function UI(t){return!t||ce(t.size)||ce(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Zf(t,e,s,n,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,s.push(i)),r>n&&(n=r),n}function Ws(t,e,s){const n=t.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((e-i)*n)/n+i}function em(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Tc(t,e,s,n){Lb(t,e,s,n,null)}function Lb(t,e,s,n,i){let r,o,a,l,c,u,h,f;const m=e.pointStyle,p=e.rotation,g=e.radius;let x=(p||0)*vI;if(m&&typeof m=="object"&&(r=m.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(s,n),t.rotate(x),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),m){default:i?t.ellipse(s,n,i/2,g,0,0,Ne):t.arc(s,n,g,0,Ne),t.closePath();break;case"triangle":u=i?i/2:g,t.moveTo(s+Math.sin(x)*u,n-Math.cos(x)*g),x+=Wf,t.lineTo(s+Math.sin(x)*u,n-Math.cos(x)*g),x+=Wf,t.lineTo(s+Math.sin(x)*u,n-Math.cos(x)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(x+Hs)*l,h=Math.cos(x+Hs)*(i?i/2-c:l),a=Math.sin(x+Hs)*l,f=Math.sin(x+Hs)*(i?i/2-c:l),t.arc(s-h,n-a,c,x-fe,x-Fe),t.arc(s+f,n-o,c,x-Fe,x),t.arc(s+h,n+a,c,x,x+Fe),t.arc(s-f,n+o,c,x+Fe,x+fe),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=i?i/2:l,t.rect(s-u,n-l,2*u,2*l);break}x+=Hs;case"rectRot":h=Math.cos(x)*(i?i/2:g),o=Math.cos(x)*g,a=Math.sin(x)*g,f=Math.sin(x)*(i?i/2:g),t.moveTo(s-h,n-a),t.lineTo(s+f,n-o),t.lineTo(s+h,n+a),t.lineTo(s-f,n+o),t.closePath();break;case"crossRot":x+=Hs;case"cross":h=Math.cos(x)*(i?i/2:g),o=Math.cos(x)*g,a=Math.sin(x)*g,f=Math.sin(x)*(i?i/2:g),t.moveTo(s-h,n-a),t.lineTo(s+h,n+a),t.moveTo(s+f,n-o),t.lineTo(s-f,n+o);break;case"star":h=Math.cos(x)*(i?i/2:g),o=Math.cos(x)*g,a=Math.sin(x)*g,f=Math.sin(x)*(i?i/2:g),t.moveTo(s-h,n-a),t.lineTo(s+h,n+a),t.moveTo(s+f,n-o),t.lineTo(s-f,n+o),x+=Hs,h=Math.cos(x)*(i?i/2:g),o=Math.cos(x)*g,a=Math.sin(x)*g,f=Math.sin(x)*(i?i/2:g),t.moveTo(s-h,n-a),t.lineTo(s+h,n+a),t.moveTo(s+f,n-o),t.lineTo(s-f,n+o);break;case"line":o=i?i/2:Math.cos(x)*g,a=Math.sin(x)*g,t.moveTo(s-o,n-a),t.lineTo(s+o,n+a);break;case"dash":t.moveTo(s,n),t.lineTo(s+Math.cos(x)*(i?i/2:g),n+Math.sin(x)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function br(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function Qd(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Zd(t){t.restore()}function zI(t,e,s,n,i){if(!e)return t.lineTo(s.x,s.y);if(i==="middle"){const r=(e.x+s.x)/2;t.lineTo(r,e.y),t.lineTo(r,s.y)}else i==="after"!=!!n?t.lineTo(e.x,s.y):t.lineTo(s.x,e.y);t.lineTo(s.x,s.y)}function HI(t,e,s,n){if(!e)return t.lineTo(s.x,s.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function WI(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ce(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function GI(t,e,s,n,i){if(i.strikethrough||i.underline){const r=t.measureText(n),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=s-r.actualBoundingBoxAscent,c=s+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function KI(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function wr(t,e,s,n,i,r={}){const o=Le(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,WI(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&KI(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),ce(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,s,n,r.maxWidth)),t.fillText(c,s,n,r.maxWidth),GI(t,s,n,c,r),n+=Number(i.lineHeight);t.restore()}function qo(t,e){const{x:s,y:n,w:i,h:r,radius:o}=e;t.arc(s+o.topLeft,n+o.topLeft,o.topLeft,1.5*fe,fe,!0),t.lineTo(s,n+r-o.bottomLeft),t.arc(s+o.bottomLeft,n+r-o.bottomLeft,o.bottomLeft,fe,Fe,!0),t.lineTo(s+i-o.bottomRight,n+r),t.arc(s+i-o.bottomRight,n+r-o.bottomRight,o.bottomRight,Fe,0,!0),t.lineTo(s+i,n+o.topRight),t.arc(s+i-o.topRight,n+o.topRight,o.topRight,0,-Fe,!0),t.lineTo(s+o.topLeft,n)}const qI=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,YI=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function XI(t,e){const s=(""+t).match(qI);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const JI=t=>+t||0;function eu(t,e){const s={},n=oe(e),i=n?Object.keys(e):e,r=oe(t)?n?o=>ne(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)s[o]=JI(r(o));return s}function Fb(t){return eu(t,{top:"y",right:"x",bottom:"y",left:"x"})}function zn(t){return eu(t,["topLeft","topRight","bottomLeft","bottomRight"])}function bt(t){const e=Fb(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ke(t,e){t=t||{},e=e||Ae.font;let s=ne(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let n=ne(t.style,e.style);n&&!(""+n).match(YI)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:ne(t.family,e.family),lineHeight:XI(ne(t.lineHeight,e.lineHeight),s),size:s,style:n,weight:ne(t.weight,e.weight),string:""};return i.string=UI(i),i}function Zr(t,e,s,n){let i,r,o;for(i=0,r=t.length;i<r;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function QI(t,e,s){const{min:n,max:i}=t,r=Nb(e,(i-n)/2),o=(a,l)=>s&&a===0?0:a+l;return{min:o(n,-Math.abs(r)),max:o(i,r)}}function bn(t,e){return Object.assign(Object.create(t),e)}function tu(t,e=[""],s,n,i=()=>t[0]){const r=s||t;typeof n>"u"&&(n=Ub("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:n,_getTarget:i,override:a=>tu([a,...t],e,r,n)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return Vb(a,l,()=>oM(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return sm(a).includes(l)},ownKeys(a){return sm(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function li(t,e,s,n){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:$b(t,n),setContext:r=>li(t,r,s,n),override:r=>li(t.override(r),e,s,n)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return Vb(r,o,()=>eM(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function $b(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:s,indexable:n,isScriptable:Is(s)?s:()=>s,isIndexable:Is(n)?n:()=>n}}const ZI=(t,e)=>t?t+Kd(e):e,su=(t,e)=>oe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Vb(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=s();return t[e]=n,n}function eM(t,e,s){const{_proxy:n,_context:i,_subProxy:r,_descriptors:o}=t;let a=n[e];return Is(a)&&o.isScriptable(e)&&(a=tM(e,a,t,s)),Le(a)&&a.length&&(a=sM(e,a,t,o.isIndexable)),su(e,a)&&(a=li(a,i,r&&r[e],o)),a}function tM(t,e,s,n){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=s;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||n);return a.delete(t),su(t,l)&&(l=nu(i._scopes,i,t,l)),l}function sM(t,e,s,n){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=s;if(typeof r.index<"u"&&n(t))return e[r.index%e.length];if(oe(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=nu(c,i,t,u);e.push(li(h,r,o&&o[t],a))}}return e}function Bb(t,e,s){return Is(t)?t(e,s):t}const nM=(t,e)=>t===!0?e:typeof t=="string"?gn(e,t):void 0;function iM(t,e,s,n,i){for(const r of e){const o=nM(s,r);if(o){t.add(o);const a=Bb(o._fallback,s,i);if(typeof a<"u"&&a!==s&&a!==n)return a}else if(o===!1&&typeof n<"u"&&s!==n)return null}return!1}function nu(t,e,s,n){const i=e._rootScopes,r=Bb(e._fallback,s,n),o=[...t,...i],a=new Set;a.add(n);let l=tm(a,o,s,r||s,n);return l===null||typeof r<"u"&&r!==s&&(l=tm(a,o,r,l,n),l===null)?!1:tu(Array.from(a),[""],i,r,()=>rM(e,s,n))}function tm(t,e,s,n,i){for(;s;)s=iM(t,e,s,n,i);return s}function rM(t,e,s){const n=t._getTarget();e in n||(n[e]={});const i=n[e];return Le(i)&&oe(s)?s:i||{}}function oM(t,e,s,n){let i;for(const r of e)if(i=Ub(ZI(r,t),s),typeof i<"u")return su(t,i)?nu(s,n,t,i):i}function Ub(t,e){for(const s of e){if(!s)continue;const n=s[t];if(typeof n<"u")return n}}function sm(t){let e=t._keys;return e||(e=t._keys=aM(t._scopes)),e}function aM(t){const e=new Set;for(const s of t)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}const lM=Number.EPSILON||1e-14,ci=(t,e)=>e<t.length&&!t[e].skip&&t[e],zb=t=>t==="x"?"y":"x";function cM(t,e,s,n){const i=t.skip?e:t,r=e,o=s.skip?e:s,a=Sc(r,i),l=Sc(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=n*c,f=n*u;return{previous:{x:r.x-h*(o.x-i.x),y:r.y-h*(o.y-i.y)},next:{x:r.x+f*(o.x-i.x),y:r.y+f*(o.y-i.y)}}}function dM(t,e,s){const n=t.length;let i,r,o,a,l,c=ci(t,0);for(let u=0;u<n-1;++u)if(l=c,c=ci(t,u+1),!(!l||!c)){if(Qi(e[u],0,lM)){s[u]=s[u+1]=0;continue}i=s[u]/e[u],r=s[u+1]/e[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),s[u]=i*o*e[u],s[u+1]=r*o*e[u])}}function uM(t,e,s="x"){const n=zb(s),i=t.length;let r,o,a,l=ci(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=ci(t,c+1),!a)continue;const u=a[s],h=a[n];o&&(r=(u-o[s])/3,a[`cp1${s}`]=u-r,a[`cp1${n}`]=h-r*e[c]),l&&(r=(l[s]-u)/3,a[`cp2${s}`]=u+r,a[`cp2${n}`]=h+r*e[c])}}function hM(t,e="x"){const s=zb(e),n=t.length,i=Array(n).fill(0),r=Array(n);let o,a,l,c=ci(t,0);for(o=0;o<n;++o)if(a=l,l=c,c=ci(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[s]-l[s])/u:0}r[o]=a?c?Kt(i[o-1])!==Kt(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}dM(t,i,r),uM(t,r,e)}function eo(t,e,s){return Math.max(Math.min(t,s),e)}function fM(t,e){let s,n,i,r,o,a=br(t[0],e);for(s=0,n=t.length;s<n;++s)o=r,r=a,a=s<n-1&&br(t[s+1],e),r&&(i=t[s],o&&(i.cp1x=eo(i.cp1x,e.left,e.right),i.cp1y=eo(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=eo(i.cp2x,e.left,e.right),i.cp2y=eo(i.cp2y,e.top,e.bottom)))}function mM(t,e,s,n,i){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")hM(t,i);else{let c=n?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=cM(c,a,t[Math.min(r+1,o-(n?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&fM(t,s)}function iu(){return typeof window<"u"&&typeof document<"u"}function ru(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Yo(t,e,s){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[s])):n=t,n}const Ta=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function pM(t,e){return Ta(t).getPropertyValue(e)}const gM=["top","right","bottom","left"];function un(t,e,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const r=gM[i];n[r]=parseFloat(t[e+"-"+r+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const xM=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function yM(t,e){const s=t.touches,n=s&&s.length?s[0]:t,{offsetX:i,offsetY:r}=n;let o=!1,a,l;if(xM(i,r,t.target))a=i,l=r;else{const c=e.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Ys(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:n}=e,i=Ta(s),r=i.boxSizing==="border-box",o=un(i,"padding"),a=un(i,"border","width"),{x:l,y:c,box:u}=yM(t,s),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:m,height:p}=e;return r&&(m-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/m*s.width/n),y:Math.round((c-f)/p*s.height/n)}}function vM(t,e,s){let n,i;if(e===void 0||s===void 0){const r=t&&ru(t);if(!r)e=t.clientWidth,s=t.clientHeight;else{const o=r.getBoundingClientRect(),a=Ta(r),l=un(a,"border","width"),c=un(a,"padding");e=o.width-c.width-l.width,s=o.height-c.height-l.height,n=Yo(a.maxWidth,r,"clientWidth"),i=Yo(a.maxHeight,r,"clientHeight")}}return{width:e,height:s,maxWidth:n||Ko,maxHeight:i||Ko}}const to=t=>Math.round(t*10)/10;function bM(t,e,s,n){const i=Ta(t),r=un(i,"margin"),o=Yo(i.maxWidth,t,"clientWidth")||Ko,a=Yo(i.maxHeight,t,"clientHeight")||Ko,l=vM(t,e,s);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=un(i,"border","width"),m=un(i,"padding");c-=m.width+f.width,u-=m.height+f.height}return c=Math.max(0,c-r.width),u=Math.max(0,n?c/n:u-r.height),c=to(Math.min(c,o,l.maxWidth)),u=to(Math.min(u,a,l.maxHeight)),c&&!u&&(u=to(c/2)),(e!==void 0||s!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=to(Math.floor(u*n))),{width:c,height:u}}function nm(t,e,s){const n=e||1,i=Math.floor(t.height*n),r=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=n,o.height=i,o.width=r,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const wM=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};iu()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function im(t,e){const s=pM(t,e),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Xs(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function _M(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:n==="middle"?s<.5?t.y:e.y:n==="after"?s<1?t.y:e.y:s>0?e.y:t.y}}function SM(t,e,s,n){const i={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Xs(t,i,s),a=Xs(i,r,s),l=Xs(r,e,s),c=Xs(o,a,s),u=Xs(a,l,s);return Xs(c,u,s)}const jM=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},TM=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Hn(t,e,s){return t?jM(e,s):TM()}function Hb(t,e){let s,n;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=n)}function Wb(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Gb(t){return t==="angle"?{between:vr,compare:TI,normalize:Rt}:{between:Cs,compare:(e,s)=>e-s,normalize:e=>e}}function rm({start:t,end:e,count:s,loop:n,style:i}){return{start:t%s,end:e%s,loop:n&&(e-t+1)%s===0,style:i}}function CM(t,e,s){const{property:n,start:i,end:r}=s,{between:o,normalize:a}=Gb(n),l=e.length;let{start:c,end:u,loop:h}=t,f,m;if(h){for(c+=l,u+=l,f=0,m=l;f<m&&o(a(e[c%l][n]),i,r);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function EM(t,e,s){if(!s)return[t];const{property:n,start:i,end:r}=s,o=e.length,{compare:a,between:l,normalize:c}=Gb(n),{start:u,end:h,loop:f,style:m}=CM(t,e,s),p=[];let g=!1,x=null,v,b,w;const S=()=>l(i,w,v)&&a(i,w)!==0,_=()=>a(r,v)===0||l(r,w,v),j=()=>g||S(),T=()=>!g||_();for(let C=u,N=u;C<=h;++C)b=e[C%o],!b.skip&&(v=c(b[n]),v!==w&&(g=l(v,i,r),x===null&&j()&&(x=a(v,i)===0?C:N),x!==null&&T()&&(p.push(rm({start:x,end:C,loop:f,count:o,style:m})),x=null),N=C,w=v));return x!==null&&p.push(rm({start:x,end:h,loop:f,count:o,style:m})),p}function NM(t,e){const s=[],n=t.segments;for(let i=0;i<n.length;i++){const r=EM(n[i],t.points,e);r.length&&s.push(...r)}return s}function kM(t,e,s,n){let i=0,r=e-1;if(s&&!n)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,s&&(r+=i);r>i&&t[r%e].skip;)r--;return r%=e,{start:i,end:r}}function PM(t,e,s,n){const i=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=s;++l){const c=t[l%i];c.skip||c.stop?a.skip||(n=!1,r.push({start:e%i,end:(l-1)%i,loop:n}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%i,end:o%i,loop:n}),r}function AM(t,e){const s=t.points,n=t.options.spanGaps,i=s.length;if(!i)return[];const r=!!t._loop,{start:o,end:a}=kM(s,i,r,n);if(n===!0)return om(t,[{start:o,end:a,loop:r}],s,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return om(t,PM(s,o,l,c),s,e)}function om(t,e,s,n){return!n||!n.setContext||!s?e:RM(t,e,s,n)}function RM(t,e,s,n){const i=t._chart.getContext(),r=am(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=s.length,c=[];let u=r,h=e[0].start,f=h;function m(p,g,x,v){const b=a?-1:1;if(p!==g){for(p+=l;s[p%l].skip;)p-=b;for(;s[g%l].skip;)g+=b;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:x,style:v}),u=v,h=g%l)}}for(const p of e){h=a?h:p.start;let g=s[h%l],x;for(f=h+1;f<=p.end;f++){const v=s[f%l];x=am(n.setContext(bn(i,{type:"segment",p0:g,p1:v,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),IM(x,u)&&m(h,f-1,p.loop,u),g=v,u=x}h<f-1&&m(h,f-1,p.loop,u)}return c}function am(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function IM(t,e){if(!e)return!1;const s=[],n=function(i,r){return Xd(r)?(s.includes(r)||s.push(r),s.indexOf(r)):r};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function so(t,e,s){return t.options.clip?t[s]:e[s]}function MM(t,e){const{xScale:s,yScale:n}=t;return s&&n?{left:so(s,e,"left"),right:so(s,e,"right"),top:so(n,e,"top"),bottom:so(n,e,"bottom")}:e}function OM(t,e){const s=e._clip;if(s.disabled)return!1;const n=MM(e,t.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class DM{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,n,i){const r=s.listeners[i],o=s.duration;r.forEach(a=>a({chart:e,initial:s.initial,numSteps:o,currentStep:Math.min(n-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Ib.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,e,"progress")),r.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),s+=r.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let n=s.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,n)),n}listen(e,s,n){this._getAnims(e).listeners[s].push(n)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Zt=new DM;const lm="transparent",LM={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const n=Jf(t||lm),i=n.valid&&Jf(e||lm);return i&&i.valid?i.mix(n,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class FM{constructor(e,s,n,i){const r=s[n];i=Zr([e.to,i,r,e.from]);const o=Zr([e.from,r,i]);this._active=!0,this._fn=e.fn||LM[e.type||typeof o],this._easing=Zi[e.easing]||Zi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,o=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Zr([e.to,s,i,e.from]),this._from=Zr([e.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,n=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||s<n),!this._active){this._target[i]=a,this._notify(!0);return}if(s<0){this._target[i]=r;return}l=s/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,n)=>{e.push({res:s,rej:n})})}_notify(e){const s=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class Kb{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!oe(e))return;const s=Object.keys(Ae.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!oe(r))return;const o={};for(const a of s)o[a]=r[a];(Le(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!n.has(a))&&n.set(a,o)})})}_animateOptions(e,s){const n=s.options,i=VM(e,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&$M(e.options.$animations,n).then(()=>{e.options=n},()=>{}),r}_createAnimations(e,s){const n=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(s),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,s));continue}const u=s[c];let h=r[c];const f=n.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){e[c]=u;continue}r[c]=h=new FM(f,e,c,u),i.push(h)}return i}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const n=this._createAnimations(e,s);if(n.length)return Zt.add(this._chart,n),!0}}function $M(t,e){const s=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const r=t[n[i]];r&&r.active()&&s.push(r.wait())}return Promise.all(s)}function VM(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function cm(t,e){const s=t&&t.options||{},n=s.reverse,i=s.min===void 0?e:0,r=s.max===void 0?e:0;return{start:n?r:i,end:n?i:r}}function BM(t,e,s){if(s===!1)return!1;const n=cm(t,s),i=cm(e,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function UM(t){let e,s,n,i;return oe(t)?(e=t.top,s=t.right,n=t.bottom,i=t.left):e=s=n=i=t,{top:e,right:s,bottom:n,left:i,disabled:t===!1}}function qb(t,e){const s=[],n=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=n.length;i<r;++i)s.push(n[i].index);return s}function dm(t,e,s,n={}){const i=t.keys,r=n.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===s){if(u=!0,n.all)continue;break}c=t.values[l],vt(c)&&(r||e===0||Kt(e)===Kt(c))&&(e+=c)}return!u&&!n.all?0:e}function zM(t,e){const{iScale:s,vScale:n}=e,i=s.axis==="x"?"x":"y",r=n.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:t[u]};return a}function pl(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function HM(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function WM(t){const{min:e,max:s,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function GM(t,e,s){const n=t[e]||(t[e]={});return n[s]||(n[s]={})}function um(t,e,s,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const r=t[i.index];if(s&&r>0||!s&&r<0)return i.index}return null}function hm(t,e){const{chart:s,_cachedMeta:n}=t,i=s._stacks||(s._stacks={}),{iScale:r,vScale:o,index:a}=n,l=r.axis,c=o.axis,u=HM(r,o,n),h=e.length;let f;for(let m=0;m<h;++m){const p=e[m],{[l]:g,[c]:x}=p,v=p._stacks||(p._stacks={});f=v[c]=GM(i,u,g),f[a]=x,f._top=um(f,o,!0,n.type),f._bottom=um(f,o,!1,n.type);const b=f._visualValues||(f._visualValues={});b[a]=x}}function gl(t,e){const s=t.scales;return Object.keys(s).filter(n=>s[n].axis===e).shift()}function KM(t,e){return bn(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function qM(t,e,s){return bn(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function Ci(t,e){const s=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[n]===void 0||r[n][s]===void 0)return;delete r[n][s],r[n]._visualValues!==void 0&&r[n]._visualValues[s]!==void 0&&delete r[n]._visualValues[s]}}}const xl=t=>t==="reset"||t==="none",fm=(t,e)=>e?t:Object.assign({},t),YM=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:qb(s,!0),values:null};class hn{constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=pl(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ci(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(h,f,m,p)=>h==="x"?f:h==="r"?p:m,r=s.xAxisID=ne(n.xAxisID,gl(e,"x")),o=s.yAxisID=ne(n.yAxisID,gl(e,"y")),a=s.rAxisID=ne(n.rAxisID,gl(e,"r")),l=s.indexAxis,c=s.iAxisID=i(l,r,o,a),u=s.vAxisID=i(l,o,r,a);s.xScale=this.getScaleForId(r),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(a),s.iScale=this.getScaleForId(c),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&qf(this._data,this),e._stacked&&Ci(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),n=this._data;if(oe(s)){const i=this._cachedMeta;this._data=zM(s,i)}else if(n!==s){if(n){qf(n,this);const i=this._cachedMeta;Ci(i),i._parsed=[]}s&&Object.isExtensible(s)&&kI(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=s._stacked;s._stacked=pl(s.vScale,s),s.stack!==n.stack&&(i=!0,Ci(s),s.stack=n.stack),this._resyncElements(e),(i||r!==s._stacked)&&(hm(this,s._parsed),s._stacked=pl(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:o}=n,a=r.axis;let l=e===0&&s===i.length?!0:n._sorted,c=e>0&&n._parsed[e-1],u,h,f;if(this._parsing===!1)n._parsed=i,n._sorted=!0,f=i;else{Le(i[e])?f=this.parseArrayData(n,i,e,s):oe(i[e])?f=this.parseObjectData(n,i,e,s):f=this.parsePrimitiveData(n,i,e,s);const m=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<s;++u)n._parsed[u+e]=h=f[u],l&&(m()&&(l=!1),c=h);n._sorted=l}o&&hm(this,f)}parsePrimitiveData(e,s,n,i){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(i);let f,m,p;for(f=0,m=i;f<m;++f)p=f+n,h[f]={[a]:u||r.parse(c[p],p),[l]:o.parse(s[p],p)};return h}parseArrayData(e,s,n,i){const{xScale:r,yScale:o}=e,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+n,h=s[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,s,n,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,f,m;for(u=0,h=i;u<h;++u)f=u+n,m=s[f],c[u]={x:r.parse(gn(m,a),f),y:o.parse(gn(m,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,n){const i=this.chart,r=this._cachedMeta,o=s[e.axis],a={keys:qb(i,!0),values:s._stacks[e.axis]._visualValues};return dm(a,o,r.index,{mode:n})}updateRangeFromParsed(e,s,n,i){const r=n[s.axis];let o=r===null?NaN:r;const a=i&&n._stacks[s.axis];i&&a&&(i.values=a,o=dm(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,s){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&e===n.iScale,o=i.length,a=this._getOtherScale(e),l=YM(s,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=WM(a);let f,m;function p(){m=i[f];const g=m[a.axis];return!vt(m[e.axis])||u>g||h<g}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(c,e,m,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(c,e,m,l);break}}return c}getAllParsedValues(e){const s=this._cachedMeta._parsed,n=[];let i,r,o;for(i=0,r=s.length;i<r;++i)o=s[i][e.axis],vt(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,n=s.iScale,i=s.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=UM(ne(this.options.clip,BM(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],r=s.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,s){const n=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,s,n){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=qM(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=KM(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!s,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",n){const i=s==="active",r=this._cachedDataOpts,o=e+"-"+s,a=r[o],l=this.enableOptionSharing&&xr(n);if(a)return fm(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),m=Object.keys(Ae.elements[e]),p=()=>this.getContext(n,i,s),g=c.resolveNamedOptions(f,m,p,h);return g.$shared&&(g.$shared=l,r[o]=Object.freeze(fm(g,l))),g}_resolveAnimations(e,s,n){const i=this.chart,r=this._cachedDataOpts,o=`animation-${s}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,s),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(e,n,s))}const c=new Kb(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||xl(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const n=this.resolveDataElementOptions(e,s),i=this._sharedOptions,r=this.getSharedOptions(n),o=this.includeOptions(s,r)||r!==i;return this.updateSharedOptions(r,s,n),{sharedOptions:r,includeOptions:o}}updateElement(e,s,n,i){xl(i)?Object.assign(e,n):this._resolveAnimations(s,i).update(e,n)}updateSharedOptions(e,s,n){e&&!xl(s)&&this._resolveAnimations(void 0,s).update(e,n)}_setStyle(e,s,n,i){e.active=i;const r=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,s,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,s,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,n=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=n.length,r=s.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,s,n=!0){const i=this._cachedMeta,r=i.data,o=e+s;let a;const l=c=>{for(c.length+=s,a=c.length-1;a>=o;a--)c[a]=c[a-s]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,s),n&&this.updateElements(r,e,s,"reset")}updateElements(e,s,n,i){}_removeElements(e,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,s);n._stacked&&Ci(n,i)}n.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,n,i]=e;this[s](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}B(hn,"defaults",{}),B(hn,"datasetElementType",null),B(hn,"dataElementType",null);function XM(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let n=[];for(let i=0,r=s.length;i<r;i++)n=n.concat(s[i].controller.getAllParsedValues(t));t._cache.$bar=Rb(n.sort((i,r)=>i-r))}return t._cache.$bar}function JM(t){const e=t.iScale,s=XM(e,t.type);let n=e._length,i,r,o,a;const l=()=>{o===32767||o===-32768||(xr(a)&&(n=Math.min(n,Math.abs(o-a)||n)),a=o)};for(i=0,r=s.length;i<r;++i)o=e.getPixelForValue(s[i]),l();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),l();return n}function QM(t,e,s,n){const i=s.barThickness;let r,o;return ce(i)?(r=e.min*s.categoryPercentage,o=s.barPercentage):(r=i*n,o=1),{chunk:r/n,ratio:o,start:e.pixels[t]-r/2}}function ZM(t,e,s,n){const i=e.pixels,r=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=s.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/n,ratio:s.barPercentage,start:c}}function eO(t,e,s,n){const i=s.parse(t[0],n),r=s.parse(t[1],n),o=Math.min(i,r),a=Math.max(i,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[s.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:r,min:o,max:a}}function Yb(t,e,s,n){return Le(t)?eO(t,e,s,n):e[s.axis]=s.parse(t,n),e}function mm(t,e,s,n){const i=t.iScale,r=t.vScale,o=i.getLabels(),a=i===r,l=[];let c,u,h,f;for(c=s,u=s+n;c<u;++c)f=e[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(Yb(f,h,r,c));return l}function yl(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function tO(t,e,s){return t!==0?Kt(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function sO(t){let e,s,n,i,r;return t.horizontal?(e=t.base>t.x,s="left",n="right"):(e=t.base<t.y,s="bottom",n="top"),e?(i="end",r="start"):(i="start",r="end"),{start:s,end:n,reverse:e,top:i,bottom:r}}function nO(t,e,s,n){let i=e.borderSkipped;const r={};if(!i){t.borderSkipped=r;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=sO(t);i==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===n?i=c:(s._bottom||0)===n?i=u:(r[pm(u,o,a,l)]=!0,i=c)),r[pm(i,o,a,l)]=!0,t.borderSkipped=r}function pm(t,e,s,n){return n?(t=iO(t,e,s),t=gm(t,s,e)):t=gm(t,e,s),t}function iO(t,e,s){return t===e?s:t===s?e:t}function gm(t,e,s){return t==="start"?e:t==="end"?s:t}function rO(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class bo extends hn{parsePrimitiveData(e,s,n,i){return mm(e,s,n,i)}parseArrayData(e,s,n,i){return mm(e,s,n,i)}parseObjectData(e,s,n,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let f,m,p,g;for(f=n,m=n+i;f<m;++f)g=s[f],p={},p[r.axis]=r.parse(gn(g,c),f),h.push(Yb(gn(g,u),p,o,f));return h}updateRangeFromParsed(e,s,n,i){super.updateRangeFromParsed(e,s,n,i);const r=n._custom;r&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:n,vScale:i}=s,r=this.getParsed(e),o=r._custom,a=yl(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,n,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(s,i);for(let m=s;m<s+n;m++){const p=this.getParsed(m),g=r||ce(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),x=this._calculateBarIndexPixels(m,u),v=(p._stacks||{})[a.axis],b={horizontal:c,base:g.base,enableBorderRadius:!v||yl(p._custom)||o===v._top||o===v._bottom,x:c?g.head:x.center,y:c?x.center:g.head,height:c?x.size:Math.abs(g.size),width:c?Math.abs(g.size):x.size};f&&(b.options=h||this.resolveDataElementOptions(m,e[m].active?"active":i));const w=b.options||e[m].options;nO(b,w,v,o),rO(b,w,u.ratio),this.updateElement(e[m],m,b,i)}}_getStacks(e,s){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=n.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(s),l=a&&a[n.axis],c=u=>{const h=u._parsed.find(m=>m[n.axis]===l),f=h&&h[u.vScale.axis];if(ce(f)||isNaN(f))return!0};for(const u of i)if(!(s!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===s).shift()}_getAxis(){const e={},s=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[ne(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,s)]=!0;return Object.keys(e)}_getStackIndex(e,s,n){const i=this._getStacks(e,n),r=s!==void 0?i.indexOf(s):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,s=this._cachedMeta,n=s.iScale,i=[];let r,o;for(r=0,o=s.data.length;r<o;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const a=e.barThickness;return{min:a||JM(s),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:n,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,u=yl(c);let h=l[s.axis],f=0,m=n?this.applyStack(s,l,n):h,p,g;m!==h&&(f=m-h,m=h),u&&(h=c.barStart,m=c.barEnd-c.barStart,h!==0&&Kt(h)!==Kt(c.barEnd)&&(f=0),f+=h);const x=!ce(r)&&!u?r:f;let v=s.getPixelForValue(x);if(this.chart.getDataVisibility(e)?p=s.getPixelForValue(f+m):p=v,g=p-v,Math.abs(g)<o){g=tO(g,s,a)*o,h===a&&(v-=g/2);const b=s.getPixelForDecimal(0),w=s.getPixelForDecimal(1),S=Math.min(b,w),_=Math.max(b,w);v=Math.max(Math.min(v,_),S),p=v+g,n&&!u&&(l._stacks[s.axis]._visualValues[i]=s.getValueForPixel(p)-s.getValueForPixel(v))}if(v===s.getPixelForValue(a)){const b=Kt(g)*s.getLineWidthForValue(a)/2;v+=b,g-=b}return{size:g,base:v,head:p,center:p+g/2}}_calculateBarIndexPixels(e,s){const n=s.scale,i=this.options,r=i.skipNull,o=ne(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(s.grouped){const u=r?this._getStackCount(e):s.stackCount,h=i.barThickness==="flex"?ZM(e,s,i,u*c):QM(e,s,i,u*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(ne(f,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+m;a=h.start+h.chunk*p+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(o,s.min*s.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,s=e.vScale,n=e.data,i=n.length;let r=0;for(;r<i;++r)this.getParsed(r)[s.axis]!==null&&!n[r].hidden&&n[r].draw(this._ctx)}}B(bo,"id","bar"),B(bo,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),B(bo,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function oO(t,e,s){let n=1,i=1,r=0,o=0;if(e<Ne){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),f=Math.sin(l),m=(w,S,_)=>vr(w,a,l,!0)?1:Math.max(S,S*s,_,_*s),p=(w,S,_)=>vr(w,a,l,!0)?-1:Math.min(S,S*s,_,_*s),g=m(0,c,h),x=m(Fe,u,f),v=p(fe,c,h),b=p(fe+Fe,u,f);n=(g-v)/2,i=(x-b)/2,r=-(g+v)/2,o=-(x+b)/2}return{ratioX:n,ratioY:i,offsetX:r,offsetY:o}}class Oi extends hn{constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let r=l=>+n[l];if(oe(n[e])){const{key:l="value"}=this._parsing;r=c=>+gn(n[c],l)}let o,a;for(o=e,a=e+s;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return is(this.options.rotation-90)}_getCircumference(){return is(this.options.circumference)}_getRotationExtents(){let e=Ne,s=-Ne;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),s=Math.max(s,r+o)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:n}=s,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-o)/2,0),l=Math.min(hI(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:p,offsetY:g}=oO(h,u,l),x=(n.width-o)/f,v=(n.height-o)/m,b=Math.max(Math.min(x,v)/2,0),w=Nb(this.options.radius,b),S=Math.max(w*l,0),_=(w-S)/this._getVisibleDatasetWeightTotal();this.offsetX=p*w,this.offsetY=g*w,i.total=this.calculateTotal(),this.outerRadius=w-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,s){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/Ne)}updateElements(e,s,n,i){const r=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=r&&c.animateScale,m=f?0:this.innerRadius,p=f?0:this.outerRadius,{sharedOptions:g,includeOptions:x}=this._getSharedOptions(s,i);let v=this._getRotation(),b;for(b=0;b<s;++b)v+=this._circumference(b,r);for(b=s;b<s+n;++b){const w=this._circumference(b,r),S=e[b],_={x:u+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+w,circumference:w,outerRadius:p,innerRadius:m};x&&(_.options=g||this.resolveDataElementOptions(b,S.active?"active":i)),v+=w,this.updateElement(S,b,_,i)}}calculateTotal(){const e=this._cachedMeta,s=e.data;let n=0,i;for(i=0;i<s.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!s[i].hidden&&(n+=Math.abs(r))}return n}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?Ne*(Math.abs(e)/s):0}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=Jd(s._parsed[e],n.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let s=0;const n=this.chart;let i,r,o,a,l;if(!e){for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(s=Math.max(s,l.borderWidth||0,l.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let n=0,i=e.length;n<i;++n){const r=this.resolveDataElementOptions(n);s=Math.max(s,r.offset||0,r.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(e){return Math.max(ne(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}B(Oi,"id","doughnut"),B(Oi,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),B(Oi,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),B(Oi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return s.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}});class wo extends hn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=s,o=this.chart._animationsDisabled;let{start:a,count:l}=RI(s,i,o);this._drawStart=a,this._drawCount=l,II(s)&&(a=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,s,n,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(s,i),f=o.axis,m=a.axis,{spanGaps:p,segment:g}=this.options,x=yr(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||i==="none",b=s+n,w=e.length;let S=s>0&&this.getParsed(s-1);for(let _=0;_<w;++_){const j=e[_],T=v?j:{};if(_<s||_>=b){T.skip=!0;continue}const C=this.getParsed(_),N=ce(C[m]),E=T[f]=o.getPixelForValue(C[f],_),P=T[m]=r||N?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,C,l):C[m],_);T.skip=isNaN(E)||isNaN(P)||N,T.stop=_>0&&Math.abs(C[f]-S[f])>x,g&&(T.parsed=C,T.raw=c.data[_]),h&&(T.options=u||this.resolveDataElementOptions(_,j.active?"active":i)),v||this.updateElement(j,_,T,i),S=C}}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,n=s.options&&s.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}B(wo,"id","line"),B(wo,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),B(wo,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Gs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ou{constructor(e){B(this,"options");this.options=e||{}}static override(e){Object.assign(ou.prototype,e)}init(){}formats(){return Gs()}parse(){return Gs()}format(){return Gs()}add(){return Gs()}diff(){return Gs()}startOf(){return Gs()}endOf(){return Gs()}}var aO={_date:ou};function lO(t,e,s,n){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const c=a._reversePixels?EI:en;if(n){if(i._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const f=c(r,e,s-h),m=c(r,e,s+h);return{lo:f.lo,hi:m.hi}}}}else{const u=c(r,e,s);if(l){const{vScale:h}=i._cachedMeta,{_parsed:f}=t,m=f.slice(0,u.lo+1).reverse().findIndex(g=>!ce(g[h.axis]));u.lo-=Math.max(0,m);const p=f.slice(u.hi).findIndex(g=>!ce(g[h.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:r.length-1}}function Lr(t,e,s,n,i){const r=t.getSortedVisibleDatasetMetas(),o=s[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:f}=lO(r[a],e,o,i);for(let m=h;m<=f;++m){const p=u[m];p.skip||n(p,c,m)}}}function cO(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(n,i){const r=e?Math.abs(n.x-i.x):0,o=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function vl(t,e,s,n,i){const r=[];return!i&&!t.isPointInArea(e)||Lr(t,s,e,function(a,l,c){!i&&!br(a,t.chartArea,0)||a.inRange(e.x,e.y,n)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function dO(t,e,s,n){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:h}=Pb(o,{x:e.x,y:e.y});vr(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Lr(t,s,e,r),i}function uO(t,e,s,n,i,r){let o=[];const a=cO(s);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const m=u.inRange(e.x,e.y,i);if(n&&!m)return;const p=u.getCenterPoint(i);if(!(!!r||t.isPointInArea(p))&&!m)return;const x=a(e,p);x<l?(o=[{element:u,datasetIndex:h,index:f}],l=x):x===l&&o.push({element:u,datasetIndex:h,index:f})}return Lr(t,s,e,c),o}function bl(t,e,s,n,i,r){return!r&&!t.isPointInArea(e)?[]:s==="r"&&!n?dO(t,e,s,i):uO(t,e,s,n,i,r)}function xm(t,e,s,n,i){const r=[],o=s==="x"?"inXRange":"inYRange";let a=!1;return Lr(t,s,e,(l,c,u)=>{l[o]&&l[o](e[s],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),n&&!a?[]:r}var hO={evaluateInteractionItems:Lr,modes:{index(t,e,s,n){const i=Ys(e,t),r=s.axis||"x",o=s.includeInvisible||!1,a=s.intersect?vl(t,i,r,n,o):bl(t,i,r,!1,n,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,s,n){const i=Ys(e,t),r=s.axis||"xy",o=s.includeInvisible||!1;let a=s.intersect?vl(t,i,r,n,o):bl(t,i,r,!1,n,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,s,n){const i=Ys(e,t),r=s.axis||"xy",o=s.includeInvisible||!1;return vl(t,i,r,n,o)},nearest(t,e,s,n){const i=Ys(e,t),r=s.axis||"xy",o=s.includeInvisible||!1;return bl(t,i,r,s.intersect,n,o)},x(t,e,s,n){const i=Ys(e,t);return xm(t,i,"x",s.intersect,n)},y(t,e,s,n){const i=Ys(e,t);return xm(t,i,"y",s.intersect,n)}}};const Xb=["left","top","right","bottom"];function Ei(t,e){return t.filter(s=>s.pos===e)}function ym(t,e){return t.filter(s=>Xb.indexOf(s.pos)===-1&&s.box.axis===e)}function Ni(t,e){return t.sort((s,n)=>{const i=e?n:s,r=e?s:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function fO(t){const e=[];let s,n,i,r,o,a;for(s=0,n=(t||[]).length;s<n;++s)i=t[s],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:s,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function mO(t){const e={};for(const s of t){const{stack:n,pos:i,stackWeight:r}=s;if(!n||!Xb.includes(i))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function pO(t,e){const s=mO(t),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=s[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*n:l&&e.availableWidth,a.height=i):(a.width=n,a.height=u?u*i:l&&e.availableHeight)}return s}function gO(t){const e=fO(t),s=Ni(e.filter(c=>c.box.fullSize),!0),n=Ni(Ei(e,"left"),!0),i=Ni(Ei(e,"right")),r=Ni(Ei(e,"top"),!0),o=Ni(Ei(e,"bottom")),a=ym(e,"x"),l=ym(e,"y");return{fullSize:s,leftAndTop:n.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Ei(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function vm(t,e,s,n){return Math.max(t[s],e[s])+Math.max(t[n],e[n])}function Jb(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function xO(t,e,s,n){const{pos:i,box:r}=s,o=t.maxPadding;if(!oe(i)){s.size&&(t[i]-=s.size);const h=n[s.stack]||{size:0,count:1};h.size=Math.max(h.size,s.horizontal?r.height:r.width),s.size=h.size/h.count,t[i]+=s.size}r.getPadding&&Jb(o,r.getPadding());const a=Math.max(0,e.outerWidth-vm(o,t,"left","right")),l=Math.max(0,e.outerHeight-vm(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,s.horizontal?{same:c,other:u}:{same:u,other:c}}function yO(t){const e=t.maxPadding;function s(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function vO(t,e){const s=e.maxPadding;function n(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],s[o])}),r}return n(t?["left","right"]:["top","bottom"])}function Di(t,e,s,n){const i=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,vO(a.horizontal,e));const{same:h,other:f}=xO(e,s,a,n);c|=h&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&Di(i,e,s,n)||u}function no(t,e,s,n,i){t.top=s,t.left=e,t.right=e+n,t.bottom=s+i,t.width=n,t.height=i}function bm(t,e,s,n){const i=s.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=n[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,f=c.size||l.height;xr(c.start)&&(o=c.start),l.fullSize?no(l,i.left,o,s.outerWidth-i.right-i.left,f):no(l,e.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,f=c.size||l.width;xr(c.start)&&(r=c.start),l.fullSize?no(l,r,i.top,f,s.outerHeight-i.bottom-i.top):no(l,r,e.top+c.placed,f,h),c.start=r,c.placed+=h,r=l.right}}e.x=r,e.y=o}var gt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,n){if(!t)return;const i=bt(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(s-i.height,0),a=gO(t.boxes),l=a.vertical,c=a.horizontal;he(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,x)=>x.box.options&&x.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:s,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);Jb(f,bt(n));const m=Object.assign({maxPadding:f,w:r,h:o,x:i.left,y:i.top},i),p=pO(l.concat(c),h);Di(a.fullSize,m,h,p),Di(l,m,h,p),Di(c,m,h,p)&&Di(l,m,h,p),yO(m),bm(a.leftAndTop,m,h,p),m.x+=m.w,m.y+=m.h,bm(a.rightAndBottom,m,h,p),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},he(a.chartArea,g=>{const x=g.box;Object.assign(x,t.chartArea),x.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class Qb{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,n){}removeEventListener(e,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,n,i){return s=Math.max(0,s||e.width),n=n||e.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(e){return!0}updateConfig(e){}}class bO extends Qb{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const _o="$chartjs",wO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},wm=t=>t===null||t==="";function _O(t,e){const s=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t[_o]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",wm(i)){const r=im(t,"width");r!==void 0&&(t.width=r)}if(wm(n))if(t.style.height==="")t.height=t.width/(e||2);else{const r=im(t,"height");r!==void 0&&(t.height=r)}return t}const Zb=wM?{passive:!0}:!1;function SO(t,e,s){t&&t.addEventListener(e,s,Zb)}function jO(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,Zb)}function TO(t,e){const s=wO[t.type]||t.type,{x:n,y:i}=Ys(t,e);return{type:s,chart:e,native:t,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Xo(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function CO(t,e,s){const n=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Xo(a.addedNodes,n),o=o&&!Xo(a.removedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function EO(t,e,s){const n=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Xo(a.removedNodes,n),o=o&&!Xo(a.addedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const _r=new Map;let _m=0;function e0(){const t=window.devicePixelRatio;t!==_m&&(_m=t,_r.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function NO(t,e){_r.size||window.addEventListener("resize",e0),_r.set(t,e)}function kO(t){_r.delete(t),_r.size||window.removeEventListener("resize",e0)}function PO(t,e,s){const n=t.canvas,i=n&&ru(n);if(!i)return;const r=Mb((a,l)=>{const c=i.clientWidth;s(a,l),c<i.clientWidth&&s()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),NO(t,r),o}function wl(t,e,s){s&&s.disconnect(),e==="resize"&&kO(t)}function AO(t,e,s){const n=t.canvas,i=Mb(r=>{t.ctx!==null&&s(TO(r,t))},t);return SO(n,e,i),i}class RO extends Qb{acquireContext(e,s){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(_O(e,s),n):null}releaseContext(e){const s=e.canvas;if(!s[_o])return!1;const n=s[_o].initial;["height","width"].forEach(r=>{const o=n[r];ce(o)?s.removeAttribute(r):s.setAttribute(r,o)});const i=n.style||{};return Object.keys(i).forEach(r=>{s.style[r]=i[r]}),s.width=s.width,delete s[_o],!0}addEventListener(e,s,n){this.removeEventListener(e,s);const i=e.$proxies||(e.$proxies={}),o={attach:CO,detach:EO,resize:PO}[s]||AO;i[s]=o(e,s,n)}removeEventListener(e,s){const n=e.$proxies||(e.$proxies={}),i=n[s];if(!i)return;({attach:wl,detach:wl,resize:wl}[s]||jO)(e,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,n,i){return bM(e,s,n,i)}isAttached(e){const s=e&&ru(e);return!!(s&&s.isConnected)}}function IO(t){return!iu()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?bO:RO}var co;let as=(co=class{constructor(){B(this,"x");B(this,"y");B(this,"active",!1);B(this,"options");B(this,"$animations")}tooltipPosition(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}hasValue(){return yr(this.x)&&yr(this.y)}getProps(e,s){const n=this.$animations;if(!s||!n)return this;const i={};return e.forEach(r=>{i[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),i}},B(co,"defaults",{}),B(co,"defaultRoutes"),co);function MO(t,e){const s=t.options.ticks,n=OO(t),i=Math.min(s.maxTicksLimit||n,n),r=s.major.enabled?LO(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return FO(e,c,r,o/i),c;const u=DO(r,e,i);if(o>0){let h,f;const m=o>1?Math.round((l-a)/(o-1)):null;for(io(e,c,u,ce(m)?0:a-m,a),h=0,f=o-1;h<f;h++)io(e,c,u,r[h],r[h+1]);return io(e,c,u,l,ce(m)?e.length:l+m),c}return io(e,c,u),c}function OO(t){const e=t.options.offset,s=t._tickSize(),n=t._length/s+(e?0:1),i=t._maxLength/s;return Math.floor(Math.min(n,i))}function DO(t,e,s){const n=$O(t),i=e.length/s;if(!n)return Math.max(i,1);const r=bI(n);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function LO(t){const e=[];let s,n;for(s=0,n=t.length;s<n;s++)t[s].major&&e.push(s);return e}function FO(t,e,s,n){let i=0,r=s[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=s[i*n])}function io(t,e,s,n,i){const r=ne(n,0),o=Math.min(ne(i,t.length),t.length);let a=0,l,c,u;for(s=Math.ceil(s),i&&(l=i-n,s=l/Math.floor(l/s)),u=r;u<0;)a++,u=Math.round(r+a*s);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*s))}function $O(t){const e=t.length;let s,n;if(e<2)return!1;for(n=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==n)return!1;return n}const VO=t=>t==="left"?"right":t==="right"?"left":t,Sm=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,jm=(t,e)=>Math.min(e||t,t);function Tm(t,e){const s=[],n=t.length/e,i=t.length;let r=0;for(;r<i;r+=n)s.push(t[Math.floor(r)]);return s}function BO(t,e,s){const n=t.ticks.length,i=Math.min(e,n-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(s&&(n===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<r-a||l>o+a)))return l}function UO(t,e){he(t,s=>{const n=s.gc,i=n.length/2;let r;if(i>e){for(r=0;r<i;++r)delete s.data[n[r]];n.splice(0,i)}})}function ki(t){return t.drawTicks?t.tickLength:0}function Cm(t,e){if(!t.display)return 0;const s=Ke(t.font,e),n=bt(t.padding);return(Le(t.text)?t.text.length:1)*s.lineHeight+n.height}function zO(t,e){return bn(t,{scale:e,type:"scale"})}function HO(t,e,s){return bn(t,{tick:s,index:e,type:"tick"})}function WO(t,e,s){let n=Yd(t);return(s&&e!=="right"||!s&&e==="right")&&(n=VO(n)),n}function GO(t,e,s,n){const{top:i,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,f,m,p;const g=o-i,x=a-r;if(t.isHorizontal()){if(m=ze(n,r,a),oe(s)){const v=Object.keys(s)[0],b=s[v];p=u[v].getPixelForValue(b)+g-e}else s==="center"?p=(c.bottom+c.top)/2+g-e:p=Sm(t,s,e);f=a-r}else{if(oe(s)){const v=Object.keys(s)[0],b=s[v];m=u[v].getPixelForValue(b)-x+e}else s==="center"?m=(c.left+c.right)/2-x+e:m=Sm(t,s,e);p=ze(n,o,i),h=s==="left"?-Fe:Fe}return{titleX:m,titleY:p,maxWidth:f,rotation:h}}class xi extends as{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return e=Lt(e,Number.POSITIVE_INFINITY),s=Lt(s,Number.NEGATIVE_INFINITY),n=Lt(n,Number.POSITIVE_INFINITY),i=Lt(i,Number.NEGATIVE_INFINITY),{min:Lt(e,n),max:Lt(s,i),minDefined:vt(e),maxDefined:vt(s)}}getMinMax(e){let{min:s,max:n,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:s,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(s=Math.min(s,o.min)),r||(n=Math.max(n,o.max));return s=r&&s>n?n:s,n=i&&s>n?s:n,{min:Lt(s,Lt(n,s)),max:Lt(n,Lt(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){be(this.options.beforeUpdate,[this])}update(e,s,n){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=QI(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Tm(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=MO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,e=!e),this._startPixel=s,this._endPixel=n,this._reversePixels=e,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){be(this.options.afterUpdate,[this])}beforeSetDimensions(){be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){be(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),be(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n],r.label=be(s.callback,[r.value,n,e],this)}afterTickToLabelConversion(){be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,n=jm(this.ticks.length,e.ticks.maxTicksLimit),i=s.minRotation||0,r=s.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!s.display||i>=r||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,m=Ge(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/n:m/(n-1),h+6>a&&(a=m/(n-(e.offset?.5:1)),l=this.maxHeight-ki(e.grid)-s.padding-Cm(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=jI(Math.min(Math.asin(Ge((u.highest.height+6)/a,-1,1)),Math.asin(Ge(l/c,-1,1))-Math.asin(Ge(f/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){be(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Cm(i,s.options.font);if(a?(e.width=this.maxWidth,e.height=ki(r)+l):(e.height=this.maxHeight,e.width=ki(r)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),m=n.padding*2,p=is(this.labelRotation),g=Math.cos(p),x=Math.sin(p);if(a){const v=n.mirror?0:x*h.width+g*f.height;e.height=Math.min(this.maxHeight,e.height+v+m)}else{const v=n.mirror?0:g*h.width+x*f.height;e.width=Math.min(this.maxWidth,e.width+v+m)}this._calculatePadding(c,u,x,g)}}this._handleMargins(),a?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,n,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;l?c?(f=i*e.width,m=n*s.height):(f=n*e.height,m=i*s.width):r==="start"?m=s.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,m=s.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-h+o)*this.width/(this.width-h),0)}else{let u=s.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=s.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){be(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,n;for(s=0,n=e.length;s<n;s++)ce(e[s].label)&&(e.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=Tm(n,s)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,n){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(s/jm(s,n));let c=0,u=0,h,f,m,p,g,x,v,b,w,S,_;for(h=0;h<s;h+=l){if(p=e[h].label,g=this._resolveTickFontOptions(h),i.font=x=g.string,v=r[x]=r[x]||{data:{},gc:[]},b=g.lineHeight,w=S=0,!ce(p)&&!Le(p))w=Zf(i,v.data,v.gc,w,p),S=b;else if(Le(p))for(f=0,m=p.length;f<m;++f)_=p[f],!ce(_)&&!Le(_)&&(w=Zf(i,v.data,v.gc,w,_),S+=b);o.push(w),a.push(S),c=Math.max(w,c),u=Math.max(S,u)}UO(r,s);const j=o.indexOf(c),T=a.indexOf(u),C=N=>({width:o[N]||0,height:a[N]||0});return{first:C(0),last:C(s-1),widest:C(j),highest:C(T),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return CI(this._alignToPixels?Ws(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const n=s[e];return n.$context||(n.$context=HO(this.getContext(),e,n))}return this.$context||(this.$context=zO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=is(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*n>a*i?a/n:l/i:l*i<a*n?l/n:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,n=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=ki(r),m=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,x=g/2,v=function(O){return Ws(n,O,g)};let b,w,S,_,j,T,C,N,E,P,A,W;if(o==="top")b=v(this.bottom),T=this.bottom-f,N=b-x,P=v(e.top)+x,W=e.bottom;else if(o==="bottom")b=v(this.top),P=e.top,W=v(e.bottom)-x,T=b+x,N=this.top+f;else if(o==="left")b=v(this.right),j=this.right-f,C=b-x,E=v(e.left)+x,A=e.right;else if(o==="right")b=v(this.left),E=e.left,A=v(e.right)-x,j=b+x,C=this.left+f;else if(s==="x"){if(o==="center")b=v((e.top+e.bottom)/2+.5);else if(oe(o)){const O=Object.keys(o)[0],D=o[O];b=v(this.chart.scales[O].getPixelForValue(D))}P=e.top,W=e.bottom,T=b+x,N=T+f}else if(s==="y"){if(o==="center")b=v((e.left+e.right)/2);else if(oe(o)){const O=Object.keys(o)[0],D=o[O];b=v(this.chart.scales[O].getPixelForValue(D))}j=b-x,C=j-f,E=e.left,A=e.right}const F=ne(i.ticks.maxTicksLimit,h),M=Math.max(1,Math.ceil(h/F));for(w=0;w<h;w+=M){const O=this.getContext(w),D=r.setContext(O),L=a.setContext(O),R=D.lineWidth,z=D.color,de=L.dash||[],X=L.dashOffset,te=D.tickWidth,Q=D.tickColor,ye=D.tickBorderDash||[],Re=D.tickBorderDashOffset;S=BO(this,w,l),S!==void 0&&(_=Ws(n,S,R),c?j=C=E=A=_:T=N=P=W=_,m.push({tx1:j,ty1:T,tx2:C,ty2:N,x1:E,y1:P,x2:A,y2:W,width:R,color:z,borderDash:de,borderDashOffset:X,tickWidth:te,tickColor:Q,tickBorderDash:ye,tickBorderDashOffset:Re}))}return this._ticksLength=h,this._borderValue=b,m}_computeLabelItems(e){const s=this.axis,n=this.options,{position:i,ticks:r}=n,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,f=ki(n.grid),m=f+u,p=h?-u:m,g=-is(this.labelRotation),x=[];let v,b,w,S,_,j,T,C,N,E,P,A,W="middle";if(i==="top")j=this.bottom-p,T=this._getXAxisLabelAlignment();else if(i==="bottom")j=this.top+p,T=this._getXAxisLabelAlignment();else if(i==="left"){const M=this._getYAxisLabelAlignment(f);T=M.textAlign,_=M.x}else if(i==="right"){const M=this._getYAxisLabelAlignment(f);T=M.textAlign,_=M.x}else if(s==="x"){if(i==="center")j=(e.top+e.bottom)/2+m;else if(oe(i)){const M=Object.keys(i)[0],O=i[M];j=this.chart.scales[M].getPixelForValue(O)+m}T=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")_=(e.left+e.right)/2-m;else if(oe(i)){const M=Object.keys(i)[0],O=i[M];_=this.chart.scales[M].getPixelForValue(O)}T=this._getYAxisLabelAlignment(f).textAlign}s==="y"&&(l==="start"?W="top":l==="end"&&(W="bottom"));const F=this._getLabelSizes();for(v=0,b=a.length;v<b;++v){w=a[v],S=w.label;const M=r.setContext(this.getContext(v));C=this.getPixelForTick(v)+r.labelOffset,N=this._resolveTickFontOptions(v),E=N.lineHeight,P=Le(S)?S.length:1;const O=P/2,D=M.color,L=M.textStrokeColor,R=M.textStrokeWidth;let z=T;o?(_=C,T==="inner"&&(v===b-1?z=this.options.reverse?"left":"right":v===0?z=this.options.reverse?"right":"left":z="center"),i==="top"?c==="near"||g!==0?A=-P*E+E/2:c==="center"?A=-F.highest.height/2-O*E+E:A=-F.highest.height+E/2:c==="near"||g!==0?A=E/2:c==="center"?A=F.highest.height/2-O*E:A=F.highest.height-P*E,h&&(A*=-1),g!==0&&!M.showLabelBackdrop&&(_+=E/2*Math.sin(g))):(j=C,A=(1-P)*E/2);let de;if(M.showLabelBackdrop){const X=bt(M.backdropPadding),te=F.heights[v],Q=F.widths[v];let ye=A-X.top,Re=0-X.left;switch(W){case"middle":ye-=te/2;break;case"bottom":ye-=te;break}switch(T){case"center":Re-=Q/2;break;case"right":Re-=Q;break;case"inner":v===b-1?Re-=Q:v>0&&(Re-=Q/2);break}de={left:Re,top:ye,width:Q+X.width,height:te+X.height,color:M.backdropColor}}x.push({label:S,font:N,textOffset:A,options:{rotation:g,color:D,strokeColor:L,strokeWidth:R,textAlign:z,textBaseline:W,translation:[_,j],backdrop:de}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-is(this.labelRotation))return e==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return s==="left"?i?(u=this.right+r,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):s==="right"?i?(u=this.left+r,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:n,top:i,width:r,height:o}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(n,i,r,o),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(s.display)for(r=0,o=i.length;r<o;++r){const l=i[r];s.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),s.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),o=n.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=Ws(e,this.left,o)-o/2,u=Ws(e,this.right,a)+a/2,h=f=l):(h=Ws(e,this.top,o)-o/2,f=Ws(e,this.bottom,a)+a/2,c=u=l),s.save(),s.lineWidth=r.width,s.strokeStyle=r.color,s.beginPath(),s.moveTo(c,h),s.lineTo(u,f),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Qd(n,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;wr(n,c,0,u,l,a)}i&&Zd(n)}drawTitle(){const{ctx:e,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const r=Ke(n.font),o=bt(n.padding),a=n.align;let l=r.lineHeight/2;s==="bottom"||s==="center"||oe(s)?(l+=o.bottom,Le(n.text)&&(l+=r.lineHeight*(n.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=GO(this,l,s,a);wr(e,n.text,0,0,r,{color:n.color,maxWidth:h,rotation:f,textAlign:WO(a,s,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,n=ne(e.grid&&e.grid.z,-1),i=ne(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==xi.prototype.draw?[{z:s,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,o;for(r=0,o=s.length;r<o;++r){const a=s[r];a[n]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return Ke(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ro{constructor(e,s,n){this.type=e,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let n;YO(s)&&(n=this.register(s));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,KO(e,o,n),this.override&&Ae.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const s=this.items,n=e.id,i=this.scope;n in s&&delete s[n],i&&n in Ae[i]&&(delete Ae[i][n],this.override&&delete xn[n])}}function KO(t,e,s){const n=gr(Object.create(null),[s?Ae.get(s):{},Ae.get(e),t.defaults]);Ae.set(e,n),t.defaultRoutes&&qO(e,t.defaultRoutes),t.descriptors&&Ae.describe(e,t.descriptors)}function qO(t,e){Object.keys(e).forEach(s=>{const n=s.split("."),i=n.pop(),r=[t].concat(n).join("."),o=e[s].split("."),a=o.pop(),l=o.join(".");Ae.route(r,i,l,a)})}function YO(t){return"id"in t&&"defaults"in t}class XO{constructor(){this.controllers=new ro(hn,"datasets",!0),this.elements=new ro(as,"elements"),this.plugins=new ro(Object,"plugins"),this.scales=new ro(xi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,n){[...s].forEach(i=>{const r=n||this._getRegistryForType(i);n||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):he(i,o=>{const a=n||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,s,n){const i=Kd(e);be(n["before"+i],[],n),s[e](n),be(n["after"+i],[],n)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(e))return n}return this.plugins}_get(e,s,n){const i=s.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var Bt=new XO;class JO{constructor(){this._init=[]}notify(e,s,n,i){s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,s,n);return s==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,s,n,i){i=i||{};for(const r of e){const o=r.plugin,a=o[n],l=[s,i,r.options];if(be(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){ce(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const n=e&&e.config,i=ne(n.options&&n.options.plugins,{}),r=QO(n);return i===!1&&!s?[]:eD(e,r,i,s)}_notifyStateChanges(e){const s=this._oldCache||[],n=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(s,n),e,"stop"),this._notify(i(n,s),e,"start")}}function QO(t){const e={},s=[],n=Object.keys(Bt.plugins.items);for(let r=0;r<n.length;r++)s.push(Bt.getPlugin(n[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];s.indexOf(o)===-1&&(s.push(o),e[o.id]=!0)}return{plugins:s,localIds:e}}function ZO(t,e){return!e&&t===!1?null:t===!0?{}:t}function eD(t,{plugins:e,localIds:s},n,i){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=ZO(n[l],i);c!==null&&r.push({plugin:a,options:tD(t.config,{plugin:a,local:s[l]},c,o)})}return r}function tD(t,{plugin:e,local:s},n,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(n,r);return s&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Cc(t,e){const s=Ae.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function sD(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function nD(t,e){return t===e?"_index_":"_value_"}function Em(t){if(t==="x"||t==="y"||t==="r")return t}function iD(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ec(t,...e){if(Em(t))return t;for(const s of e){const n=s.axis||iD(s.position)||t.length>1&&Em(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Nm(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function rD(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(s.length)return Nm(t,"x",s[0])||Nm(t,"y",s[0])}return{}}function oD(t,e){const s=xn[t.type]||{scales:{}},n=e.scales||{},i=Cc(t.type,e),r=Object.create(null);return Object.keys(n).forEach(o=>{const a=n[o];if(!oe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Ec(o,a,rD(o,t),Ae.scales[a.type]),c=nD(l,i),u=s.scales||{};r[o]=Ji(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Cc(a,e),u=(xn[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=sD(h,l),m=o[f+"AxisID"]||f;r[m]=r[m]||Object.create(null),Ji(r[m],[{axis:f},n[m],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];Ji(a,[Ae.scales[a.type],Ae.scale])}),r}function t0(t){const e=t.options||(t.options={});e.plugins=ne(e.plugins,{}),e.scales=oD(t,e)}function s0(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function aD(t){return t=t||{},t.data=s0(t.data),t0(t),t}const km=new Map,n0=new Set;function oo(t,e){let s=km.get(t);return s||(s=e(),km.set(t,s),n0.add(s)),s}const Pi=(t,e,s)=>{const n=gn(e,s);n!==void 0&&t.add(n)};class lD{constructor(e){this._config=aD(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=s0(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),t0(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return oo(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return oo(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return oo(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,n=this.type;return oo(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const n=this._scopeCache;let i=n.get(e);return(!i||s)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,s,n){const{options:i,type:r}=this,o=this._cachedScopes(e,n),a=o.get(s);if(a)return a;const l=new Set;s.forEach(u=>{e&&(l.add(e),u.forEach(h=>Pi(l,e,h))),u.forEach(h=>Pi(l,i,h)),u.forEach(h=>Pi(l,xn[r]||{},h)),u.forEach(h=>Pi(l,Ae,h)),u.forEach(h=>Pi(l,jc,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),n0.has(s)&&o.set(s,c),c}chartOptionScopes(){const{options:e,type:s}=this;return[e,xn[s]||{},Ae.datasets[s]||{},{type:s},Ae,jc]}resolveNamedOptions(e,s,n,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Pm(this._resolverCache,e,i);let l=o;if(dD(o,s)){r.$shared=!1,n=Is(n)?n():n;const c=this.createResolver(e,n,a);l=li(o,n,c)}for(const c of s)r[c]=l[c];return r}createResolver(e,s,n=[""],i){const{resolver:r}=Pm(this._resolverCache,e,n);return oe(s)?li(r,s,void 0,i):r}}function Pm(t,e,s){let n=t.get(e);n||(n=new Map,t.set(e,n));const i=s.join();let r=n.get(i);return r||(r={resolver:tu(e,s),subPrefixes:s.filter(a=>!a.toLowerCase().includes("hover"))},n.set(i,r)),r}const cD=t=>oe(t)&&Object.getOwnPropertyNames(t).some(e=>Is(t[e]));function dD(t,e){const{isScriptable:s,isIndexable:n}=$b(t);for(const i of e){const r=s(i),o=n(i),a=(o||r)&&t[i];if(r&&(Is(a)||cD(a))||o&&Le(a))return!0}return!1}var uD="4.5.0";const hD=["top","bottom","left","right","chartArea"];function Am(t,e){return t==="top"||t==="bottom"||hD.indexOf(t)===-1&&e==="x"}function Rm(t,e){return function(s,n){return s[t]===n[t]?s[e]-n[e]:s[t]-n[t]}}function Im(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),be(s&&s.onComplete,[t],e)}function fD(t){const e=t.chart,s=e.options.animation;be(s&&s.onProgress,[t],e)}function i0(t){return iu()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const So={},Mm=t=>{const e=i0(t);return Object.values(So).filter(s=>s.canvas===e).pop()};function mD(t,e,s){const n=Object.keys(t);for(const i of n){const r=+i;if(r>=e){const o=t[i];delete t[i],(s>0||r>e)&&(t[r+s]=o)}}}function pD(t,e,s,n){return!s||t.type==="mouseout"?null:n?e:t}var ms;let Ca=(ms=class{static register(...e){Bt.add(...e),Om()}static unregister(...e){Bt.remove(...e),Om()}constructor(e,s){const n=this.config=new lD(s),i=i0(e),r=Mm(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||IO(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=uI(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new JO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=PI(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],So[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Zt.listen(this,"complete",Im),Zt.listen(this,"progress",fD),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:n,height:i,_aspectRatio:r}=this;return ce(e)?s&&r?r:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Bt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():nm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return em(this.canvas,this.ctx),this}stop(){return Zt.stop(this),this}resize(e,s){Zt.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,s,r),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,nm(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),be(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};he(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,s=e.scales,n=this.scales,i=Object.keys(n).reduce((o,a)=>(o[a]=!1,o),{});let r=[];s&&(r=r.concat(Object.keys(s).map(o=>{const a=s[o],l=Ec(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),he(r,o=>{const a=o.options,l=a.id,c=Ec(l,a),u=ne(a.type,o.dtype);(a.position===void 0||Am(a.position,c)!==Am(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in n&&n[l].type===u)h=n[l];else{const f=Bt.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(a,e)}),he(i,(o,a)=>{o||delete n[a]}),he(n,o=>{gt.configure(this,o,o.options),gt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,n=e.length;if(e.sort((i,r)=>i.index-r.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);e.splice(s,n-s)}this._sortedMetasets=e.slice(0).sort(Rm("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((n,i)=>{s.filter(r=>r===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const r=s[n];let o=this.getDatasetMeta(n);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=a,o.indexAxis=r.indexAxis||Cc(a,this.options),o.order=r.order||0,o.index=n,o.label=""+r.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const l=Bt.getController(a),{datasetElementType:c,dataElementType:u}=Ae.datasets[a];Object.assign(l,{dataElementType:Bt.getElement(u),datasetElementType:c&&Bt.getElement(c)}),o.controller=new l(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){he(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||he(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Rm("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){he(this.scales,e=>{gt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!Hf(s,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of s){const o=n==="_removeElements"?-r:r;mD(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=n(0);for(let r=1;r<s;r++)if(!Hf(i,n(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gt.update(this,this.width,this.height,e);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],he(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,Is(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Zt.has(this)?this.attached&&!Zt.running(this)&&Zt.start(this):(this.draw(),Im({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,n=[];let i,r;for(i=0,r=s.length;i<r;++i){const o=s[i];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=OM(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&Qd(s,i),e.controller.draw(),i&&Zd(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return br(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,n,i){const r=hO.modes[s];return typeof r=="function"?r(this,e,n,i):[]}getDatasetMeta(e){const s=this.data.datasets[e],n=this._metasets;let i=n.filter(r=>r&&r._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=bn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(e,s){const n=this.getDatasetMeta(e);n.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,n){const i=n?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);xr(s)?(r.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(r,{visible:n}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),Zt.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),em(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete So[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,n=(r,o)=>{s.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};he(this.options.events,r=>n(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,n=(l,c)=>{s.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(s.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",r),n("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",a)},s.isAttached(this.canvas)?a():o()}unbindEvents(){he(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},he(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,n){const i=n?"set":"remove";let r,o,a,l;for(s==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],n=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Wo(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(e,s,n){return this._plugins.notify(this,e,s,n)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,n){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(s,e),a=n?e:r(e,s);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,s){const n={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const r=this._handleEvent(e,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(e,s,n){const{_active:i=[],options:r}=this,o=s,a=this._getActiveElements(e,i,n,o),l=xI(e),c=pD(e,this._lastEvent,n,l);n&&(this._lastEvent=null,be(r.onHover,[e,a,this],this),l&&be(r.onClick,[e,a,this],this));const u=!Wo(a,i);return(u||s)&&(this._active=a,this._updateHoverStyles(a,i,s)),this._lastEvent=c,u}_getActiveElements(e,s,n,i){if(e.type==="mouseout")return[];if(!n)return s;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}},B(ms,"defaults",Ae),B(ms,"instances",So),B(ms,"overrides",xn),B(ms,"registry",Bt),B(ms,"version",uD),B(ms,"getChart",Mm),ms);function Om(){return he(Ca.instances,t=>t._plugins.invalidate())}function gD(t,e,s){const{startAngle:n,x:i,y:r,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/o,Rt(n-s));if(t.beginPath(),t.arc(i,r,o-c/2,n+h/2,s-h/2),a>0){const f=Math.min(c/a,Rt(n-s));t.arc(i,r,a+c/2,s-f/2,n+f/2,!0)}else{const f=Math.min(c/2,o*Rt(n-s));if(u==="round")t.arc(i,r,f,s-fe/2,n+fe/2,!0);else if(u==="bevel"){const m=2*f*f,p=-m*Math.cos(s+fe/2)+i,g=-m*Math.sin(s+fe/2)+r,x=m*Math.cos(n+fe/2)+i,v=m*Math.sin(n+fe/2)+r;t.lineTo(p,g),t.lineTo(x,v)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function xD(t,e,s){const{startAngle:n,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(r,o,a,n-c,s+c),l>i?(c=i/l,t.arc(r,o,l,s+c,n-c,!0)):t.arc(r,o,i,s+Fe,n-Fe),t.closePath(),t.clip()}function yD(t){return eu(t,["outerStart","outerEnd","innerStart","innerEnd"])}function vD(t,e,s,n){const i=yD(t.options.borderRadius),r=(s-e)/2,o=Math.min(r,n*e/2),a=l=>{const c=(s-Math.min(r,l))*n/2;return Ge(l,0,Math.min(r,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Ge(i.innerStart,0,o),innerEnd:Ge(i.innerEnd,0,o)}}function Rn(t,e,s,n){return{x:s+t*Math.cos(e),y:n+t*Math.sin(e)}}function Jo(t,e,s,n,i,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+n+s-c,0),f=u>0?u+n+s+c:0;let m=0;const p=i-l;if(n){const M=u>0?u-n:0,O=h>0?h-n:0,D=(M+O)/2,L=D!==0?p*D/(D+n):p;m=(p-L)/2}const g=Math.max(.001,p*h-s/fe)/h,x=(p-g)/2,v=l+x+m,b=i-x-m,{outerStart:w,outerEnd:S,innerStart:_,innerEnd:j}=vD(e,f,h,b-v),T=h-w,C=h-S,N=v+w/T,E=b-S/C,P=f+_,A=f+j,W=v+_/P,F=b-j/A;if(t.beginPath(),r){const M=(N+E)/2;if(t.arc(o,a,h,N,M),t.arc(o,a,h,M,E),S>0){const R=Rn(C,E,o,a);t.arc(R.x,R.y,S,E,b+Fe)}const O=Rn(A,b,o,a);if(t.lineTo(O.x,O.y),j>0){const R=Rn(A,F,o,a);t.arc(R.x,R.y,j,b+Fe,F+Math.PI)}const D=(b-j/f+(v+_/f))/2;if(t.arc(o,a,f,b-j/f,D,!0),t.arc(o,a,f,D,v+_/f,!0),_>0){const R=Rn(P,W,o,a);t.arc(R.x,R.y,_,W+Math.PI,v-Fe)}const L=Rn(T,v,o,a);if(t.lineTo(L.x,L.y),w>0){const R=Rn(T,N,o,a);t.arc(R.x,R.y,w,v-Fe,N)}}else{t.moveTo(o,a);const M=Math.cos(N)*h+o,O=Math.sin(N)*h+a;t.lineTo(M,O);const D=Math.cos(E)*h+o,L=Math.sin(E)*h+a;t.lineTo(D,L)}t.closePath()}function bD(t,e,s,n,i){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){Jo(t,e,s,n,l,i);for(let c=0;c<r;++c)t.fill();isNaN(a)||(l=o+(a%Ne||Ne))}return Jo(t,e,s,n,l,i),t.fill(),l}function wD(t,e,s,n,i){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:f,borderRadius:m}=l,p=l.borderAlign==="inner";if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=f,p?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let g=e.endAngle;if(r){Jo(t,e,s,n,g,i);for(let x=0;x<r;++x)t.stroke();isNaN(a)||(g=o+(a%Ne||Ne))}p&&xD(t,e,g),l.selfJoin&&g-o>=fe&&m===0&&u!=="miter"&&gD(t,e,g),r||(Jo(t,e,s,n,g,i),t.stroke())}class Li extends as{constructor(s){super();B(this,"circumference");B(this,"endAngle");B(this,"fullCircles");B(this,"innerRadius");B(this,"outerRadius");B(this,"pixelMargin");B(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,i){const r=this.getProps(["x","y"],i),{angle:o,distance:a}=Pb(r,{x:s,y:n}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),m=(this.options.spacing+this.options.borderWidth)/2,p=ne(f,c-l),g=vr(o,l,c)&&l!==c,x=p>=Ne||g,v=Cs(a,u+m,h+m);return x&&v}getCenterPoint(s){const{x:n,y:i,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:c,spacing:u}=this.options,h=(r+o)/2,f=(a+l+u+c)/2;return{x:n+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:i}=this,r=(n.offset||0)/4,o=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Ne?Math.floor(i/Ne):0,i===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const l=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min(fe,i||0)),u=r*c;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,bD(s,this,u,o,a),wD(s,this,u,o,a),s.restore()}}B(Li,"id","arc"),B(Li,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),B(Li,"defaultRoutes",{backgroundColor:"backgroundColor"}),B(Li,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function r0(t,e,s=e){t.lineCap=ne(s.borderCapStyle,e.borderCapStyle),t.setLineDash(ne(s.borderDash,e.borderDash)),t.lineDashOffset=ne(s.borderDashOffset,e.borderDashOffset),t.lineJoin=ne(s.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ne(s.borderWidth,e.borderWidth),t.strokeStyle=ne(s.borderColor,e.borderColor)}function _D(t,e,s){t.lineTo(s.x,s.y)}function SD(t){return t.stepped?zI:t.tension||t.cubicInterpolationMode==="monotone"?HI:_D}function o0(t,e,s={}){const n=t.length,{start:i=0,end:r=n-1}=s,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:n,start:l,loop:e.loop,ilen:c<l&&!u?n+c-l:c-l}}function jD(t,e,s,n){const{points:i,options:r}=e,{count:o,start:a,loop:l,ilen:c}=o0(i,s,n),u=SD(r);let{move:h=!0,reverse:f}=n||{},m,p,g;for(m=0;m<=c;++m)p=i[(a+(f?c-m:m))%o],!p.skip&&(h?(t.moveTo(p.x,p.y),h=!1):u(t,g,p,f,r.stepped),g=p);return l&&(p=i[(a+(f?c:0))%o],u(t,g,p,f,r.stepped)),!!l}function TD(t,e,s,n){const i=e.points,{count:r,start:o,ilen:a}=o0(i,s,n),{move:l=!0,reverse:c}=n||{};let u=0,h=0,f,m,p,g,x,v;const b=S=>(o+(c?a-S:S))%r,w=()=>{g!==x&&(t.lineTo(u,x),t.lineTo(u,g),t.lineTo(u,v))};for(l&&(m=i[b(0)],t.moveTo(m.x,m.y)),f=0;f<=a;++f){if(m=i[b(f)],m.skip)continue;const S=m.x,_=m.y,j=S|0;j===p?(_<g?g=_:_>x&&(x=_),u=(h*u+S)/++h):(w(),t.lineTo(S,_),p=j,h=0,g=x=_),v=_}w()}function Nc(t){const e=t.options,s=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?TD:jD}function CD(t){return t.stepped?_M:t.tension||t.cubicInterpolationMode==="monotone"?SM:Xs}function ED(t,e,s,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,s,n)&&i.closePath()),r0(t,e.options),t.stroke(i)}function ND(t,e,s,n){const{segments:i,options:r}=e,o=Nc(e);for(const a of i)r0(t,r,a.style),t.beginPath(),o(t,e,a,{start:s,end:s+n-1})&&t.closePath(),t.stroke()}const kD=typeof Path2D=="function";function PD(t,e,s,n){kD&&!e.options.segment?ED(t,e,s,n):ND(t,e,s,n)}class Fi extends as{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;mM(this._points,n,e,i,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=AM(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,n=e.length;return n&&s[e[n-1].end]}interpolate(e,s){const n=this.options,i=e[s],r=this.points,o=NM(this,{property:s,start:i,end:i});if(!o.length)return;const a=[],l=CD(n);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],m=r[h],p=r[f];if(m===p){a.push(m);continue}const g=Math.abs((i-m[s])/(p[s]-m[s])),x=l(m,p,g,n.stepped);x[s]=e[s],a.push(x)}return a.length===1?a[0]:a}pathSegment(e,s,n){return Nc(this)(e,this,s,n)}path(e,s,n){const i=this.segments,r=Nc(this);let o=this._loop;s=s||0,n=n||this.points.length-s;for(const a of i)o&=r(e,this,a,{start:s,end:s+n-1});return!!o}draw(e,s,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),PD(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}B(Fi,"id","line"),B(Fi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),B(Fi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),B(Fi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Dm(t,e,s,n){const i=t.options,{[s]:r}=t.getProps([s],n);return Math.abs(e-r)<i.radius+i.hitRadius}class jo extends as{constructor(s){super();B(this,"parsed");B(this,"skip");B(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,i){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(s-o,2)+Math.pow(n-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(s,n){return Dm(this,s,"x",n)}inYRange(s,n){return Dm(this,s,"y",n)}getCenterPoint(s){const{x:n,y:i}=this.getProps(["x","y"],s);return{x:n,y:i}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const i=n&&s.borderWidth||0;return(n+i)*2}draw(s,n){const i=this.options;this.skip||i.radius<.1||!br(this,n,this.size(i)/2)||(s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.fillStyle=i.backgroundColor,Tc(s,i,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}B(jo,"id","point"),B(jo,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),B(jo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function a0(t,e){const{x:s,y:n,base:i,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(s,i),l=Math.max(s,i),c=n-h,u=n+h):(h=r/2,a=s-h,l=s+h,c=Math.min(n,i),u=Math.max(n,i)),{left:a,top:c,right:l,bottom:u}}function Es(t,e,s,n){return t?0:Ge(e,s,n)}function AD(t,e,s){const n=t.options.borderWidth,i=t.borderSkipped,r=Fb(n);return{t:Es(i.top,r.top,0,s),r:Es(i.right,r.right,0,e),b:Es(i.bottom,r.bottom,0,s),l:Es(i.left,r.left,0,e)}}function RD(t,e,s){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,r=zn(i),o=Math.min(e,s),a=t.borderSkipped,l=n||oe(i);return{topLeft:Es(!l||a.top||a.left,r.topLeft,0,o),topRight:Es(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Es(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Es(!l||a.bottom||a.right,r.bottomRight,0,o)}}function ID(t){const e=a0(t),s=e.right-e.left,n=e.bottom-e.top,i=AD(t,s/2,n/2),r=RD(t,s/2,n/2);return{outer:{x:e.left,y:e.top,w:s,h:n,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:s-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function _l(t,e,s,n){const i=e===null,r=s===null,a=t&&!(i&&r)&&a0(t,n);return a&&(i||Cs(e,a.left,a.right))&&(r||Cs(s,a.top,a.bottom))}function MD(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function OD(t,e){t.rect(e.x,e.y,e.w,e.h)}function Sl(t,e,s={}){const n=t.x!==s.x?-e:0,i=t.y!==s.y?-e:0,r=(t.x+t.w!==s.x+s.w?e:0)-n,o=(t.y+t.h!==s.y+s.h?e:0)-i;return{x:t.x+n,y:t.y+i,w:t.w+r,h:t.h+o,radius:t.radius}}class To extends as{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:o}=ID(this),a=MD(o.radius)?qo:OD;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,Sl(o,s,r)),e.clip(),a(e,Sl(r,-s,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,Sl(r,s)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,s,n){return _l(this,e,s,n)}inXRange(e,s){return _l(this,e,null,s)}inYRange(e,s){return _l(this,null,e,s)}getCenterPoint(e){const{x:s,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(s+i)/2:s,y:r?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}B(To,"id","bar"),B(To,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),B(To,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Lm=(t,e)=>{let{boxHeight:s=e,boxWidth:n=e}=t;return t.usePointStyle&&(s=Math.min(s,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(e,s)}},DD=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Fm extends as{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,n){this.maxWidth=e,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=be(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(n=>e.filter(n,this.chart.data))),e.sort&&(s=s.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=Ke(n.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Lm(n,r);let c,u;s.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,s,n,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=e;r.textAlign="left",r.textBaseline="middle";let f=-1,m=-u;return this.legendItems.forEach((p,g)=>{const x=n+s/2+r.measureText(p.text).width;(g===0||c[c.length-1]+x+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,m+=u,f++),l[g]={left:0,top:m,row:f,width:x,height:i},c[c.length-1]+=x+a}),h}_fitCols(e,s,n,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,f=0,m=0,p=0,g=0;return this.legendItems.forEach((x,v)=>{const{itemWidth:b,itemHeight:w}=LD(n,s,r,x,i);v>0&&m+w+2*a>u&&(h+=f+a,c.push({width:f,height:m}),p+=f+a,g++,f=m=0),l[v]={left:p,top:m,col:g,width:b,height:w},f=Math.max(f,b),m+=w+a}),h+=f,c.push({width:f,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:r}}=this,o=Hn(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=ze(n,this.left+i,this.right-this.lineWidths[a]);for(const c of s)a!==c.row&&(a=c.row,l=ze(n,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=ze(n,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of s)c.col!==a&&(a=c.col,l=ze(n,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Qd(e,this),this._draw(),Zd(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:n,ctx:i}=this,{align:r,labels:o}=e,a=Ae.color,l=Hn(e.rtl,this.left,this.width),c=Ke(o.font),{padding:u}=o,h=c.size,f=h/2;let m;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:x}=Lm(o,h),v=function(j,T,C){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;i.save();const N=ne(C.lineWidth,1);if(i.fillStyle=ne(C.fillStyle,a),i.lineCap=ne(C.lineCap,"butt"),i.lineDashOffset=ne(C.lineDashOffset,0),i.lineJoin=ne(C.lineJoin,"miter"),i.lineWidth=N,i.strokeStyle=ne(C.strokeStyle,a),i.setLineDash(ne(C.lineDash,[])),o.usePointStyle){const E={radius:g*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:N},P=l.xPlus(j,p/2),A=T+f;Lb(i,E,P,A,o.pointStyleWidth&&p)}else{const E=T+Math.max((h-g)/2,0),P=l.leftForLtr(j,p),A=zn(C.borderRadius);i.beginPath(),Object.values(A).some(W=>W!==0)?qo(i,{x:P,y:E,w:p,h:g,radius:A}):i.rect(P,E,p,g),i.fill(),N!==0&&i.stroke()}i.restore()},b=function(j,T,C){wr(i,C.text,j,T+x/2,c,{strikethrough:C.hidden,textAlign:l.textAlign(C.textAlign)})},w=this.isHorizontal(),S=this._computeTitleHeight();w?m={x:ze(r,this.left+u,this.right-n[0]),y:this.top+u+S,line:0}:m={x:this.left+u,y:ze(r,this.top+S+u,this.bottom-s[0].height),line:0},Hb(this.ctx,e.textDirection);const _=x+u;this.legendItems.forEach((j,T)=>{i.strokeStyle=j.fontColor,i.fillStyle=j.fontColor;const C=i.measureText(j.text).width,N=l.textAlign(j.textAlign||(j.textAlign=o.textAlign)),E=p+f+C;let P=m.x,A=m.y;l.setWidth(this.width),w?T>0&&P+E+u>this.right&&(A=m.y+=_,m.line++,P=m.x=ze(r,this.left+u,this.right-n[m.line])):T>0&&A+_>this.bottom&&(P=m.x=P+s[m.line].width+u,m.line++,A=m.y=ze(r,this.top+S+u,this.bottom-s[m.line].height));const W=l.x(P);if(v(W,A,j),P=AI(N,P+p+f,w?P+E:this.right,e.rtl),b(l.x(P),A,j),w)m.x+=E+u;else if(typeof j.text!="string"){const F=c.lineHeight;m.y+=l0(j,F)+u}else m.y+=_}),Wb(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,n=Ke(s.font),i=bt(s.padding);if(!s.display)return;const r=Hn(e.rtl,this.left,this.width),o=this.ctx,a=s.position,l=n.size/2,c=i.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=ze(e.align,h,this.right-f);else{const p=this.columnSizes.reduce((g,x)=>Math.max(g,x.height),0);u=c+ze(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const m=ze(a,h,h+f);o.textAlign=r.textAlign(Yd(a)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=n.string,wr(o,s.text,m,u,n)}_computeTitleHeight(){const e=this.options.title,s=Ke(e.font),n=bt(e.padding);return e.display?s.lineHeight+n.height:0}_getLegendItemAt(e,s){let n,i,r;if(Cs(e,this.left,this.right)&&Cs(s,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],Cs(e,i.left,i.left+i.width)&&Cs(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const s=this.options;if(!VD(e.type,s))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=DD(i,n);i&&!r&&be(s.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!r&&be(s.onHover,[e,n,this],this)}else n&&be(s.onClick,[e,n,this],this)}}function LD(t,e,s,n,i){const r=FD(n,t,e,s),o=$D(i,n,e.lineHeight);return{itemWidth:r,itemHeight:o}}function FD(t,e,s,n){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+s.size/2+n.measureText(i).width}function $D(t,e,s){let n=t;return typeof e.text!="string"&&(n=l0(e,s)),n}function l0(t,e){const s=t.text?t.text.length:0;return e*s}function VD(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var BD={id:"legend",_element:Fm,start(t,e,s){const n=t.legend=new Fm({ctx:t.ctx,options:s,chart:t});gt.configure(t,n,s),gt.addBox(t,n)},stop(t){gt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const n=t.legend;gt.configure(t,n,s),n.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const n=e.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(s?0:void 0),u=bt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class c0 extends as{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const i=Le(n.text)?n.text.length:1;this._padding=bt(n.padding);const r=i*Ke(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:n,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=ze(a,n,r),h=s+e,c=r-n):(o.position==="left"?(u=n+e,h=ze(a,i,s),l=fe*-.5):(u=r-e,h=ze(a,s,i),l=fe*.5),c=i-s),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const n=Ke(s.font),r=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);wr(e,s.text,0,0,n,{color:s.color,maxWidth:l,rotation:c,textAlign:Yd(s.align),textBaseline:"middle",translation:[o,a]})}}function UD(t,e){const s=new c0({ctx:t.ctx,options:e,chart:t});gt.configure(t,s,e),gt.addBox(t,s),t.titleBlock=s}var zD={id:"title",_element:c0,start(t,e,s){UD(t,s)},stop(t){const e=t.titleBlock;gt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const n=t.titleBlock;gt.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const $i={average(t){if(!t.length)return!1;let e,s,n=new Set,i=0,r=0;for(e=0,s=t.length;e<s;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),i+=l.y,++r}}return r===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let s=e.x,n=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Sc(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();s=l.x,n=l.y}return{x:s,y:n}}};function $t(t,e){return e&&(Le(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function es(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function HD(t,e){const{element:s,datasetIndex:n,index:i}=e,r=t.getDatasetMeta(n).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[n].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function $m(t,e){const s=t.chart.ctx,{body:n,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=Ke(e.bodyFont),c=Ke(e.titleFont),u=Ke(e.footerFont),h=r.length,f=i.length,m=n.length,p=bt(e.padding);let g=p.height,x=0,v=n.reduce((S,_)=>S+_.before.length+_.lines.length+_.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){const S=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=m*S+(v-m)*l.lineHeight+(v-1)*e.bodySpacing}f&&(g+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let b=0;const w=function(S){x=Math.max(x,s.measureText(S).width+b)};return s.save(),s.font=c.string,he(t.title,w),s.font=l.string,he(t.beforeBody.concat(t.afterBody),w),b=e.displayColors?o+2+e.boxPadding:0,he(n,S=>{he(S.before,w),he(S.lines,w),he(S.after,w)}),b=0,s.font=u.string,he(t.footer,w),s.restore(),x+=p.width,{width:x,height:g}}function WD(t,e){const{y:s,height:n}=e;return s<n/2?"top":s>t.height-n/2?"bottom":"center"}function GD(t,e,s,n){const{x:i,width:r}=n,o=s.caretSize+s.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function KD(t,e,s,n){const{x:i,width:r}=s,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return n==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),GD(c,t,e,s)&&(c="center"),c}function Vm(t,e,s){const n=s.yAlign||e.yAlign||WD(t,s);return{xAlign:s.xAlign||e.xAlign||KD(t,e,s,n),yAlign:n}}function qD(t,e){let{x:s,width:n}=t;return e==="right"?s-=n:e==="center"&&(s-=n/2),s}function YD(t,e,s){let{y:n,height:i}=t;return e==="top"?n+=s:e==="bottom"?n-=i+s:n-=i/2,n}function Bm(t,e,s,n){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=s,c=i+r,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:m}=zn(o);let p=qD(e,a);const g=YD(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,f)+i:a==="right"&&(p+=Math.max(h,m)+i),{x:Ge(p,0,n.width-e.width),y:Ge(g,0,n.height-e.height)}}function ao(t,e,s){const n=bt(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function Um(t){return $t([],es(t))}function XD(t,e,s){return bn(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function zm(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const d0={beforeTitle:Jt,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return s[e.dataIndex]}return""},afterTitle:Jt,beforeBody:Jt,beforeLabel:Jt,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return ce(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Jt,afterBody:Jt,beforeFooter:Jt,footer:Jt,afterFooter:Jt};function tt(t,e,s,n){const i=t[e].call(s,n);return typeof i>"u"?d0[e].call(s,n):i}class kc extends as{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,r=new Kb(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=XD(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:n}=s,i=tt(n,"beforeTitle",this,e),r=tt(n,"title",this,e),o=tt(n,"afterTitle",this,e);let a=[];return a=$t(a,es(i)),a=$t(a,es(r)),a=$t(a,es(o)),a}getBeforeBody(e,s){return Um(tt(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:n}=s,i=[];return he(e,r=>{const o={before:[],lines:[],after:[]},a=zm(n,r);$t(o.before,es(tt(a,"beforeLabel",this,r))),$t(o.lines,tt(a,"label",this,r)),$t(o.after,es(tt(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,s){return Um(tt(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:n}=s,i=tt(n,"beforeFooter",this,e),r=tt(n,"footer",this,e),o=tt(n,"afterFooter",this,e);let a=[];return a=$t(a,es(i)),a=$t(a,es(r)),a=$t(a,es(o)),a}_createItems(e){const s=this._active,n=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=s.length;l<c;++l)a.push(HD(this.chart,s[l]));return e.filter&&(a=a.filter((u,h,f)=>e.filter(u,h,f,n))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,n))),he(a,u=>{const h=zm(e.callbacks,u);i.push(tt(h,"labelColor",this,u)),r.push(tt(h,"labelPointStyle",this,u)),o.push(tt(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,s){const n=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=$i[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const l=this._size=$m(this,n),c=Object.assign({},a,l),u=Vm(this.chart,n,c),h=Bm(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,n,i){const r=this.getCaretPosition(e,n,i);s.lineTo(r.x1,r.y1),s.lineTo(r.x2,r.y2),s.lineTo(r.x3,r.y3)}getCaretPosition(e,s,n){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=zn(a),{x:f,y:m}=e,{width:p,height:g}=s;let x,v,b,w,S,_;return r==="center"?(S=m+g/2,i==="left"?(x=f,v=x-o,w=S+o,_=S-o):(x=f+p,v=x+o,w=S-o,_=S+o),b=x):(i==="left"?v=f+Math.max(l,u)+o:i==="right"?v=f+p-Math.max(c,h)-o:v=this.caretX,r==="top"?(w=m,S=w-o,x=v-o,b=v+o):(w=m+g,S=w+o,x=v+o,b=v-o),_=w),{x1:x,x2:v,x3:b,y1:w,y2:S,y3:_}}drawTitle(e,s,n){const i=this.title,r=i.length;let o,a,l;if(r){const c=Hn(n.rtl,this.x,this.width);for(e.x=ao(this,n.titleAlign,n),s.textAlign=c.textAlign(n.titleAlign),s.textBaseline="middle",o=Ke(n.titleFont),a=n.titleSpacing,s.fillStyle=n.titleColor,s.font=o.string,l=0;l<r;++l)s.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,s,n,i,r){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=r,u=Ke(r.bodyFont),h=ao(this,"left",r),f=i.x(h),m=l<u.lineHeight?(u.lineHeight-l)/2:0,p=s.y+m;if(r.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=i.leftForLtr(f,c)+c/2,v=p+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Tc(e,g,x,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Tc(e,g,x,v)}else{e.lineWidth=oe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=i.leftForLtr(f,c),x=i.leftForLtr(i.xPlus(f,1),c-2),v=zn(o.borderRadius);Object.values(v).some(b=>b!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,qo(e,{x:g,y:p,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),qo(e,{x,y:p+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(g,p,c,l),e.strokeRect(g,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(x,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,s,n){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=n,h=Ke(n.bodyFont);let f=h.lineHeight,m=0;const p=Hn(n.rtl,this.x,this.width),g=function(C){s.fillText(C,p.x(e.x+m),e.y+f/2),e.y+=f+r},x=p.textAlign(o);let v,b,w,S,_,j,T;for(s.textAlign=o,s.textBaseline="middle",s.font=h.string,e.x=ao(this,x,n),s.fillStyle=n.bodyColor,he(this.beforeBody,g),m=a&&x!=="right"?o==="center"?c/2+u:c+2+u:0,S=0,j=i.length;S<j;++S){for(v=i[S],b=this.labelTextColors[S],s.fillStyle=b,he(v.before,g),w=v.lines,a&&w.length&&(this._drawColorBox(s,e,S,p,n),f=Math.max(h.lineHeight,l)),_=0,T=w.length;_<T;++_)g(w[_]),f=h.lineHeight;he(v.after,g)}m=0,f=h.lineHeight,he(this.afterBody,g),e.y-=r}drawFooter(e,s,n){const i=this.footer,r=i.length;let o,a;if(r){const l=Hn(n.rtl,this.x,this.width);for(e.x=ao(this,n.footerAlign,n),e.y+=n.footerMarginTop,s.textAlign=l.textAlign(n.footerAlign),s.textBaseline="middle",o=Ke(n.footerFont),s.fillStyle=n.footerColor,s.font=o.string,a=0;a<r;++a)s.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,s,n,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=n,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:p}=zn(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(a+h,l),o==="top"&&this.drawCaret(e,s,n,i),s.lineTo(a+c-f,l),s.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(e,s,n,i),s.lineTo(a+c,l+u-p),s.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,s,n,i),s.lineTo(a+m,l+u),s.quadraticCurveTo(a,l+u,a,l+u-m),o==="center"&&r==="left"&&this.drawCaret(e,s,n,i),s.lineTo(a,l+h),s.quadraticCurveTo(a,l,a+h,l),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const o=$i[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=$m(this,e),l=Object.assign({},o,this._size),c=Vm(s,e,l),u=Bm(e,l,c,s);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=bt(s.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,s),Hb(e,s.textDirection),r.y+=o.top,this.drawTitle(r,e,s),this.drawBody(r,e,s),this.drawFooter(r,e,s),Wb(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const n=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Wo(n,i),o=this._positionChanged(i,s);(r||o)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,s,n),a=this._positionChanged(o,e),l=s||!Wo(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),l}_getActiveElements(e,s,n,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return s.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&o.reverse(),o}_positionChanged(e,s){const{caretX:n,caretY:i,options:r}=this,o=$i[r.position].call(this,e,s);return o!==!1&&(n!==o.x||i!==o.y)}}B(kc,"positioners",$i);var JD={id:"tooltip",_element:kc,positioners:$i,afterInit(t,e,s){s&&(t.tooltip=new kc({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:d0},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const QD=(t,e,s,n)=>(typeof e=="string"?(s=t.push(e)-1,n.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function ZD(t,e,s,n){const i=t.indexOf(e);if(i===-1)return QD(t,e,s,n);const r=t.lastIndexOf(e);return i!==r?s:i}const e2=(t,e)=>t===null?null:Ge(Math.round(t),0,e);function Hm(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Pc extends xi{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:r}of s)n[i]===r&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(ce(e))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===e?s:ZD(n,e,ne(s,e),this._addedLabels),e2(s,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,s=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=e===0&&s===r.length-1?r:r.slice(e,s+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=s;o++)i.push({value:o});return i}getLabelForValue(e){return Hm.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}B(Pc,"id","category"),B(Pc,"defaults",{ticks:{callback:Hm}});function t2(t,e){const s=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=t,m=r||1,p=u-1,{min:g,max:x}=e,v=!ce(o),b=!ce(a),w=!ce(c),S=(x-g)/(h+1);let _=Gf((x-g)/p/m)*m,j,T,C,N;if(_<1e-14&&!v&&!b)return[{value:g},{value:x}];N=Math.ceil(x/_)-Math.floor(g/_),N>p&&(_=Gf(N*_/p/m)*m),ce(l)||(j=Math.pow(10,l),_=Math.ceil(_*j)/j),i==="ticks"?(T=Math.floor(g/_)*_,C=Math.ceil(x/_)*_):(T=g,C=x),v&&b&&r&&_I((a-o)/r,_/1e3)?(N=Math.round(Math.min((a-o)/_,u)),_=(a-o)/N,T=o,C=a):w?(T=v?o:T,C=b?a:C,N=c-1,_=(C-T)/N):(N=(C-T)/_,Qi(N,Math.round(N),_/1e3)?N=Math.round(N):N=Math.ceil(N));const E=Math.max(Kf(_),Kf(T));j=Math.pow(10,ce(l)?E:l),T=Math.round(T*j)/j,C=Math.round(C*j)/j;let P=0;for(v&&(f&&T!==o?(s.push({value:o}),T<o&&P++,Qi(Math.round((T+P*_)*j)/j,o,Wm(o,S,t))&&P++):T<o&&P++);P<N;++P){const A=Math.round((T+P*_)*j)/j;if(b&&A>a)break;s.push({value:A})}return b&&f&&C!==a?s.length&&Qi(s[s.length-1].value,a,Wm(a,S,t))?s[s.length-1].value=a:s.push({value:a}):(!b||C===a)&&s.push({value:C}),s}function Wm(t,e,{horizontal:s,minRotation:n}){const i=is(n),r=(s?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class s2 extends xi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return ce(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=s?i:l,a=l=>r=n?r:l;if(e){const l=Kt(i),c=Kt(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(i-l)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},r=this._range||this,o=t2(i,r);return e.bounds==="ticks"&&SI(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-s)/Math.max(e.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(e){return Jd(e,this.chart.options.locale,this.options.ticks.format)}}class Ac extends s2{determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=vt(e)?e:0,this.max=vt(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,n=is(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}B(Ac,"id","linear"),B(Ac,"defaults",{ticks:{callback:Db.formatters.numeric}});const Ea={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},rt=Object.keys(Ea);function Gm(t,e){return t-e}function Km(t,e){if(ce(e))return null;const s=t._adapter,{parser:n,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),vt(o)||(o=typeof n=="string"?s.parse(o,n):s.parse(o)),o===null?null:(i&&(o=i==="week"&&(yr(r)||r===!0)?s.startOf(o,"isoWeek",r):s.startOf(o,i)),+o)}function qm(t,e,s,n){const i=rt.length;for(let r=rt.indexOf(t);r<i-1;++r){const o=Ea[rt[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-e)/(a*o.size))<=n)return rt[r]}return rt[i-1]}function n2(t,e,s,n,i){for(let r=rt.length-1;r>=rt.indexOf(s);r--){const o=rt[r];if(Ea[o].common&&t._adapter.diff(i,n,o)>=e-1)return o}return rt[s?rt.indexOf(s):0]}function i2(t){for(let e=rt.indexOf(t)+1,s=rt.length;e<s;++e)if(Ea[rt[e]].common)return rt[e]}function Ym(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:n,hi:i}=qd(s,e),r=s[n]>=e?s[n]:s[i];t[r]=!0}}function r2(t,e,s,n){const i=t._adapter,r=+i.startOf(e[0].value,n),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,n))l=s[a],l>=0&&(e[l].major=!0);return e}function Xm(t,e,s){const n=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,n.push({value:a,major:!1});return r===0||!s?n:r2(t,n,i,s)}class Qo extends xi{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const n=e.time||(e.time={}),i=this._adapter=new aO._date(e.adapters.date);i.init(s),Ji(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:Km(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,n=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=vt(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),r=vt(r)&&!isNaN(r)?r:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],n=e[e.length-1]),{min:s,max:n}}buildTicks(){const e=this.options,s=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=NI(i,r,o);return this._unit=s.unit||(n.autoSkip?qm(s.minUnit,this.min,this.max,this._getLabelCapacity(r)):n2(this,a.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:i2(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),Xm(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,n=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?s=1-i:s=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?n=r:n=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;s=Ge(s,0,o),n=Ge(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const e=this._adapter,s=this.min,n=this.max,i=this.options,r=i.time,o=r.unit||qm(r.minUnit,s,n,this._getLabelCapacity(s)),a=ne(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=yr(l)||l===!0,u={};let h=s,f,m;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(n,s,o)>1e5*a)throw new Error(s+" and "+n+" are too far apart with stepSize of "+a+" "+o);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,m=0;f<n;f=+e.add(f,a,o),m++)Ym(u,f,p);return(f===n||i.bounds==="ticks"||m===1)&&Ym(u,f,p),Object.keys(u).sort(Gm).map(g=>+g)}getLabelForValue(e){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(e,n.tooltipFormat):s.format(e,n.displayFormats.datetime)}format(e,s){const i=this.options.time.displayFormats,r=this._unit,o=s||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,s,n,i){const r=this.options,o=r.ticks.callback;if(o)return be(o,[e,s,n],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=n[s],m=c&&h&&f&&f.major;return this._adapter.format(e,i||(m?h:u))}generateTickLabels(e){let s,n,i;for(s=0,n=e.length;s<n;++s)i=e[s],i.label=this._tickFormatFunction(i.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,n=this.ctx.measureText(e).width,i=is(this.isHorizontal()?s.maxRotation:s.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*r+a*o,h:n*o+a*r}}_getLabelCapacity(e){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,r=this._tickFormatFunction(e,0,Xm(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],s,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)e=e.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,n;if(e.length)return e;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)e.push(Km(this,i[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Rb(e.sort(Gm))}}B(Qo,"id","time"),B(Qo,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function lo(t,e,s){let n=0,i=t.length-1,r,o,a,l;s?(e>=t[n].pos&&e<=t[i].pos&&({lo:n,hi:i}=en(t,"pos",e)),{pos:r,time:a}=t[n],{pos:o,time:l}=t[i]):(e>=t[n].time&&e<=t[i].time&&({lo:n,hi:i}=en(t,"time",e)),{time:r,pos:a}=t[n],{time:o,pos:l}=t[i]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class Jm extends Qo{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=lo(s,this.min),this._tableRange=lo(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:n}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=s&&c<=n&&i.push(c);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?e=this.normalize(s.concat(n)):e=s.length?s:n,e=this._cache.all=e,e}getDecimalForValue(e){return(lo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return lo(this._table,n*this._tableRange+this._minPos,!0)}}B(Jm,"id","timeseries"),B(Jm,"defaults",Qo.defaults);const u0="label";function Qm(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function o2(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function h0(t,e){t.labels=e}function f0(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u0;const n=[];t.datasets=e.map(i=>{const r=t.datasets.find(o=>o[s]===i[s]);return!r||!i.data||n.includes(r)?{...i}:(n.push(r),Object.assign(r,i),r)})}function a2(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u0;const s={labels:[],datasets:[]};return h0(s,t.labels),f0(s,t.datasets,e),s}function l2(t,e){const{height:s=150,width:n=300,redraw:i=!1,datasetIdKey:r,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...f}=t,m=y.useRef(null),p=y.useRef(null),g=()=>{m.current&&(p.current=new Ca(m.current,{type:o,data:a2(a,r),options:l&&{...l},plugins:c}),Qm(e,p.current))},x=()=>{Qm(e,null),p.current&&(p.current.destroy(),p.current=null)};return y.useEffect(()=>{!i&&p.current&&l&&o2(p.current,l)},[i,l]),y.useEffect(()=>{!i&&p.current&&h0(p.current.config.data,a.labels)},[i,a.labels]),y.useEffect(()=>{!i&&p.current&&a.datasets&&f0(p.current.config.data,a.datasets,r)},[i,a.datasets]),y.useEffect(()=>{p.current&&(i?(x(),setTimeout(g)):p.current.update(h))},[i,l,a.labels,a.datasets,h]),y.useEffect(()=>{p.current&&(x(),setTimeout(g))},[o]),y.useEffect(()=>(g(),()=>x()),[]),I.createElement("canvas",{ref:m,role:"img",height:s,width:n,...f},u)}const c2=y.forwardRef(l2);function au(t,e){return Ca.register(e),y.forwardRef((s,n)=>I.createElement(c2,{...s,ref:n,type:t}))}const d2=au("line",wo),u2=au("bar",bo),h2=au("doughnut",Oi);Ca.register(Pc,Ac,To,Fi,jo,zD,JD,BD,Li);const f2=()=>{const t={labels:["2015","2016","2017","2018","2019","2020","2021","2022","2023"],datasets:[{label:"Global Tourism Revenue (Trillions USD)",data:[1.2,1.3,1.4,1.5,1.6,.7,.9,1.2,1.4],backgroundColor:"rgba(34, 197, 94, 0.8)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:2},{label:"Climate-Related Losses (Billions USD)",data:[15,18,22,28,35,45,38,42,48],backgroundColor:"rgba(239, 68, 68, 0.8)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:2}]},e={labels:["Coral Reefs","Ski Resorts","Coastal Areas","Mountain Regions","Island Nations","Arctic Regions"],datasets:[{label:"Percentage Affected",data:[75,68,82,45,95,88],backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(59, 130, 246, 0.8)","rgba(239, 68, 68, 0.8)","rgba(245, 158, 11, 0.8)","rgba(168, 85, 247, 0.8)","rgba(20, 184, 166, 0.8)"],borderWidth:0}]},s={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"2015 (Pre-Climate Impact)",data:[45,52,68,75,82,95,100,98,88,72,58,48],borderColor:"rgba(34, 197, 94, 1)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.4},{label:"2023 (Current)",data:[38,45,62,70,78,85,88,85,78,65,52,42],borderColor:"rgba(239, 68, 68, 1)",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4}]},n={responsive:!0,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0}}},i={responsive:!0,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Tourist Visits (Index: Peak = 100)"}},x:{title:{display:!0,text:"Month"}}}},r={responsive:!0,plugins:{legend:{position:"bottom"}}},o=[{title:"Tourism Revenue at Risk",value:"$2.4T",description:"Global tourism revenue threatened by climate change by 2030",icon:lw,color:"text-red-500"},{title:"Temperature Increase",value:"+1.1°C",description:"Global average temperature rise since pre-industrial times",icon:Cl,color:"text-orange-500"},{title:"Destinations at Risk",value:"75%",description:"Of world heritage sites threatened by climate change",icon:Tl,color:"text-blue-500"},{title:"Jobs Affected",value:"120M",description:"Tourism jobs at risk due to climate impacts globally",icon:Lc,color:"text-purple-500"}];return d.jsxs("div",{className:"min-h-screen pt-16",children:[d.jsx("section",{className:"py-20 px-6 bg-gradient-hero text-white",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx($.h1,{className:"text-5xl md:text-6xl font-bold mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:"Data & Statistics"}),d.jsx($.p,{className:"text-xl md:text-2xl text-gray-200 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Explore the numbers behind climate change's impact on global tourism through interactive charts and key statistics."})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Key Statistics"}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Understanding the scale of climate change impact on global tourism through data-driven insights."})]}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:o.map((a,l)=>{const c=a.icon;return d.jsx($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:l*.1},children:d.jsx(ee,{className:"text-center shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-gradient-card",children:d.jsxs(se,{className:"p-6",children:[d.jsx(c,{className:`h-12 w-12 mx-auto mb-4 ${a.color}`}),d.jsx("div",{className:"text-3xl font-bold text-foreground mb-2",children:a.value}),d.jsx("h3",{className:"font-semibold text-card-foreground mb-2",children:a.title}),d.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:a.description})]})})},a.title)})})]})}),d.jsx("section",{className:"py-20 px-6 bg-muted/30",children:d.jsxs("div",{className:"max-w-7xl mx-auto space-y-12",children:[d.jsx($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:d.jsxs(ee,{className:"shadow-card-eco border-none bg-card",children:[d.jsxs(we,{children:[d.jsxs(Se,{className:"flex items-center text-2xl",children:[d.jsx(ow,{className:"h-8 w-8 mr-3 text-red-500"}),"Tourism Revenue vs Climate-Related Losses"]}),d.jsx("p",{className:"text-muted-foreground",children:"Global tourism revenue and climate-related losses over time (2015-2023)"})]}),d.jsx(se,{children:d.jsx("div",{className:"h-96",children:d.jsx(u2,{data:t,options:n})})})]})}),d.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[d.jsx($.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:d.jsxs(ee,{className:"h-full shadow-card-eco border-none bg-card",children:[d.jsxs(we,{children:[d.jsxs(Se,{className:"flex items-center text-xl",children:[d.jsx(Tl,{className:"h-6 w-6 mr-2 text-blue-500"}),"Destinations Affected by Climate Change"]}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"Percentage of destination types significantly impacted"})]}),d.jsx(se,{children:d.jsx("div",{className:"h-80",children:d.jsx(h2,{data:e,options:r})})})]})}),d.jsx($.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.4},children:d.jsxs(ee,{className:"h-full shadow-card-eco border-none bg-card",children:[d.jsxs(we,{children:[d.jsxs(Se,{className:"flex items-center text-xl",children:[d.jsx(aw,{className:"h-6 w-6 mr-2 text-green-500"}),"Seasonal Tourism Changes"]}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"Monthly tourist visits comparison: 2015 vs 2023"})]}),d.jsx(se,{children:d.jsx("div",{className:"h-80",children:d.jsx(d2,{data:s,options:i})})})]})})]})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Key Insights"}),d.jsx("p",{className:"text-xl text-muted-foreground",children:"What the data tells us about climate change and tourism"})]}),d.jsxs("div",{className:"space-y-8",children:[d.jsx($.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:d.jsx(ee,{className:"shadow-card-eco border-none bg-gradient-card",children:d.jsxs(se,{className:"p-8",children:[d.jsx("h3",{className:"text-xl font-bold text-card-foreground mb-4",children:"Seasonal Shift Patterns"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"The data shows a clear shift in seasonal tourism patterns, with peak summer months seeing reduced visitation due to extreme heat, while shoulder seasons are becoming more popular. This represents a fundamental change in global travel behavior driven by climate concerns."})]})})}),d.jsx($.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:d.jsx(ee,{className:"shadow-card-eco border-none bg-gradient-card",children:d.jsxs(se,{className:"p-8",children:[d.jsx("h3",{className:"text-xl font-bold text-card-foreground mb-4",children:"Economic Impact Acceleration"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Climate-related losses in tourism are accelerating, growing from $15 billion in 2015 to $48 billion in 2023. This trend indicates that without immediate action, the economic impact will continue to compound, affecting millions of jobs worldwide."})]})})}),d.jsx($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},children:d.jsx(ee,{className:"shadow-card-eco border-none bg-gradient-card",children:d.jsxs(se,{className:"p-8",children:[d.jsx("h3",{className:"text-xl font-bold text-card-foreground mb-4",children:"Destination Vulnerability"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Island nations face the highest risk (95% affected), followed by coastal areas (82%) and coral reefs (75%). These destinations require immediate adaptation strategies and international support to remain viable for future tourism."})]})})})]})]})})]})},m2=()=>{const t=[{title:"Maldives Launches Revolutionary Coral Restoration Program",excerpt:"The Maldives government announces a $50 million initiative to restore coral reefs using innovative 3D printing technology and marine biology.",category:"Conservation",date:"2024-01-15",readTime:"4 min read",image:"🏝️",trending:!0,source:"Environmental Tourism News"},{title:"Alpine Ski Resorts Adapt to Shorter Snow Seasons",excerpt:"European ski destinations invest in artificial snow technology and diversify into summer activities as climate change shortens winter seasons.",category:"Adaptation",date:"2024-01-12",readTime:"6 min read",image:"⛷️",trending:!1,source:"Alpine Tourism Report"},{title:"Costa Rica Achieves Carbon Neutral Tourism Milestone",excerpt:"Costa Rica becomes the first country to achieve carbon-neutral tourism certification, setting a global standard for sustainable travel.",category:"Achievement",date:"2024-01-10",readTime:"5 min read",image:"🌿",trending:!0,source:"Sustainable Travel Today"},{title:"Venice Implements New Climate Adaptation Measures",excerpt:"Venice introduces advanced flood barriers and visitor management systems to protect the historic city from rising sea levels and overtourism.",category:"Adaptation",date:"2024-01-08",readTime:"7 min read",image:"🏛️",trending:!1,source:"Heritage Tourism Quarterly"},{title:"Airlines Commit to 50% Emission Reduction by 2030",excerpt:"Major airline alliance announces ambitious plan to cut emissions through sustainable aviation fuels and electric aircraft development.",category:"Industry",date:"2024-01-05",readTime:"5 min read",image:"✈️",trending:!0,source:"Aviation & Climate"},{title:"Great Barrier Reef Shows Signs of Recovery",excerpt:"Marine biologists report encouraging coral recovery in protected areas of the Great Barrier Reef following intensive conservation efforts.",category:"Conservation",date:"2024-01-03",readTime:"6 min read",image:"🐠",trending:!1,source:"Marine Conservation News"},{title:"Bhutan's Gross National Happiness Tourism Model Goes Global",excerpt:"Multiple countries adopt Bhutan's sustainable tourism philosophy prioritizing visitor well-being and environmental protection over volume.",category:"Policy",date:"2023-12-28",readTime:"8 min read",image:"🏔️",trending:!1,source:"Global Tourism Policy"},{title:"Solar-Powered Safari Lodges Transform African Tourism",excerpt:"Kenya and Tanzania lead the way with solar-powered eco-lodges that provide sustainable luxury while supporting wildlife conservation.",category:"Innovation",date:"2023-12-25",readTime:"5 min read",image:"🦁",trending:!1,source:"Eco Tourism Africa"}],e=[{title:"Iceland's Geothermal Tourism Success Story",description:"How Iceland transformed its renewable energy advantage into a thriving sustainable tourism industry.",impact:"Reduced tourism carbon footprint by 60%",icon:"🔥"},{title:"Norway's Electric Ferry Revolution",description:"Norway's transition to electric ferries for fjord tourism demonstrates large-scale sustainable transport solutions.",impact:"Eliminated 85% of ferry emissions",icon:"⚡"},{title:"New Zealand's Predator-Free Islands Initiative",description:"Innovative conservation tourism that funds ecosystem restoration while providing unique wildlife experiences.",impact:"Protected 15 endemic species",icon:"🦅"}],s=n=>({Conservation:"bg-green-100 text-green-800",Adaptation:"bg-blue-100 text-blue-800",Achievement:"bg-purple-100 text-purple-800",Industry:"bg-orange-100 text-orange-800",Policy:"bg-indigo-100 text-indigo-800",Innovation:"bg-pink-100 text-pink-800"})[n]||"bg-gray-100 text-gray-800";return d.jsxs("div",{className:"min-h-screen pt-16",children:[d.jsx("section",{className:"py-20 px-6 bg-gradient-hero text-white",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx($.h1,{className:"text-5xl md:text-6xl font-bold mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:"News & Articles"}),d.jsx($.p,{className:"text-xl md:text-2xl text-gray-200 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Stay updated with the latest developments in sustainable tourism and climate change adaptation."})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsx($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"mb-12",children:d.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[d.jsx(vu,{className:"h-8 w-8 text-nature-accent"}),d.jsx("h2",{className:"text-4xl font-bold text-foreground",children:"Latest Updates"})]})}),d.jsx("div",{className:"grid lg:grid-cols-3 md:grid-cols-2 gap-8",children:t.map((n,i)=>d.jsx($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:i*.1},whileHover:{y:-5},className:"group",children:d.jsxs(ee,{className:"h-full shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-card group-hover:bg-gradient-card",children:[d.jsxs(we,{className:"relative",children:[n.trending&&d.jsx("div",{className:"absolute top-4 right-4",children:d.jsxs(dn,{className:"bg-nature-accent text-white",children:[d.jsx(vu,{className:"h-3 w-3 mr-1"}),"Trending"]})}),d.jsx("div",{className:"text-4xl mb-4",children:n.image}),d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(dn,{className:s(n.category),children:n.category}),d.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[d.jsx(Fc,{className:"h-3 w-3 mr-1"}),new Date(n.date).toLocaleDateString()]})]}),d.jsx(Se,{className:"text-xl leading-tight group-hover:text-nature-secondary transition-colors",children:n.title})]}),d.jsxs(se,{className:"flex flex-col flex-grow",children:[d.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4 flex-grow",children:n.excerpt}),d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:n.source}),d.jsx("span",{className:"text-muted-foreground",children:n.readTime})]}),d.jsxs(Y,{variant:"ghost",className:"mt-4 p-0 h-auto justify-start text-nature-secondary hover:text-nature-secondary/80",children:["Read more ",d.jsx(cw,{className:"h-4 w-4 ml-2"})]})]})]})},n.title))})]})}),d.jsx("section",{className:"py-20 px-6 bg-muted/30",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Success Stories"}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Real-world examples of how destinations are successfully adapting to climate change while maintaining thriving tourism industries."})]}),d.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:e.map((n,i)=>d.jsx($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:i*.2},children:d.jsx(ee,{className:"h-full shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-card",children:d.jsxs(se,{className:"p-8",children:[d.jsx("div",{className:"text-5xl mb-6 text-center",children:n.icon}),d.jsx("h3",{className:"text-xl font-bold text-card-foreground mb-4",children:n.title}),d.jsx("p",{className:"text-muted-foreground leading-relaxed mb-6",children:n.description}),d.jsxs("div",{className:"p-4 bg-nature-success/10 rounded-lg border border-nature-success/20",children:[d.jsxs("div",{className:"flex items-center text-nature-success font-semibold text-sm",children:[d.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Impact"]}),d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:n.impact})]})]})})},n.title))})]})}),d.jsx("section",{className:"py-20 px-6 bg-primary text-primary-foreground",children:d.jsx("div",{className:"max-w-4xl mx-auto text-center",children:d.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx(dw,{className:"h-16 w-16 mx-auto mb-6 text-nature-accent"}),d.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Stay Informed"}),d.jsx("p",{className:"text-xl text-primary-foreground/90 leading-relaxed mb-8",children:"Get the latest updates on sustainable tourism, climate adaptation, and conservation success stories delivered to your inbox."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center max-w-lg mx-auto",children:[d.jsx("input",{type:"email",placeholder:"Your email address",className:"flex-1 px-4 py-3 rounded-md text-foreground bg-primary-foreground/10 border border-primary-foreground/20 placeholder:text-primary-foreground/60 focus:outline-none focus:ring-2 focus:ring-nature-accent"}),d.jsx(Y,{className:"bg-nature-accent hover:bg-nature-accent/90 text-white px-6",children:"Subscribe"})]})]})})})]})},Na=y.forwardRef(({className:t,...e},s)=>d.jsx("textarea",{className:H("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...e}));Na.displayName="Textarea";const p2=()=>{const[t,e]=y.useState([{id:1,name:"Sarah Chen",location:"Costa Rica",experience:"Stayed at an incredible eco-lodge in Manuel Antonio where 100% of energy came from solar panels. The owners taught us about local wildlife conservation and we even helped plant trees in their reforestation project. The lodge employed local guides and sourced all food from nearby organic farms.",date:"2024-01-10",category:"Eco Lodge",likes:24},{id:2,name:"Michael Rodriguez",location:"Norway",experience:"Took the electric ferry through the fjords - completely silent and emission-free! The experience was magical without the noise of traditional engines. We learned about Norway's renewable energy initiatives and how they're transforming tourism transportation.",date:"2024-01-08",category:"Green Transport",likes:31},{id:3,name:"Emma Thompson",location:"New Zealand",experience:"Participated in a conservation project on Stewart Island removing invasive species. It felt amazing to contribute to protecting native bird species while learning about ecosystem restoration. The tour guides were passionate conservationists.",date:"2024-01-05",category:"Conservation",likes:18},{id:4,name:"David Kim",location:"Bhutan",experience:"Bhutan's high-value, low-impact tourism policy made this trip special. Our guide explained how tourism fees fund education and healthcare for locals. Every aspect was designed to minimize environmental impact while maximizing cultural exchange.",date:"2024-01-03",category:"Sustainable Policy",likes:42}]),[s,n]=y.useState(!1),[i,r]=y.useState({name:"",location:"",experience:"",category:""}),o=["Eco Lodge","Green Transport","Conservation","Local Community","Sustainable Policy","Renewable Energy","Wildlife Protection","Cultural Exchange"],a=u=>{if(u.preventDefault(),i.name&&i.location&&i.experience){const h={id:t.length+1,...i,date:new Date().toISOString().split("T")[0],likes:0};e([h,...t]),r({name:"",location:"",experience:"",category:""}),n(!1)}},l=u=>{e(h=>h.map(f=>f.id===u?{...f,likes:f.likes+1}:f))},c=u=>({"Eco Lodge":"bg-green-100 text-green-800","Green Transport":"bg-blue-100 text-blue-800",Conservation:"bg-purple-100 text-purple-800","Local Community":"bg-orange-100 text-orange-800","Sustainable Policy":"bg-indigo-100 text-indigo-800","Renewable Energy":"bg-yellow-100 text-yellow-800","Wildlife Protection":"bg-pink-100 text-pink-800","Cultural Exchange":"bg-teal-100 text-teal-800"})[u]||"bg-gray-100 text-gray-800";return d.jsxs("div",{className:"min-h-screen pt-16",children:[d.jsx("section",{className:"py-20 px-6 bg-gradient-hero text-white",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx($.h1,{className:"text-5xl md:text-6xl font-bold mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:"Travel Community"}),d.jsx($.p,{className:"text-xl md:text-2xl text-gray-200 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Share your sustainable travel experiences and inspire others to travel responsibly."})]})}),d.jsx("section",{className:"py-12 px-6",children:d.jsx("div",{className:"max-w-4xl mx-auto text-center",children:d.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:d.jsxs(Y,{onClick:()=>n(!s),size:"lg",className:"bg-nature-accent hover:bg-nature-accent/90 text-white shadow-glow",children:[d.jsx(Vi,{className:"mr-2 h-5 w-5"}),"Share Your Experience"]})})})}),s&&d.jsx($.section,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"px-6 pb-12",children:d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs(ee,{className:"shadow-card-eco border-none bg-gradient-card",children:[d.jsx(we,{children:d.jsxs(Se,{className:"flex items-center text-2xl",children:[d.jsx(uw,{className:"mr-3 h-6 w-6 text-nature-accent"}),"Share Your Sustainable Travel Experience"]})}),d.jsx(se,{children:d.jsxs("form",{onSubmit:a,className:"space-y-6",children:[d.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx($e,{htmlFor:"name",children:"Your Name"}),d.jsx(qe,{id:"name",value:i.name,onChange:u=>r(h=>({...h,name:u.target.value})),placeholder:"Enter your name",required:!0})]}),d.jsxs("div",{children:[d.jsx($e,{htmlFor:"location",children:"Destination"}),d.jsx(qe,{id:"location",value:i.location,onChange:u=>r(h=>({...h,location:u.target.value})),placeholder:"Where did you travel?",required:!0})]})]}),d.jsxs("div",{children:[d.jsx($e,{htmlFor:"category",children:"Experience Category"}),d.jsxs("select",{id:"category",value:i.category,onChange:u=>r(h=>({...h,category:u.target.value})),className:"w-full mt-1 px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring",children:[d.jsx("option",{value:"",children:"Select a category"}),o.map(u=>d.jsx("option",{value:u,children:u},u))]})]}),d.jsxs("div",{children:[d.jsx($e,{htmlFor:"experience",children:"Your Experience"}),d.jsx(Na,{id:"experience",value:i.experience,onChange:u=>r(h=>({...h,experience:u.target.value})),placeholder:"Tell us about your sustainable travel experience...",rows:4,required:!0})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx(Y,{type:"submit",className:"bg-nature-success hover:bg-nature-success/90 text-white",children:"Share Experience"}),d.jsx(Y,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"})]})]})})]})})}),d.jsx("section",{className:"py-12 px-6",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Community Experiences"}),d.jsx("p",{className:"text-xl text-muted-foreground",children:"Real stories from sustainable travelers around the world"})]}),d.jsx("div",{className:"space-y-8",children:t.map((u,h)=>d.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:h*.1},whileHover:{y:-2},children:d.jsx(ee,{className:"shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-card",children:d.jsx(se,{className:"p-8",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx(ni,{className:"h-12 w-12",children:d.jsx(ii,{className:"bg-nature-accent text-white",children:u.name.split(" ").map(f=>f[0]).join("")})}),d.jsxs("div",{className:"flex-grow",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("h3",{className:"font-semibold text-card-foreground",children:u.name}),d.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[d.jsx(Oc,{className:"h-4 w-4 mr-1"}),u.location]}),d.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[d.jsx(Fc,{className:"h-4 w-4 mr-1"}),new Date(u.date).toLocaleDateString()]})]}),u.category&&d.jsxs(dn,{className:`mb-3 ${c(u.category)}`,children:[d.jsx(Mt,{className:"h-3 w-3 mr-1"}),u.category]}),d.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:u.experience}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(Y,{variant:"ghost",size:"sm",onClick:()=>l(u.id),className:"text-muted-foreground hover:text-nature-accent",children:[d.jsx(Ep,{className:"h-4 w-4 mr-1"}),u.likes]}),d.jsxs(Y,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-nature-secondary",children:[d.jsx(hw,{className:"h-4 w-4 mr-1"}),"Share"]})]})]})]})})})},u.id))})]})}),d.jsx("section",{className:"py-20 px-6 bg-primary text-primary-foreground",children:d.jsx("div",{className:"max-w-4xl mx-auto text-center",children:d.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx(Lc,{className:"h-16 w-16 mx-auto mb-6 text-nature-accent"}),d.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Join Our Community"}),d.jsx("p",{className:"text-xl text-primary-foreground/90 leading-relaxed mb-8",children:"Connect with like-minded travelers, share your sustainable travel experiences, and inspire others to make responsible choices. Together, we can create a more sustainable future for tourism."}),d.jsxs(Y,{onClick:()=>n(!0),size:"lg",className:"bg-nature-accent hover:bg-nature-accent/90 text-white",children:[d.jsx(Vi,{className:"mr-2 h-5 w-5"}),"Share Your Story"]})]})})})]})},g2=()=>{const[t,e]=y.useState([]),[s,n]=y.useState(null),[i,r]=y.useState(!1),[o,a]=y.useState(""),[l,c]=y.useState(""),[u,h]=y.useState(""),[f,m]=y.useState(""),[p,g]=y.useState([]),[x,v]=y.useState("idle");y.useEffect(()=>{const E=localStorage.getItem("ecotravel_notes");if(E)try{const P=JSON.parse(E);e(P)}catch(P){console.error("Error parsing saved notes:",P)}},[]),y.useEffect(()=>{localStorage.setItem("ecotravel_notes",JSON.stringify(t))},[t]),y.useEffect(()=>{if(i&&s&&(o||l)){const E=setTimeout(()=>{_()},2e3);return()=>clearTimeout(E)}},[o,l,p]);const b=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),w=()=>{const E={id:b(),title:"Untitled Note",content:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),tags:[]};n(E),a(E.title),c(E.content),g(E.tags),r(!0)},S=E=>{n(E),a(E.title),c(E.content),g(E.tags||[]),r(!0)},_=()=>{if(!s)return;v("saving");const E={...s,title:o.trim()||"Untitled Note",content:l,tags:p,updatedAt:new Date().toISOString()},P=t.findIndex(A=>A.id===s.id);if(P>=0){const A=[...t];A[P]=E,e(A)}else e(A=>[E,...A]);n(E),v("saved"),setTimeout(()=>v("idle"),2e3)},j=E=>{e(P=>P.filter(A=>A.id!==E)),(s==null?void 0:s.id)===E&&(n(null),r(!1),a(""),c(""),g([]))},T=()=>{f.trim()&&!p.includes(f.trim())&&(g(E=>[...E,f.trim()]),m(""))},C=E=>{g(P=>P.filter(A=>A!==E))},N=t.filter(E=>E.title.toLowerCase().includes(u.toLowerCase())||E.content.toLowerCase().includes(u.toLowerCase())||E.tags.some(P=>P.toLowerCase().includes(u.toLowerCase())));return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-nature-primary/5 to-nature-accent/5 pt-16 sm:pt-20 px-4 sm:px-6 lg:px-8 safe-area-top",children:d.jsxs("div",{className:"max-w-7xl mx-auto py-4 sm:py-8",children:[d.jsxs("div",{className:"mb-6 sm:mb-8 text-center",children:[d.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-foreground mb-2 sm:mb-4",children:[d.jsx(bu,{className:"inline-block mr-2 sm:mr-3 h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-nature-accent"}),"My Travel Notes"]}),d.jsx("p",{className:"text-muted-foreground text-sm sm:text-base lg:text-lg px-4",children:"Capture your eco-travel thoughts, plans, and experiences"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[d.jsx("div",{className:"lg:col-span-1 space-y-4 order-2 lg:order-1",children:d.jsxs(ee,{children:[d.jsxs(we,{className:"pb-3 p-4 sm:p-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(Se,{className:"text-base sm:text-lg",children:["Notes (",t.length,")"]}),d.jsxs(Y,{onClick:w,size:"sm",className:"touch-target",children:[d.jsx(Vi,{className:"h-4 w-4 mr-1"}),d.jsx("span",{className:"hidden sm:inline",children:"New"})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx(fw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),d.jsx(qe,{placeholder:"Search notes...",value:u,onChange:E=>h(E.target.value),className:"pl-10"})]})]}),d.jsx(se,{className:"p-0",children:d.jsx("div",{className:"max-h-64 sm:max-h-96 overflow-y-auto",children:N.length===0?d.jsx("div",{className:"p-4 sm:p-6 text-center text-muted-foreground",children:t.length===0?d.jsxs(d.Fragment,{children:[d.jsx(bu,{className:"h-8 w-8 sm:h-12 sm:w-12 mx-auto mb-2 sm:mb-3 opacity-30"}),d.jsx("p",{className:"text-sm sm:text-base",children:"No notes yet. Create your first note!"})]}):d.jsx("p",{className:"text-sm sm:text-base",children:"No notes match your search."})}):N.map(E=>d.jsx("div",{className:`p-4 border-b cursor-pointer hover:bg-muted/50 transition-colors group ${(s==null?void 0:s.id)===E.id?"bg-muted":""}`,onClick:()=>S(E),children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-medium truncate",children:E.title}),d.jsxs("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:[E.content.replace(/<[^>]*>/g,"").substring(0,100),"..."]}),d.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[E.tags.slice(0,2).map(P=>d.jsx(dn,{variant:"secondary",className:"text-xs",children:P},P)),E.tags.length>2&&d.jsxs(dn,{variant:"outline",className:"text-xs",children:["+",E.tags.length-2]})]}),d.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(E.updatedAt).toLocaleDateString()})]}),d.jsx(Y,{variant:"ghost",size:"sm",onClick:P=>{P.stopPropagation(),j(E.id)},className:"ml-2 opacity-0 group-hover:opacity-100 hover:bg-destructive hover:text-destructive-foreground",children:d.jsx(mw,{className:"h-4 w-4"})})]})},E.id))})})]})}),d.jsx("div",{className:"lg:col-span-2 order-1 lg:order-2",children:i?d.jsxs(ee,{children:[d.jsxs(we,{className:"p-4 sm:p-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[d.jsx("div",{className:"flex-1",children:d.jsx(qe,{placeholder:"Note title...",value:o,onChange:E=>a(E.target.value),className:"text-base sm:text-lg font-medium border-none p-0 focus-visible:ring-0"})}),d.jsxs("div",{className:"flex items-center gap-2 sm:flex-shrink-0",children:[x==="saving"&&d.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"Saving..."}),x==="saved"&&d.jsx("span",{className:"text-xs sm:text-sm text-green-600",children:"Saved!"}),d.jsxs(Y,{onClick:_,size:"sm",className:"touch-target",children:[d.jsx(Np,{className:"h-4 w-4 mr-1"}),d.jsx("span",{className:"hidden sm:inline",children:"Save"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:p.map(E=>d.jsxs(dn,{variant:"secondary",className:"cursor-pointer text-xs touch-target",onClick:()=>C(E),children:[E," ×"]},E))}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(qe,{placeholder:"Add tag...",value:f,onChange:E=>m(E.target.value),onKeyPress:E=>E.key==="Enter"&&T(),className:"flex-1 text-sm"}),d.jsxs(Y,{onClick:T,size:"sm",variant:"outline",className:"touch-target",children:[d.jsx("span",{className:"hidden sm:inline",children:"Add"}),d.jsx(Vi,{className:"h-4 w-4 sm:hidden"})]})]})]})]}),d.jsx(se,{className:"p-4 sm:p-6",children:d.jsx("div",{className:"min-h-64 sm:min-h-96",children:d.jsx(Na,{value:l,onChange:E=>c(E.target.value),placeholder:"Start writing your note...",className:"notes-textarea min-h-60 sm:min-h-80 w-full border rounded-md p-3 text-sm sm:text-base",rows:15})})})]}):d.jsx(ee,{className:"h-64 sm:h-96 flex items-center justify-center",children:d.jsxs("div",{className:"text-center text-muted-foreground p-4",children:[d.jsx(pw,{className:"h-12 w-12 sm:h-16 sm:w-16 mx-auto mb-3 sm:mb-4 opacity-30"}),d.jsx("h3",{className:"text-lg sm:text-xl font-medium mb-2",children:"Select a note to edit"}),d.jsx("p",{className:"text-sm sm:text-base mb-4",children:"Choose a note from the list or create a new one to get started"}),d.jsxs(Y,{onClick:w,className:"touch-target",children:[d.jsx(Vi,{className:"h-4 w-4 mr-2"}),"Create New Note"]})]})})})]}),d.jsx(ee,{className:"mt-4 sm:mt-6",children:d.jsx(se,{className:"p-4 sm:p-6",children:d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xl sm:text-2xl font-bold text-nature-accent",children:t.length}),d.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total Notes"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:t.reduce((E,P)=>E+P.content.length,0)}),d.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Characters Written"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:[...new Set(t.flatMap(E=>E.tags))].length}),d.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Unique Tags"})]})]})})})]})})},x2=()=>d.jsx(g2,{}),y2=()=>{const{toast:t}=Ap(),[e,s]=y.useState([{id:1,name:"Alex Johnson",email:"alex@example.com",feedback:"This website has been incredibly helpful in planning my sustainable travels. The carbon calculator opened my eyes to the impact of different transportation methods. I've already started choosing trains over flights for shorter distances!",rating:5,date:"2024-01-15",type:"praise"},{id:2,name:"Maria Santos",email:"maria@example.com",feedback:"Love the eco-friendly destinations section! It would be great to have more information about budget-friendly sustainable accommodations. Also, maybe add a section about eco-friendly packing tips?",rating:4,date:"2024-01-12",type:"suggestion"},{id:3,name:"David Chen",email:"david@example.com",feedback:"The data visualization section is fantastic. As someone working in tourism policy, I find the statistics very useful for presentations. Could you add more recent data on renewable energy adoption in tourism?",rating:5,date:"2024-01-10",type:"suggestion"},{id:4,name:"Emma Wilson",email:"emma@example.com",feedback:"Thank you for creating this resource! The sustainable travel tips have completely changed how I plan my trips. I'm now more conscious about my choices and feel good about traveling responsibly.",rating:5,date:"2024-01-08",type:"praise"}]),[n,i]=y.useState({name:"",email:"",feedback:"",rating:0,type:""}),r=c=>{if(c.preventDefault(),n.name&&n.email&&n.feedback){const u={id:e.length+1,...n,date:new Date().toISOString().split("T")[0]};s([u,...e]),i({name:"",email:"",feedback:"",rating:0,type:""}),t({title:"Thank you for your feedback!",description:"Your input helps us improve the platform for everyone."})}},o=(c,u=!1,h)=>d.jsx("div",{className:"flex",children:[1,2,3,4,5].map(f=>d.jsx(jp,{className:`h-5 w-5 ${f<=c?"text-yellow-500 fill-yellow-500":"text-gray-300"} ${u?"cursor-pointer hover:text-yellow-400":""}`,onClick:()=>u&&h&&h(f)},f))}),a=c=>{switch(c){case"praise":return d.jsx(Cp,{className:"h-4 w-4 text-green-500"});case"suggestion":return d.jsx(xw,{className:"h-4 w-4 text-blue-500"});default:return d.jsx(uo,{className:"h-4 w-4 text-gray-500"})}},l=c=>{switch(c){case"praise":return"bg-green-100 text-green-800";case"suggestion":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return d.jsxs("div",{className:"min-h-screen pt-16",children:[d.jsx("section",{className:"py-20 px-6 bg-gradient-hero text-white",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx($.h1,{className:"text-5xl md:text-6xl font-bold mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:"Feedback & Suggestions"}),d.jsx($.p,{className:"text-xl md:text-2xl text-gray-200 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Help us improve by sharing your thoughts, suggestions, and experiences with our platform."})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:d.jsxs(ee,{className:"shadow-card-eco border-none bg-gradient-card",children:[d.jsxs(we,{children:[d.jsxs(Se,{className:"flex items-center text-2xl",children:[d.jsx(uo,{className:"mr-3 h-8 w-8 text-nature-accent"}),"Share Your Feedback"]}),d.jsx("p",{className:"text-muted-foreground",children:"Your input is valuable to us. Please share your thoughts, suggestions, or experiences."})]}),d.jsx(se,{children:d.jsxs("form",{onSubmit:r,className:"space-y-6",children:[d.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs($e,{htmlFor:"name",className:"flex items-center",children:[d.jsx(Co,{className:"h-4 w-4 mr-2"}),"Name"]}),d.jsx(qe,{id:"name",value:n.name,onChange:c=>i(u=>({...u,name:c.target.value})),placeholder:"Your name",required:!0})]}),d.jsxs("div",{children:[d.jsxs($e,{htmlFor:"email",className:"flex items-center",children:[d.jsx(gw,{className:"h-4 w-4 mr-2"}),"Email"]}),d.jsx(qe,{id:"email",type:"email",value:n.email,onChange:c=>i(u=>({...u,email:c.target.value})),placeholder:"your@email.com",required:!0})]})]}),d.jsxs("div",{children:[d.jsx($e,{htmlFor:"type",children:"Feedback Type"}),d.jsxs("select",{id:"type",value:n.type,onChange:c=>i(u=>({...u,type:c.target.value})),className:"w-full mt-1 px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring",children:[d.jsx("option",{value:"",children:"Select feedback type"}),d.jsx("option",{value:"praise",children:"Praise"}),d.jsx("option",{value:"suggestion",children:"Suggestion"}),d.jsx("option",{value:"issue",children:"Issue/Problem"}),d.jsx("option",{value:"feature",children:"Feature Request"}),d.jsx("option",{value:"general",children:"General Feedback"})]})]}),d.jsxs("div",{children:[d.jsx($e,{children:"Rate Your Experience"}),d.jsx("div",{className:"mt-2",children:o(n.rating,!0,c=>i(u=>({...u,rating:c})))})]}),d.jsxs("div",{children:[d.jsx($e,{htmlFor:"feedback",children:"Your Feedback"}),d.jsx(Na,{id:"feedback",value:n.feedback,onChange:c=>i(u=>({...u,feedback:c.target.value})),placeholder:"Please share your thoughts, suggestions, or experiences with our platform...",rows:5,required:!0})]}),d.jsxs(Y,{type:"submit",className:"w-full bg-nature-accent hover:bg-nature-accent/90 text-white",size:"lg",children:[d.jsx(_p,{className:"mr-2 h-5 w-5"}),"Submit Feedback"]})]})})]})})})}),d.jsx("section",{className:"py-20 px-6 bg-muted/30",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Community Feedback"}),d.jsx("p",{className:"text-xl text-muted-foreground",children:"See what others are saying about their experience with our platform"})]}),d.jsx("div",{className:"space-y-6",children:e.map((c,u)=>d.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:u*.1},children:d.jsx(ee,{className:"shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-card",children:d.jsx(se,{className:"p-6",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx(ni,{className:"h-12 w-12",children:d.jsx(ii,{className:"bg-nature-secondary text-white",children:c.name.split(" ").map(h=>h[0]).join("")})}),d.jsxs("div",{className:"flex-grow",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("h3",{className:"font-semibold text-card-foreground",children:c.name}),d.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(c.date).toLocaleDateString()}),c.type&&d.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${l(c.type)}`,children:[a(c.type),d.jsx("span",{className:"ml-1 capitalize",children:c.type})]})]}),c.rating>0&&d.jsx("div",{className:"mb-3",children:o(c.rating)}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:c.feedback})]})]})})})},c.id))})]})}),d.jsx("section",{className:"py-20 px-6 bg-primary text-primary-foreground",children:d.jsx("div",{className:"max-w-4xl mx-auto text-center",children:d.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx(uo,{className:"h-16 w-16 mx-auto mb-6 text-nature-accent"}),d.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Thank You for Your Input"}),d.jsx("p",{className:"text-xl text-primary-foreground/90 leading-relaxed",children:"Your feedback drives our continuous improvement. Every suggestion, comment, and rating helps us create a better platform for sustainable tourism awareness and education."})]})})})]})},v2=async(t,e)=>{console.log("Attempting signup with:",{email:t,password:"***"});const{data:s,error:n}=await It.auth.signUp({email:t,password:e});return console.log("Signup result:",{data:s,error:n}),{user:s.user,error:n}},b2=async(t,e)=>{console.log("Attempting signin with:",{email:t,password:"***"});const{data:s,error:n}=await It.auth.signInWithPassword({email:t,password:e});return console.log("Signin result:",{data:s,error:n}),{user:s.user,session:s.session,error:n}},m0=({onSuccess:t,defaultMode:e="login"})=>{const[s,n]=y.useState(e),[i,r]=y.useState(""),[o,a]=y.useState(""),[l,c]=y.useState(""),[u,h]=y.useState(!1),[f,m]=y.useState(null),[p,g]=y.useState(!1),x=async w=>{w.preventDefault(),h(!0),m(null);try{if(s==="signup"){const{user:S,error:_}=await v2(i,o);if(_)throw _;S&&(m("Please check your email for a confirmation link."),n("login"))}else{const{user:S,error:_}=await b2(i,o);if(_)throw _;S&&(t==null||t())}}catch(S){m(S.message||"An error occurred")}finally{h(!1)}},v=()=>{r(""),a(""),c(""),m(null)},b=()=>{n(s==="login"?"signup":"login"),v()};return d.jsxs(ee,{className:"w-full max-w-md mx-auto",children:[d.jsxs(we,{className:"text-center",children:[d.jsx(Se,{children:s==="login"?"Welcome Back":"Create Account"}),d.jsx(Io,{children:s==="login"?"Sign in to your account to continue":"Join our community for sustainable travel"})]}),d.jsxs(se,{children:[d.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s==="signup"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx($e,{htmlFor:"fullName",children:"Full Name"}),d.jsx(qe,{id:"fullName",type:"text",placeholder:"Enter your full name",value:l,onChange:w=>c(w.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx($e,{htmlFor:"email",children:"Email"}),d.jsx(qe,{id:"email",type:"email",placeholder:"Enter your email",value:i,onChange:w=>r(w.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx($e,{htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(qe,{id:"password",type:p?"text":"password",placeholder:"Enter your password",value:o,onChange:w=>a(w.target.value),required:!0,minLength:6}),d.jsx(Y,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>g(!p),children:p?d.jsx(yw,{className:"h-4 w-4"}):d.jsx(vw,{className:"h-4 w-4"})})]})]}),f&&d.jsx(fr,{variant:f.includes("check your email")?"default":"destructive",children:d.jsx(mr,{children:f})}),d.jsxs(Y,{type:"submit",className:"w-full",disabled:u,children:[u&&d.jsx(tr,{className:"mr-2 h-4 w-4 animate-spin"}),s==="login"?"Sign In":"Create Account"]})]}),d.jsxs("div",{className:"mt-6 text-center",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:s==="login"?"Don't have an account?":"Already have an account?"}),d.jsx(Y,{type:"button",variant:"link",className:"mt-1",onClick:b,children:s==="login"?"Create one here":"Sign in instead"})]})]})]})},w2=()=>{const{user:t,loading:e}=fa();return e?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?d.jsx(Cw,{to:"/",replace:!0}):d.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-nature-primary/10 to-nature-accent/10",children:d.jsx("div",{className:"w-full max-w-md",children:d.jsx(m0,{onSuccess:()=>window.location.href="/"})})})},_2=async()=>{const t=await ha();if(!t)return{data:null,error:new Error("User must be authenticated")};try{const{data:e}=await It.from("carbon_calculations").select("carbon_footprint").eq("user_id",t.id),{data:s}=await It.from("community_experiences").select("id").eq("user_id",t.id),{data:n}=await It.from("feedback").select("id").eq("user_id",t.id),i=(e==null?void 0:e.reduce((l,c)=>l+c.carbon_footprint,0))||0,r=(e==null?void 0:e.length)||0,o=(s==null?void 0:s.length)||0,a=(n==null?void 0:n.length)||0;return{data:{totalFootprint:i,totalCalculations:r,totalExperiences:o,totalFeedback:a},error:null}}catch(e){return{data:null,error:e}}},S2=()=>{const{user:t}=fa(),[e,s]=y.useState(null),[n,i]=y.useState(null),[r,o]=y.useState(""),[a,l]=y.useState(""),[c,u]=y.useState(!0),[h,f]=y.useState(!1),[m,p]=y.useState(null),[g,x]=y.useState(null);y.useEffect(()=>{t&&(v(),b())},[t]);const v=async()=>{var j;try{const{data:T,error:C}=await NC();if(C&&!C.message.includes("No rows"))throw C;T?(s(T),o(T.username||""),l(T.full_name||"")):l(((j=t==null?void 0:t.user_metadata)==null?void 0:j.full_name)||"")}catch(T){p(T.message)}finally{u(!1)}},b=async()=>{try{const{data:j,error:T}=await _2();if(T)throw T;i(j)}catch(j){console.error("Error loading stats:",j.message)}},w=async j=>{j.preventDefault(),f(!0),p(null),x(null);try{const{data:T,error:C}=await EC({username:r.trim()||null,full_name:a.trim()||null});if(C)throw C;s(T),x("Profile updated successfully!"),setTimeout(()=>x(null),3e3)}catch(T){p(T.message)}finally{f(!1)}},S=async()=>{try{await Jg()}catch(j){p(j.message)}};if(c)return d.jsxs("div",{className:"flex items-center justify-center p-8",children:[d.jsx(tr,{className:"h-6 w-6 animate-spin mr-2"}),d.jsx("span",{children:"Loading profile..."})]});const _=(a||(t==null?void 0:t.email)||"U").split(" ").map(j=>j[0]).join("").toUpperCase().slice(0,2);return d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsxs(ee,{children:[d.jsxs(we,{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsxs(ni,{className:"h-20 w-20",children:[d.jsx(Ro,{src:e==null?void 0:e.avatar_url}),d.jsx(ii,{className:"text-lg",children:_})]})}),d.jsx(Se,{children:"Your Profile"}),d.jsx(Io,{children:"Manage your account information and preferences"})]}),d.jsx(se,{children:d.jsxs("form",{onSubmit:w,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx($e,{htmlFor:"email",children:"Email"}),d.jsx(qe,{id:"email",type:"email",value:(t==null?void 0:t.email)||"",disabled:!0,className:"bg-muted"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx($e,{htmlFor:"fullName",children:"Full Name"}),d.jsx(qe,{id:"fullName",type:"text",placeholder:"Enter your full name",value:a,onChange:j=>l(j.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx($e,{htmlFor:"username",children:"Username"}),d.jsx(qe,{id:"username",type:"text",placeholder:"Choose a username",value:r,onChange:j=>o(j.target.value.toLowerCase().replace(/[^a-z0-9_]/g,""))})]}),m&&d.jsx(fr,{variant:"destructive",children:d.jsx(mr,{children:m})}),g&&d.jsx(fr,{children:d.jsx(mr,{children:g})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(Y,{type:"submit",disabled:h,className:"flex-1",children:[h&&d.jsx(tr,{className:"mr-2 h-4 w-4 animate-spin"}),d.jsx(Np,{className:"mr-2 h-4 w-4"}),"Save Profile"]}),d.jsxs(Y,{type:"button",variant:"outline",onClick:S,children:[d.jsx(jl,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]})})]}),n&&d.jsxs(ee,{children:[d.jsxs(we,{children:[d.jsx(Se,{children:"Your Impact"}),d.jsx(Io,{children:"Track your environmental consciousness journey"})]}),d.jsx(se,{children:d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.totalCalculations}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Calculations"})]}),d.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.totalFootprint.toFixed(1)}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"kg CO₂"})]}),d.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-600",children:n.totalExperiences}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Experiences"})]}),d.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted",children:[d.jsx("div",{className:"text-2xl font-bold text-orange-600",children:n.totalFeedback}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Feedback"})]})]})})]})]})},j2=({children:t,fallback:e})=>{const{user:s,loading:n}=fa();return n?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx(ee,{children:d.jsxs(se,{className:"flex items-center justify-center p-6",children:[d.jsx(tr,{className:"h-6 w-6 animate-spin mr-2"}),d.jsx("span",{children:"Loading..."})]})})}):s?d.jsx(d.Fragment,{children:t}):d.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e||d.jsx("div",{className:"w-full max-w-md",children:d.jsx(m0,{})})})},T2=()=>d.jsx(j2,{children:d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-nature-primary/5 to-nature-accent/5 pt-20 px-4",children:d.jsx("div",{className:"max-w-4xl mx-auto py-8",children:d.jsx(S2,{})})})}),C2=()=>{const t=kp();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),d.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},E2=()=>d.jsx("div",{className:"min-h-screen bg-gradient-card pt-16 sm:pt-20 safe-area-top",children:d.jsxs("div",{className:"container-responsive py-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs(Je,{to:"/",className:"inline-flex items-center text-primary hover:text-primary/80 mb-4",children:[d.jsx(bw,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),d.jsx("h1",{className:"text-responsive-4xl font-bold text-foreground mb-4",children:"📱 Responsive Design Test"}),d.jsx("p",{className:"text-responsive-base text-muted-foreground",children:"Testing the improved responsiveness across different screen sizes"})]}),d.jsxs("div",{className:"grid-responsive-1-2-3 gap-6 mb-8",children:[d.jsxs(ee,{children:[d.jsx(we,{children:d.jsxs(Se,{className:"flex items-center gap-2",children:[d.jsx(ww,{className:"h-5 w-5 text-nature-accent"}),"Mobile First"]})}),d.jsx(se,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(st,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Touch-friendly buttons (44px+)"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(st,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Responsive text scaling"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(st,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Safe area support"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(st,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Optimized spacing"})]})]})})]}),d.jsxs(ee,{children:[d.jsx(we,{children:d.jsxs(Se,{className:"flex items-center gap-2",children:[d.jsx(_w,{className:"h-5 w-5 text-nature-accent"}),"Tablet Layout"]})}),d.jsx(se,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(st,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Adaptive grids"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(st,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Flexible navigation"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(st,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Optimized chatbot size"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(st,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Balanced content density"})]})]})})]}),d.jsxs(ee,{children:[d.jsx(we,{children:d.jsxs(Se,{className:"flex items-center gap-2",children:[d.jsx(Sw,{className:"h-5 w-5 text-nature-accent"}),"Desktop Experience"]})}),d.jsx(se,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(st,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Full navigation visible"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(st,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Multi-column layouts"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(st,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Enhanced hover effects"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(st,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Detailed voice instructions"})]})]})})]})]}),d.jsxs(ee,{className:"mb-8",children:[d.jsx(we,{children:d.jsx(Se,{children:"Responsive Typography"})}),d.jsxs(se,{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-responsive-4xl font-bold mb-2",children:"Hero Heading"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"text-responsive-4xl: Scales from text-4xl → text-5xl → text-6xl"})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-responsive-2xl font-semibold mb-2",children:"Section Title"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"text-responsive-2xl: Scales from text-2xl → text-3xl"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-responsive-base mb-2",children:"This is body text that scales responsively for optimal readability."}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"text-responsive-base: Scales from text-base → text-lg"})]})]})]}),d.jsxs(ee,{className:"mb-8",children:[d.jsx(we,{children:d.jsx(Se,{children:"Layout Responsiveness"})}),d.jsx(se,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-3",children:"Responsive Flex Layout"}),d.jsxs("div",{className:"flex-responsive-col gap-4 p-4 bg-muted/50 rounded",children:[d.jsx(Y,{variant:"outline",className:"touch-target",children:"Button 1"}),d.jsx(Y,{variant:"outline",className:"touch-target",children:"Button 2"}),d.jsx(Y,{variant:"outline",className:"touch-target",children:"Button 3"})]}),d.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Stacked on mobile, row on desktop"})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-3",children:"Responsive Grid"}),d.jsxs("div",{className:"grid-responsive-1-3 gap-4",children:[d.jsx("div",{className:"bg-nature-accent/20 p-4 rounded text-center",children:"Item 1"}),d.jsx("div",{className:"bg-nature-accent/20 p-4 rounded text-center",children:"Item 2"}),d.jsx("div",{className:"bg-nature-accent/20 p-4 rounded text-center",children:"Item 3"})]}),d.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"1 column on mobile, 3 columns on large screens"})]})]})})]}),d.jsxs(ee,{children:[d.jsx(we,{children:d.jsx(Se,{children:"✨ New Features Added"})}),d.jsx(se,{children:d.jsxs("div",{className:"grid-responsive-1-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-3 text-nature-accent",children:"🎨 Custom Favicon"}),d.jsxs("ul",{className:"space-y-2 text-responsive-sm",children:[d.jsx("li",{children:"• Modern SVG favicon with eco theme"}),d.jsx("li",{children:"• Apple touch icon for mobile devices"}),d.jsx("li",{children:"• Theme color meta tag"}),d.jsx("li",{children:"• Multiple format support"})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-3 text-nature-accent",children:"📱 Enhanced Mobile UX"}),d.jsxs("ul",{className:"space-y-2 text-responsive-sm",children:[d.jsx("li",{children:"• Touch-friendly button sizing (44px+)"}),d.jsx("li",{children:"• Safe area inset support"}),d.jsx("li",{children:"• Optimized chatbot for mobile"}),d.jsx("li",{children:"• Responsive navigation"})]})]})]})})]})]})}),N2=new tj,k2=()=>d.jsx(nj,{client:N2,children:d.jsx(AS,{children:d.jsxs(AC,{defaultTheme:"system",storageKey:"ecotravel-theme",children:[d.jsx(O_,{}),d.jsx(fS,{}),d.jsx(Ew,{children:d.jsx(kC,{children:d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(eE,{}),d.jsx("main",{className:"flex-grow",children:d.jsxs(Nw,{children:[d.jsx(Ye,{path:"/",element:d.jsx(EA,{})}),d.jsx(Ye,{path:"/about",element:d.jsx(NA,{})}),d.jsx(Ye,{path:"/impact",element:d.jsx(qA,{})}),d.jsx(Ye,{path:"/calculator",element:d.jsx(RR,{})}),d.jsx(Ye,{path:"/destinations",element:d.jsx(MR,{})}),d.jsx(Ye,{path:"/tips",element:d.jsx(UR,{})}),d.jsx(Ye,{path:"/data",element:d.jsx(f2,{})}),d.jsx(Ye,{path:"/news",element:d.jsx(m2,{})}),d.jsx(Ye,{path:"/community",element:d.jsx(p2,{})}),d.jsx(Ye,{path:"/notes",element:d.jsx(x2,{})}),d.jsx(Ye,{path:"/feedback",element:d.jsx(y2,{})}),d.jsx(Ye,{path:"/auth",element:d.jsx(w2,{})}),d.jsx(Ye,{path:"/profile",element:d.jsx(T2,{})}),d.jsx(Ye,{path:"/responsive-test",element:d.jsx(E2,{})}),d.jsx(Ye,{path:"*",element:d.jsx(C2,{})})]})}),d.jsx(tE,{}),d.jsx(qE,{})]})})})]})})});Pp(document.getElementById("root")).render(d.jsx(k2,{}));
