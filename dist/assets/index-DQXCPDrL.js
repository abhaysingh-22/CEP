import{j as d,P as ce,c as Ms,a as _d,u as Ne,B as dS,b as Zn,d as pn,e as Z,f as xt,R as uS,g as Ag,h as mt,i as hS,X as Sd,k as wa,D as Ng,C as Rg,l as fS,A as Ig,m as Mg,S as mS,n as Og,o as pS,p as Dg,q as gS,r as Lg,I as $g,s as Fg,t as Bg,v as ct,w as Vg,x as Ug,L as Wg,y as zg,z as yS,T as xS,E as rl,M as Eh,F as Ut,U as Uo,G as rc,H as bS,J as vS,K as wS,N as _S,Y as SS,O as Td,Q as So,V as ol,W as TS,Z as CS,_ as lr,$ as jS,a0 as al,a1 as Ah,a2 as Nh,a3 as Hg,a4 as Wo,a5 as Cd,a6 as Rh,a7 as oc,a8 as zo,a9 as kS,aa as To,ab as ac,ac as Er,ad as jd,ae as PS,af as kd,ag as ES,ah as AS,ai as NS,aj as RS,ak as IS,al as MS,am as OS,an as DS,ao as qg,ap as LS,aq as $S,ar as FS,as as ll,at as Kg,au as Pd,av as Gg,aw as BS,ax as VS,ay as Yg,az as US,aA as Xg,aB as WS,aC as zS,aD as HS,aE as Ih,aF as qS,aG as KS,aH as Hi,aI as GS,aJ as YS,aK as Mh,aL as XS,aM as JS,aN as Jg,aO as QS,aP as ZS,aQ as eT,aR as tT,aS as sT,aT as nT,aU as iT,aV as rT,aW as oT}from"./ui-Bubw2BRv.js";import{a as aT,b as lT,g as cT,r as dT}from"./vendor-B1sUnLqs.js";import{r as b,a as Ed,R as I,v as uT,u as Qg,L as it,N as hT,B as fT,c as mT,d as st}from"./router-zvDlicaB.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();var zr={},Oh;function pT(){if(Oh)return zr;Oh=1;var t=aT();return zr.createRoot=t.createRoot,zr.hydrateRoot=t.hydrateRoot,zr}var gT=pT();const yT=1,xT=1e6;let cl=0;function bT(){return cl=(cl+1)%Number.MAX_SAFE_INTEGER,cl.toString()}const dl=new Map,Dh=t=>{if(dl.has(t))return;const e=setTimeout(()=>{dl.delete(t),qi({type:"REMOVE_TOAST",toastId:t})},xT);dl.set(t,e)},vT=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,yT)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=e;return s?Dh(s):t.toasts.forEach(n=>{Dh(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===s||s===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)}}},Co=[];let jo={toasts:[]};function qi(t){jo=vT(jo,t),Co.forEach(e=>{e(jo)})}function wT({...t}){const e=bT(),s=i=>qi({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>qi({type:"DISMISS_TOAST",toastId:e});return qi({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:s}}function Zg(){const[t,e]=b.useState(jo);return b.useEffect(()=>(Co.push(e),()=>{const s=Co.indexOf(e);s>-1&&Co.splice(s,1)}),[t]),{...t,toast:wT,dismiss:s=>qi({type:"DISMISS_TOAST",toastId:s})}}var ey=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_T="VisuallyHidden",_a=b.forwardRef((t,e)=>d.jsx(ce.span,{...t,ref:e,style:{...ey,...t.style}}));_a.displayName=_T;var ST=_a,Ad="ToastProvider",[Nd,TT,CT]=_d("Toast"),[ty]=Ms("Toast",[CT]),[jT,Sa]=ty(Ad),sy=t=>{const{__scopeToast:e,label:s="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:r=50,children:o}=t,[a,l]=b.useState(null),[c,u]=b.useState(0),h=b.useRef(!1),f=b.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ad}\`. Expected non-empty \`string\`.`),d.jsx(Nd.Provider,{scope:e,children:d.jsx(jT,{scope:e,label:s,duration:n,swipeDirection:i,swipeThreshold:r,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:b.useCallback(()=>u(m=>m+1),[]),onToastRemove:b.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};sy.displayName=Ad;var ny="ToastViewport",kT=["F8"],lc="toast.viewportPause",cc="toast.viewportResume",iy=b.forwardRef((t,e)=>{const{__scopeToast:s,hotkey:n=kT,label:i="Notifications ({hotkey})",...r}=t,o=Sa(ny,s),a=TT(s),l=b.useRef(null),c=b.useRef(null),u=b.useRef(null),h=b.useRef(null),f=Ne(e,h,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;b.useEffect(()=>{const y=v=>{n.length!==0&&n.every(w=>v[w]||v.code===w)&&h.current?.focus()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),b.useEffect(()=>{const y=l.current,v=h.current;if(g&&y&&v){const x=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(lc);v.dispatchEvent(T),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(cc);v.dispatchEvent(T),o.isClosePausedRef.current=!1}},S=T=>{!y.contains(T.relatedTarget)&&w()},_=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",x),y.addEventListener("focusout",S),y.addEventListener("pointermove",x),y.addEventListener("pointerleave",_),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",x),y.removeEventListener("focusout",S),y.removeEventListener("pointermove",x),y.removeEventListener("pointerleave",_),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[g,o.isClosePausedRef]);const p=b.useCallback(({tabbingDirection:y})=>{const x=a().map(w=>{const S=w.ref.current,_=[S,...BT(S)];return y==="forwards"?_:_.reverse()});return(y==="forwards"?x.reverse():x).flat()},[a]);return b.useEffect(()=>{const y=h.current;if(y){const v=x=>{const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const _=document.activeElement,T=x.shiftKey;if(x.target===y&&T){c.current?.focus();return}const E=p({tabbingDirection:T?"backwards":"forwards"}),k=E.findIndex(A=>A===_);ul(E.slice(k+1))?x.preventDefault():T?c.current?.focus():u.current?.focus()}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[a,p]),d.jsxs(dS,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&d.jsx(dc,{ref:c,onFocusFromOutsideViewport:()=>{const y=p({tabbingDirection:"forwards"});ul(y)}}),d.jsx(Nd.Slot,{scope:s,children:d.jsx(ce.ol,{tabIndex:-1,...r,ref:f})}),g&&d.jsx(dc,{ref:u,onFocusFromOutsideViewport:()=>{const y=p({tabbingDirection:"backwards"});ul(y)}})]})});iy.displayName=ny;var ry="ToastFocusProxy",dc=b.forwardRef((t,e)=>{const{__scopeToast:s,onFocusFromOutsideViewport:n,...i}=t,r=Sa(ry,s);return d.jsx(_a,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{const a=o.relatedTarget;!r.viewport?.contains(a)&&n()}})});dc.displayName=ry;var Ar="Toast",PT="toast.swipeStart",ET="toast.swipeMove",AT="toast.swipeCancel",NT="toast.swipeEnd",oy=b.forwardRef((t,e)=>{const{forceMount:s,open:n,defaultOpen:i,onOpenChange:r,...o}=t,[a,l]=Zn({prop:n,defaultProp:i??!0,onChange:r,caller:Ar});return d.jsx(pn,{present:s||a,children:d.jsx(MT,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:xt(t.onPause),onResume:xt(t.onResume),onSwipeStart:Z(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Z(t.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Z(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Z(t.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});oy.displayName=Ar;var[RT,IT]=ty(Ar,{onClose(){}}),MT=b.forwardRef((t,e)=>{const{__scopeToast:s,type:n="foreground",duration:i,open:r,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...g}=t,p=Sa(Ar,s),[y,v]=b.useState(null),x=Ne(e,F=>v(F)),w=b.useRef(null),S=b.useRef(null),_=i||p.duration,T=b.useRef(0),C=b.useRef(_),j=b.useRef(0),{onToastAdd:E,onToastRemove:k}=p,A=xt(()=>{y?.contains(document.activeElement)&&p.viewport?.focus(),o()}),N=b.useCallback(F=>{!F||F===1/0||(window.clearTimeout(j.current),T.current=new Date().getTime(),j.current=window.setTimeout(A,F))},[A]);b.useEffect(()=>{const F=p.viewport;if(F){const M=()=>{N(C.current),c?.()},D=()=>{const $=new Date().getTime()-T.current;C.current=C.current-$,window.clearTimeout(j.current),l?.()};return F.addEventListener(lc,D),F.addEventListener(cc,M),()=>{F.removeEventListener(lc,D),F.removeEventListener(cc,M)}}},[p.viewport,_,l,c,N]),b.useEffect(()=>{r&&!p.isClosePausedRef.current&&N(_)},[r,_,p.isClosePausedRef,N]),b.useEffect(()=>(E(),()=>k()),[E,k]);const G=b.useMemo(()=>y?fy(y):null,[y]);return p.viewport?d.jsxs(d.Fragment,{children:[G&&d.jsx(OT,{__scopeToast:s,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:G}),d.jsx(RT,{scope:s,onClose:A,children:Ed.createPortal(d.jsx(Nd.ItemSlot,{scope:s,children:d.jsx(uS,{asChild:!0,onEscapeKeyDown:Z(a,()=>{p.isFocusedToastEscapeKeyDownRef.current||A(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(ce.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":r?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Z(t.onKeyDown,F=>{F.key==="Escape"&&(a?.(F.nativeEvent),F.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:Z(t.onPointerDown,F=>{F.button===0&&(w.current={x:F.clientX,y:F.clientY})}),onPointerMove:Z(t.onPointerMove,F=>{if(!w.current)return;const M=F.clientX-w.current.x,D=F.clientY-w.current.y,$=!!S.current,L=["left","right"].includes(p.swipeDirection),R=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,ne=L?R(0,M):0,he=L?0:R(0,D),Q=F.pointerType==="touch"?10:2,ie={x:ne,y:he},ee={originalEvent:F,delta:ie};$?(S.current=ie,Hr(ET,h,ee,{discrete:!1})):Lh(ie,p.swipeDirection,Q)?(S.current=ie,Hr(PT,u,ee,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(M)>Q||Math.abs(D)>Q)&&(w.current=null)}),onPointerUp:Z(t.onPointerUp,F=>{const M=S.current,D=F.target;if(D.hasPointerCapture(F.pointerId)&&D.releasePointerCapture(F.pointerId),S.current=null,w.current=null,M){const $=F.currentTarget,L={originalEvent:F,delta:M};Lh(M,p.swipeDirection,p.swipeThreshold)?Hr(NT,m,L,{discrete:!0}):Hr(AT,f,L,{discrete:!0}),$.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),OT=t=>{const{__scopeToast:e,children:s,...n}=t,i=Sa(Ar,e),[r,o]=b.useState(!1),[a,l]=b.useState(!1);return $T(()=>o(!0)),b.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(Ag,{asChild:!0,children:d.jsx(_a,{...n,children:r&&d.jsxs(d.Fragment,{children:[i.label," ",s]})})})},DT="ToastTitle",ay=b.forwardRef((t,e)=>{const{__scopeToast:s,...n}=t;return d.jsx(ce.div,{...n,ref:e})});ay.displayName=DT;var LT="ToastDescription",ly=b.forwardRef((t,e)=>{const{__scopeToast:s,...n}=t;return d.jsx(ce.div,{...n,ref:e})});ly.displayName=LT;var cy="ToastAction",dy=b.forwardRef((t,e)=>{const{altText:s,...n}=t;return s.trim()?d.jsx(hy,{altText:s,asChild:!0,children:d.jsx(Rd,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${cy}\`. Expected non-empty \`string\`.`),null)});dy.displayName=cy;var uy="ToastClose",Rd=b.forwardRef((t,e)=>{const{__scopeToast:s,...n}=t,i=IT(uy,s);return d.jsx(hy,{asChild:!0,children:d.jsx(ce.button,{type:"button",...n,ref:e,onClick:Z(t.onClick,i.onClose)})})});Rd.displayName=uy;var hy=b.forwardRef((t,e)=>{const{__scopeToast:s,altText:n,...i}=t;return d.jsx(ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function fy(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),FT(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",r=n.dataset.radixToastAnnounceExclude==="";if(!i)if(r){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...fy(n))}}),e}function Hr(t,e,s,{discrete:n}){const i=s.originalEvent.currentTarget,r=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:s});e&&i.addEventListener(t,e,{once:!0}),n?hS(i,r):i.dispatchEvent(r)}var Lh=(t,e,s=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),r=n>i;return e==="left"||e==="right"?r&&n>s:!r&&i>s};function $T(t=()=>{}){const e=xt(t);mt(()=>{let s=0,n=0;return s=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(n)}},[e])}function FT(t){return t.nodeType===t.ELEMENT_NODE}function BT(t){const e=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function ul(t){const e=document.activeElement;return t.some(s=>s===e?!0:(s.focus(),document.activeElement!==e))}var VT=sy,my=iy,py=oy,gy=ay,yy=ly,xy=dy,by=Rd;function vy(t){var e,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(s=vy(t[e]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function wy(){for(var t,e,s=0,n="",i=arguments.length;s<i;s++)(t=arguments[s])&&(e=vy(t))&&(n&&(n+=" "),n+=e);return n}const $h=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Fh=wy,Nr=(t,e)=>s=>{var n;if(e?.variants==null)return Fh(t,s?.class,s?.className);const{variants:i,defaultVariants:r}=e,o=Object.keys(i).map(c=>{const u=s?.[c],h=r?.[c];if(u===null)return null;const f=$h(u)||$h(h);return i[c][f]}),a=s&&Object.entries(s).reduce((c,u)=>{let[h,f]=u;return f===void 0||(c[h]=f),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:h,className:f,...m}=u;return Object.entries(m).every(g=>{let[p,y]=g;return Array.isArray(y)?y.includes({...r,...a}[p]):{...r,...a}[p]===y})?[...c,h,f]:c},[]);return Fh(t,o,l,s?.class,s?.className)},Id="-",UT=t=>{const e=zT(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const a=o.split(Id);return a[0]===""&&a.length!==1&&a.shift(),_y(a,e)||WT(o)},getConflictingClassGroupIds:(o,a)=>{const l=s[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},_y=(t,e)=>{if(t.length===0)return e.classGroupId;const s=t[0],n=e.nextPart.get(s),i=n?_y(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(Id);return e.validators.find(({validator:o})=>o(r))?.classGroupId},Bh=/^\[(.+)\]$/,WT=t=>{if(Bh.test(t)){const e=Bh.exec(t)[1],s=e?.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},zT=t=>{const{theme:e,prefix:s}=t,n={nextPart:new Map,validators:[]};return qT(Object.entries(t.classGroups),s).forEach(([r,o])=>{uc(o,n,r,e)}),n},uc=(t,e,s,n)=>{t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Vh(e,i);r.classGroupId=s;return}if(typeof i=="function"){if(HT(i)){uc(i(n),e,s,n);return}e.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([r,o])=>{uc(o,Vh(e,r),s,n)})})},Vh=(t,e)=>{let s=t;return e.split(Id).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},HT=t=>t.isThemeGetter,qT=(t,e)=>e?t.map(([s,n])=>{const i=n.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([o,a])=>[e+o,a])):r);return[s,i]}):t,KT=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,n=new Map;const i=(r,o)=>{s.set(r,o),e++,e>t&&(e=0,n=s,s=new Map)};return{get(r){let o=s.get(r);if(o!==void 0)return o;if((o=n.get(r))!==void 0)return i(r,o),o},set(r,o){s.has(r)?s.set(r,o):i(r,o)}}},Sy="!",GT=t=>{const{separator:e,experimentalParseClassName:s}=t,n=e.length===1,i=e[0],r=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let y=0;y<a.length;y++){let v=a[y];if(c===0){if(v===i&&(n||a.slice(y,y+r)===e)){l.push(a.slice(u,y)),u=y+r;continue}if(v==="/"){h=y;continue}}v==="["?c++:v==="]"&&c--}const f=l.length===0?a:a.substring(u),m=f.startsWith(Sy),g=m?f.substring(1):f,p=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return s?a=>s({className:a,parseClassName:o}):o},YT=t=>{if(t.length<=1)return t;const e=[];let s=[];return t.forEach(n=>{n[0]==="["?(e.push(...s.sort(),n),s=[]):s.push(n)}),e.push(...s.sort()),e},XT=t=>({cache:KT(t.cacheSize),parseClassName:GT(t),...UT(t)}),JT=/\s+/,QT=(t,e)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:i}=e,r=[],o=t.trim().split(JT);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=s(c);let g=!!m,p=n(g?f.substring(0,m):f);if(!p){if(!g){a=c+(a.length>0?" "+a:a);continue}if(p=n(f),!p){a=c+(a.length>0?" "+a:a);continue}g=!1}const y=YT(u).join(":"),v=h?y+Sy:y,x=v+p;if(r.includes(x))continue;r.push(x);const w=i(p,g);for(let S=0;S<w.length;++S){const _=w[S];r.push(v+_)}a=c+(a.length>0?" "+a:a)}return a};function ZT(){let t=0,e,s,n="";for(;t<arguments.length;)(e=arguments[t++])&&(s=Ty(e))&&(n&&(n+=" "),n+=s);return n}const Ty=t=>{if(typeof t=="string")return t;let e,s="";for(let n=0;n<t.length;n++)t[n]&&(e=Ty(t[n]))&&(s&&(s+=" "),s+=e);return s};function eC(t,...e){let s,n,i,r=o;function o(l){const c=e.reduce((u,h)=>h(u),t());return s=XT(c),n=s.cache.get,i=s.cache.set,r=a,a(l)}function a(l){const c=n(l);if(c)return c;const u=QT(l,s);return i(l,u),u}return function(){return r(ZT.apply(null,arguments))}}const ve=t=>{const e=s=>s[t]||[];return e.isThemeGetter=!0,e},Cy=/^\[(?:([a-z-]+):)?(.+)\]$/i,tC=/^\d+\/\d+$/,sC=new Set(["px","full","screen"]),nC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,oC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,is=t=>Gn(t)||sC.has(t)||tC.test(t),bs=t=>ci(t,"length",pC),Gn=t=>!!t&&!Number.isNaN(Number(t)),hl=t=>ci(t,"number",Gn),vi=t=>!!t&&Number.isInteger(Number(t)),lC=t=>t.endsWith("%")&&Gn(t.slice(0,-1)),te=t=>Cy.test(t),vs=t=>nC.test(t),cC=new Set(["length","size","percentage"]),dC=t=>ci(t,cC,jy),uC=t=>ci(t,"position",jy),hC=new Set(["image","url"]),fC=t=>ci(t,hC,yC),mC=t=>ci(t,"",gC),wi=()=>!0,ci=(t,e,s)=>{const n=Cy.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):s(n[2]):!1},pC=t=>iC.test(t)&&!rC.test(t),jy=()=>!1,gC=t=>oC.test(t),yC=t=>aC.test(t),xC=()=>{const t=ve("colors"),e=ve("spacing"),s=ve("blur"),n=ve("brightness"),i=ve("borderColor"),r=ve("borderRadius"),o=ve("borderSpacing"),a=ve("borderWidth"),l=ve("contrast"),c=ve("grayscale"),u=ve("hueRotate"),h=ve("invert"),f=ve("gap"),m=ve("gradientColorStops"),g=ve("gradientColorStopPositions"),p=ve("inset"),y=ve("margin"),v=ve("opacity"),x=ve("padding"),w=ve("saturate"),S=ve("scale"),_=ve("sepia"),T=ve("skew"),C=ve("space"),j=ve("translate"),E=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",te,e],N=()=>[te,e],G=()=>["",is,bs],F=()=>["auto",Gn,te],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",te],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],he=()=>[Gn,te];return{cacheSize:500,separator:":",theme:{colors:[wi],spacing:[is,bs],blur:["none","",vs,te],brightness:he(),borderColor:[t],borderRadius:["none","","full",vs,te],borderSpacing:N(),borderWidth:G(),contrast:he(),grayscale:R(),hueRotate:he(),invert:R(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[lC,bs],inset:A(),margin:A(),opacity:he(),padding:N(),saturate:he(),scale:he(),sepia:R(),skew:he(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",te]}],container:["container"],columns:[{columns:[vs]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),te]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vi,te]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",te]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",vi,te]}],"grid-cols":[{"grid-cols":[wi]}],"col-start-end":[{col:["auto",{span:["full",vi,te]},te]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[wi]}],"row-start-end":[{row:["auto",{span:[vi,te]},te]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",te]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",te,e]}],"min-w":[{"min-w":[te,e,"min","max","fit"]}],"max-w":[{"max-w":[te,e,"none","full","min","max","fit","prose",{screen:[vs]},vs]}],h:[{h:[te,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[te,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[te,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[te,e,"auto","min","max","fit"]}],"font-size":[{text:["base",vs,bs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hl]}],"font-family":[{font:[wi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",te]}],"line-clamp":[{"line-clamp":["none",Gn,hl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",is,te]}],"list-image":[{"list-image":["none",te]}],"list-style-type":[{list:["none","disc","decimal",te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",is,bs]}],"underline-offset":[{"underline-offset":["auto",is,te]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),uC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fC]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:D()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[is,te]}],"outline-w":[{outline:[is,bs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[is,bs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",vs,mC]}],"shadow-color":[{shadow:[wi]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",vs,te]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",te]}],duration:[{duration:he()}],ease:[{ease:["linear","in","out","in-out",te]}],delay:[{delay:he()}],animate:[{animate:["none","spin","ping","pulse","bounce",te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[vi,te]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",te]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",te]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",te]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[is,bs,hl]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},bC=eC(xC);function K(...t){return bC(wy(t))}const vC=VT,ky=b.forwardRef(({className:t,...e},s)=>d.jsx(my,{ref:s,className:K("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));ky.displayName=my.displayName;const wC=Nr("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Py=b.forwardRef(({className:t,variant:e,...s},n)=>d.jsx(py,{ref:n,className:K(wC({variant:e}),t),...s}));Py.displayName=py.displayName;const _C=b.forwardRef(({className:t,...e},s)=>d.jsx(xy,{ref:s,className:K("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));_C.displayName=xy.displayName;const Ey=b.forwardRef(({className:t,...e},s)=>d.jsx(by,{ref:s,className:K("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(Sd,{className:"h-4 w-4"})}));Ey.displayName=by.displayName;const Ay=b.forwardRef(({className:t,...e},s)=>d.jsx(gy,{ref:s,className:K("text-sm font-semibold",t),...e}));Ay.displayName=gy.displayName;const Ny=b.forwardRef(({className:t,...e},s)=>d.jsx(yy,{ref:s,className:K("text-sm opacity-90",t),...e}));Ny.displayName=yy.displayName;function SC(){const{toasts:t}=Zg();return d.jsxs(vC,{children:[t.map(function({id:e,title:s,description:n,action:i,...r}){return d.jsxs(Py,{...r,children:[d.jsxs("div",{className:"grid gap-1",children:[s&&d.jsx(Ay,{children:s}),n&&d.jsx(Ny,{children:n})]}),i,d.jsx(Ey,{})]},e)}),d.jsx(ky,{})]})}var Uh=["light","dark"],TC="(prefers-color-scheme: dark)",CC=b.createContext(void 0),jC={setTheme:t=>{},themes:[]},kC=()=>{var t;return(t=b.useContext(CC))!=null?t:jC};b.memo(({forcedTheme:t,storageKey:e,attribute:s,enableSystem:n,enableColorScheme:i,defaultTheme:r,value:o,attrs:a,nonce:l})=>{let c=r==="system",u=s==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${s}',s='setAttribute';`,h=i?Uh.includes(r)&&r?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${r}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,p=!1,y=!0)=>{let v=o?o[g]:g,x=p?g+"|| ''":`'${v}'`,w="";return i&&y&&!p&&Uh.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),s==="class"?p||v?w+=`c.add(${x})`:w+="null":v&&(w+=`d[s](n,${x})`),w},m=t?`!function(){${u}${f(t)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${TC}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(r,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(r,!1,!1)};}${h}}catch(t){}}();`;return b.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var PC=t=>{switch(t){case"success":return NC;case"info":return IC;case"warning":return RC;case"error":return MC;default:return null}},EC=Array(12).fill(0),AC=({visible:t,className:e})=>I.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},I.createElement("div",{className:"sonner-spinner"},EC.map((s,n)=>I.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),NC=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),RC=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),IC=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),MC=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),OC=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},I.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),DC=()=>{let[t,e]=I.useState(document.hidden);return I.useEffect(()=>{let s=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),t},hc=1,LC=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:s,...n}=t,i=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:hc++,r=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),r?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:s}),{...a,...t,id:i,dismissible:o,title:s}):a):this.addToast({title:s,...n,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(s=>s({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let s;e.loading!==void 0&&(s=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=s!==void 0,r,o=n.then(async l=>{if(r=["resolve",l],I.isValidElement(l))i=!1,this.create({id:s,type:"default",message:l});else if(FC(l)&&!l.ok){i=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:s,type:"error",message:c,description:u})}else if(e.success!==void 0){i=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:s,type:"success",message:c,description:u})}}).catch(async l=>{if(r=["reject",l],e.error!==void 0){i=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:s,type:"error",message:c,description:u})}}).finally(()=>{var l;i&&(this.dismiss(s),s=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>r[0]==="reject"?c(r[1]):l(r[1])).catch(c));return typeof s!="string"&&typeof s!="number"?{unwrap:a}:Object.assign(s,{unwrap:a})},this.custom=(t,e)=>{let s=e?.id||hc++;return this.create({jsx:t(s),id:s,...e}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},dt=new LC,$C=(t,e)=>{let s=e?.id||hc++;return dt.addToast({title:t,...e,id:s}),s},FC=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",BC=$C,VC=()=>dt.toasts,UC=()=>dt.getActiveToasts();Object.assign(BC,{success:dt.success,info:dt.info,warning:dt.warning,error:dt.error,custom:dt.custom,message:dt.message,promise:dt.promise,dismiss:dt.dismiss,loading:dt.loading},{getHistory:VC,getToasts:UC});function WC(t,{insertAt:e}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&s.firstChild?s.insertBefore(n,s.firstChild):s.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}WC(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function qr(t){return t.label!==void 0}var zC=3,HC="32px",qC="16px",Wh=4e3,KC=356,GC=14,YC=20,XC=200;function Mt(...t){return t.filter(Boolean).join(" ")}function JC(t){let[e,s]=t.split("-"),n=[];return e&&n.push(e),s&&n.push(s),n}var QC=t=>{var e,s,n,i,r,o,a,l,c,u,h;let{invert:f,toast:m,unstyled:g,interacting:p,setHeights:y,visibleToasts:v,heights:x,index:w,toasts:S,expanded:_,removeToast:T,defaultRichColors:C,closeButton:j,style:E,cancelButtonStyle:k,actionButtonStyle:A,className:N="",descriptionClassName:G="",duration:F,position:M,gap:D,loadingIcon:$,expandByDefault:L,classNames:R,icons:ne,closeButtonAriaLabel:he="Close toast",pauseWhenPageIsHidden:Q}=t,[ie,ee]=I.useState(null),[be,Me]=I.useState(null),[V,je]=I.useState(!1),[$e,pe]=I.useState(!1),[ge,Pe]=I.useState(!1),[zt,ns]=I.useState(!1),[yi,xn]=I.useState(!1),[xi,sl]=I.useState(0),[eS,Sh]=I.useState(0),bi=I.useRef(m.duration||F||Wh),Th=I.useRef(null),Fs=I.useRef(null),tS=w===0,sS=w+1<=v,bt=m.type,bn=m.dismissible!==!1,nS=m.className||"",iS=m.descriptionClassName||"",Wr=I.useMemo(()=>x.findIndex(Y=>Y.toastId===m.id)||0,[x,m.id]),rS=I.useMemo(()=>{var Y;return(Y=m.closeButton)!=null?Y:j},[m.closeButton,j]),Ch=I.useMemo(()=>m.duration||F||Wh,[m.duration,F]),nl=I.useRef(0),vn=I.useRef(0),jh=I.useRef(0),wn=I.useRef(null),[oS,aS]=M.split("-"),kh=I.useMemo(()=>x.reduce((Y,ye,Se)=>Se>=Wr?Y:Y+ye.height,0),[x,Wr]),Ph=DC(),lS=m.invert||f,il=bt==="loading";vn.current=I.useMemo(()=>Wr*D+kh,[Wr,kh]),I.useEffect(()=>{bi.current=Ch},[Ch]),I.useEffect(()=>{je(!0)},[]),I.useEffect(()=>{let Y=Fs.current;if(Y){let ye=Y.getBoundingClientRect().height;return Sh(ye),y(Se=>[{toastId:m.id,height:ye,position:m.position},...Se]),()=>y(Se=>Se.filter(Nt=>Nt.toastId!==m.id))}},[y,m.id]),I.useLayoutEffect(()=>{if(!V)return;let Y=Fs.current,ye=Y.style.height;Y.style.height="auto";let Se=Y.getBoundingClientRect().height;Y.style.height=ye,Sh(Se),y(Nt=>Nt.find(Rt=>Rt.toastId===m.id)?Nt.map(Rt=>Rt.toastId===m.id?{...Rt,height:Se}:Rt):[{toastId:m.id,height:Se,position:m.position},...Nt])},[V,m.title,m.description,y,m.id]);let gs=I.useCallback(()=>{pe(!0),sl(vn.current),y(Y=>Y.filter(ye=>ye.toastId!==m.id)),setTimeout(()=>{T(m)},XC)},[m,T,y,vn]);I.useEffect(()=>{if(m.promise&&bt==="loading"||m.duration===1/0||m.type==="loading")return;let Y;return _||p||Q&&Ph?(()=>{if(jh.current<nl.current){let ye=new Date().getTime()-nl.current;bi.current=bi.current-ye}jh.current=new Date().getTime()})():bi.current!==1/0&&(nl.current=new Date().getTime(),Y=setTimeout(()=>{var ye;(ye=m.onAutoClose)==null||ye.call(m,m),gs()},bi.current)),()=>clearTimeout(Y)},[_,p,m,bt,Q,Ph,gs]),I.useEffect(()=>{m.delete&&gs()},[gs,m.delete]);function cS(){var Y,ye,Se;return ne!=null&&ne.loading?I.createElement("div",{className:Mt(R?.loader,(Y=m?.classNames)==null?void 0:Y.loader,"sonner-loader"),"data-visible":bt==="loading"},ne.loading):$?I.createElement("div",{className:Mt(R?.loader,(ye=m?.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":bt==="loading"},$):I.createElement(AC,{className:Mt(R?.loader,(Se=m?.classNames)==null?void 0:Se.loader),visible:bt==="loading"})}return I.createElement("li",{tabIndex:0,ref:Fs,className:Mt(N,nS,R?.toast,(e=m?.classNames)==null?void 0:e.toast,R?.default,R?.[bt],(s=m?.classNames)==null?void 0:s[bt]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:C,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":V,"data-promise":!!m.promise,"data-swiped":yi,"data-removed":$e,"data-visible":sS,"data-y-position":oS,"data-x-position":aS,"data-index":w,"data-front":tS,"data-swiping":ge,"data-dismissible":bn,"data-type":bt,"data-invert":lS,"data-swipe-out":zt,"data-swipe-direction":be,"data-expanded":!!(_||L&&V),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${$e?xi:vn.current}px`,"--initial-height":L?"auto":`${eS}px`,...E,...m.style},onDragEnd:()=>{Pe(!1),ee(null),wn.current=null},onPointerDown:Y=>{il||!bn||(Th.current=new Date,sl(vn.current),Y.target.setPointerCapture(Y.pointerId),Y.target.tagName!=="BUTTON"&&(Pe(!0),wn.current={x:Y.clientX,y:Y.clientY}))},onPointerUp:()=>{var Y,ye,Se,Nt;if(zt||!bn)return;wn.current=null;let Rt=Number(((Y=Fs.current)==null?void 0:Y.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ys=Number(((ye=Fs.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Bs=new Date().getTime()-((Se=Th.current)==null?void 0:Se.getTime()),It=ie==="x"?Rt:ys,xs=Math.abs(It)/Bs;if(Math.abs(It)>=YC||xs>.11){sl(vn.current),(Nt=m.onDismiss)==null||Nt.call(m,m),Me(ie==="x"?Rt>0?"right":"left":ys>0?"down":"up"),gs(),ns(!0),xn(!1);return}Pe(!1),ee(null)},onPointerMove:Y=>{var ye,Se,Nt,Rt;if(!wn.current||!bn||((ye=window.getSelection())==null?void 0:ye.toString().length)>0)return;let ys=Y.clientY-wn.current.y,Bs=Y.clientX-wn.current.x,It=(Se=t.swipeDirections)!=null?Se:JC(M);!ie&&(Math.abs(Bs)>1||Math.abs(ys)>1)&&ee(Math.abs(Bs)>Math.abs(ys)?"x":"y");let xs={x:0,y:0};ie==="y"?(It.includes("top")||It.includes("bottom"))&&(It.includes("top")&&ys<0||It.includes("bottom")&&ys>0)&&(xs.y=ys):ie==="x"&&(It.includes("left")||It.includes("right"))&&(It.includes("left")&&Bs<0||It.includes("right")&&Bs>0)&&(xs.x=Bs),(Math.abs(xs.x)>0||Math.abs(xs.y)>0)&&xn(!0),(Nt=Fs.current)==null||Nt.style.setProperty("--swipe-amount-x",`${xs.x}px`),(Rt=Fs.current)==null||Rt.style.setProperty("--swipe-amount-y",`${xs.y}px`)}},rS&&!m.jsx?I.createElement("button",{"aria-label":he,"data-disabled":il,"data-close-button":!0,onClick:il||!bn?()=>{}:()=>{var Y;gs(),(Y=m.onDismiss)==null||Y.call(m,m)},className:Mt(R?.closeButton,(i=m?.classNames)==null?void 0:i.closeButton)},(r=ne?.close)!=null?r:OC):null,m.jsx||b.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:I.createElement(I.Fragment,null,bt||m.icon||m.promise?I.createElement("div",{"data-icon":"",className:Mt(R?.icon,(o=m?.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||cS():null,m.type!=="loading"?m.icon||ne?.[bt]||PC(bt):null):null,I.createElement("div",{"data-content":"",className:Mt(R?.content,(a=m?.classNames)==null?void 0:a.content)},I.createElement("div",{"data-title":"",className:Mt(R?.title,(l=m?.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?I.createElement("div",{"data-description":"",className:Mt(G,iS,R?.description,(c=m?.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),b.isValidElement(m.cancel)?m.cancel:m.cancel&&qr(m.cancel)?I.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||k,onClick:Y=>{var ye,Se;qr(m.cancel)&&bn&&((Se=(ye=m.cancel).onClick)==null||Se.call(ye,Y),gs())},className:Mt(R?.cancelButton,(u=m?.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,b.isValidElement(m.action)?m.action:m.action&&qr(m.action)?I.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||A,onClick:Y=>{var ye,Se;qr(m.action)&&((Se=(ye=m.action).onClick)==null||Se.call(ye,Y),!Y.defaultPrevented&&gs())},className:Mt(R?.actionButton,(h=m?.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function zh(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function ZC(t,e){let s={};return[t,e].forEach((n,i)=>{let r=i===1,o=r?"--mobile-offset":"--offset",a=r?qC:HC;function l(c){["top","right","bottom","left"].forEach(u=>{s[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?s[`${o}-${c}`]=a:s[`${o}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(a)}),s}var ej=b.forwardRef(function(t,e){let{invert:s,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:r,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:h,duration:f,style:m,visibleToasts:g=zC,toastOptions:p,dir:y=zh(),gap:v=GC,loadingIcon:x,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:_}=t,[T,C]=I.useState([]),j=I.useMemo(()=>Array.from(new Set([n].concat(T.filter(Q=>Q.position).map(Q=>Q.position)))),[T,n]),[E,k]=I.useState([]),[A,N]=I.useState(!1),[G,F]=I.useState(!1),[M,D]=I.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=I.useRef(null),L=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=I.useRef(null),ne=I.useRef(!1),he=I.useCallback(Q=>{C(ie=>{var ee;return(ee=ie.find(be=>be.id===Q.id))!=null&&ee.delete||dt.dismiss(Q.id),ie.filter(({id:be})=>be!==Q.id)})},[]);return I.useEffect(()=>dt.subscribe(Q=>{if(Q.dismiss){C(ie=>ie.map(ee=>ee.id===Q.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{uT.flushSync(()=>{C(ie=>{let ee=ie.findIndex(be=>be.id===Q.id);return ee!==-1?[...ie.slice(0,ee),{...ie[ee],...Q},...ie.slice(ee+1)]:[Q,...ie]})})})}),[]),I.useEffect(()=>{if(u!=="system"){D(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:ie})=>{D(ie?"dark":"light")})}catch{Q.addListener(({matches:ee})=>{try{D(ee?"dark":"light")}catch(be){console.error(be)}})}},[u]),I.useEffect(()=>{T.length<=1&&N(!1)},[T]),I.useEffect(()=>{let Q=ie=>{var ee,be;i.every(Me=>ie[Me]||ie.code===Me)&&(N(!0),(ee=$.current)==null||ee.focus()),ie.code==="Escape"&&(document.activeElement===$.current||(be=$.current)!=null&&be.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[i]),I.useEffect(()=>{if($.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,ne.current=!1)}},[$.current]),I.createElement("section",{ref:e,"aria-label":`${S} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((Q,ie)=>{var ee;let[be,Me]=Q.split("-");return T.length?I.createElement("ol",{key:Q,dir:y==="auto"?zh():y,tabIndex:-1,ref:$,className:a,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":be,"data-lifted":A&&T.length>1&&!r,"data-x-position":Me,style:{"--front-toast-height":`${((ee=E[0])==null?void 0:ee.height)||0}px`,"--width":`${KC}px`,"--gap":`${v}px`,...m,...ZC(l,c)},onBlur:V=>{ne.current&&!V.currentTarget.contains(V.relatedTarget)&&(ne.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||ne.current||(ne.current=!0,R.current=V.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{G||N(!1)},onDragEnd:()=>N(!1),onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},T.filter(V=>!V.position&&ie===0||V.position===Q).map((V,je)=>{var $e,pe;return I.createElement(QC,{key:V.id,icons:w,index:je,toast:V,defaultRichColors:h,duration:($e=p?.duration)!=null?$e:f,className:p?.className,descriptionClassName:p?.descriptionClassName,invert:s,visibleToasts:g,closeButton:(pe=p?.closeButton)!=null?pe:o,interacting:G,position:Q,style:p?.style,unstyled:p?.unstyled,classNames:p?.classNames,cancelButtonStyle:p?.cancelButtonStyle,actionButtonStyle:p?.actionButtonStyle,removeToast:he,toasts:T.filter(ge=>ge.position==V.position),heights:E.filter(ge=>ge.position==V.position),setHeights:k,expandByDefault:r,gap:v,loadingIcon:x,expanded:A,pauseWhenPageIsHidden:_,swipeDirections:t.swipeDirections})})):null}))});const tj=({...t})=>{const{theme:e="system"}=kC();return d.jsx(ej,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var[Ta]=Ms("Tooltip",[wa]),Md=wa(),Ry="TooltipProvider",sj=700,Hh="tooltip.open",[nj,Iy]=Ta(Ry),My=t=>{const{__scopeTooltip:e,delayDuration:s=sj,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:r}=t,o=b.useRef(!0),a=b.useRef(!1),l=b.useRef(0);return b.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx(nj,{scope:e,isOpenDelayedRef:o,delayDuration:s,onOpen:b.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:b.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:r})};My.displayName=Ry;var Oy="Tooltip",[HF,Ca]=Ta(Oy),fc="TooltipTrigger",ij=b.forwardRef((t,e)=>{const{__scopeTooltip:s,...n}=t,i=Ca(fc,s),r=Iy(fc,s),o=Md(s),a=b.useRef(null),l=Ne(e,a,i.onTriggerChange),c=b.useRef(!1),u=b.useRef(!1),h=b.useCallback(()=>c.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(Ig,{asChild:!0,...o,children:d.jsx(ce.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:Z(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!r.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Z(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Z(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Z(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Z(t.onBlur,i.onClose),onClick:Z(t.onClick,i.onClose)})})});ij.displayName=fc;var rj="TooltipPortal",[qF,oj]=Ta(rj,{forceMount:void 0}),ei="TooltipContent",Dy=b.forwardRef((t,e)=>{const s=oj(ei,t.__scopeTooltip),{forceMount:n=s.forceMount,side:i="top",...r}=t,o=Ca(ei,t.__scopeTooltip);return d.jsx(pn,{present:n||o.open,children:o.disableHoverableContent?d.jsx(Ly,{side:i,...r,ref:e}):d.jsx(aj,{side:i,...r,ref:e})})}),aj=b.forwardRef((t,e)=>{const s=Ca(ei,t.__scopeTooltip),n=Iy(ei,t.__scopeTooltip),i=b.useRef(null),r=Ne(e,i),[o,a]=b.useState(null),{trigger:l,onClose:c}=s,u=i.current,{onPointerInTransitChange:h}=n,f=b.useCallback(()=>{a(null),h(!1)},[h]),m=b.useCallback((g,p)=>{const y=g.currentTarget,v={x:g.clientX,y:g.clientY},x=hj(v,y.getBoundingClientRect()),w=fj(v,x),S=mj(p.getBoundingClientRect()),_=gj([...w,...S]);a(_),h(!0)},[h]);return b.useEffect(()=>()=>f(),[f]),b.useEffect(()=>{if(l&&u){const g=y=>m(y,u),p=y=>m(y,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",p),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",p)}}},[l,u,m,f]),b.useEffect(()=>{if(o){const g=p=>{const y=p.target,v={x:p.clientX,y:p.clientY},x=l?.contains(y)||u?.contains(y),w=!pj(v,o);x?f():w&&(f(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,o,c,f]),d.jsx(Ly,{...t,ref:r})}),[lj,cj]=Ta(Oy,{isInside:!1}),dj=fS("TooltipContent"),Ly=b.forwardRef((t,e)=>{const{__scopeTooltip:s,children:n,"aria-label":i,onEscapeKeyDown:r,onPointerDownOutside:o,...a}=t,l=Ca(ei,s),c=Md(s),{onClose:u}=l;return b.useEffect(()=>(document.addEventListener(Hh,u),()=>document.removeEventListener(Hh,u)),[u]),b.useEffect(()=>{if(l.trigger){const h=f=>{f.target?.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),d.jsx(Ng,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:d.jsxs(Rg,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(dj,{children:n}),d.jsx(lj,{scope:s,isInside:!0,children:d.jsx(ST,{id:l.contentId,role:"tooltip",children:i||n})})]})})});Dy.displayName=ei;var $y="TooltipArrow",uj=b.forwardRef((t,e)=>{const{__scopeTooltip:s,...n}=t,i=Md(s);return cj($y,s).isInside?null:d.jsx(Mg,{...i,...n,ref:e})});uj.displayName=$y;function hj(t,e){const s=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),r=Math.abs(e.left-t.x);switch(Math.min(s,n,i,r)){case r:return"left";case i:return"right";case s:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function fj(t,e,s=5){const n=[];switch(e){case"top":n.push({x:t.x-s,y:t.y+s},{x:t.x+s,y:t.y+s});break;case"bottom":n.push({x:t.x-s,y:t.y-s},{x:t.x+s,y:t.y-s});break;case"left":n.push({x:t.x+s,y:t.y-s},{x:t.x+s,y:t.y+s});break;case"right":n.push({x:t.x-s,y:t.y-s},{x:t.x-s,y:t.y+s});break}return n}function mj(t){const{top:e,right:s,bottom:n,left:i}=t;return[{x:i,y:e},{x:s,y:e},{x:s,y:n},{x:i,y:n}]}function pj(t,e){const{x:s,y:n}=t;let i=!1;for(let r=0,o=e.length-1;r<e.length;o=r++){const a=e[r],l=e[o],c=a.x,u=a.y,h=l.x,f=l.y;u>n!=f>n&&s<(h-c)*(n-u)/(f-u)+c&&(i=!i)}return i}function gj(t){const e=t.slice();return e.sort((s,n)=>s.x<n.x?-1:s.x>n.x?1:s.y<n.y?-1:s.y>n.y?1:0),yj(e)}function yj(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const r=e[e.length-1],o=e[e.length-2];if((r.x-o.x)*(i.y-o.y)>=(r.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const s=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;s.length>=2;){const r=s[s.length-1],o=s[s.length-2];if((r.x-o.x)*(i.y-o.y)>=(r.y-o.y)*(i.x-o.x))s.pop();else break}s.push(i)}return s.pop(),e.length===1&&s.length===1&&e[0].x===s[0].x&&e[0].y===s[0].y?e:e.concat(s)}var xj=My,Fy=Dy;const bj=xj,vj=b.forwardRef(({className:t,sideOffset:e=4,...s},n)=>d.jsx(Fy,{ref:n,sideOffset:e,className:K("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));vj.displayName=Fy.displayName;var ja=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ka=typeof window>"u"||"Deno"in globalThis;function Lt(){}function wj(t,e){return typeof t=="function"?t(e):t}function _j(t){return typeof t=="number"&&t>=0&&t!==1/0}function Sj(t,e){return Math.max(t+(e||0)-Date.now(),0)}function mc(t,e){return typeof t=="function"?t(e):t}function Tj(t,e){return typeof t=="function"?t(e):t}function qh(t,e){const{type:s="all",exact:n,fetchStatus:i,predicate:r,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==Od(o,e.options))return!1}else if(!dr(e.queryKey,o))return!1}if(s!=="all"){const l=e.isActive();if(s==="active"&&!l||s==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||r&&!r(e))}function Kh(t,e){const{exact:s,status:n,predicate:i,mutationKey:r}=t;if(r){if(!e.options.mutationKey)return!1;if(s){if(cr(e.options.mutationKey)!==cr(r))return!1}else if(!dr(e.options.mutationKey,r))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function Od(t,e){return(e?.queryKeyHashFn||cr)(t)}function cr(t){return JSON.stringify(t,(e,s)=>pc(s)?Object.keys(s).sort().reduce((n,i)=>(n[i]=s[i],n),{}):s)}function dr(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(s=>dr(t[s],e[s])):!1}function By(t,e){if(t===e)return t;const s=Gh(t)&&Gh(e);if(s||pc(t)&&pc(e)){const n=s?t:Object.keys(t),i=n.length,r=s?e:Object.keys(e),o=r.length,a=s?[]:{},l=new Set(n);let c=0;for(let u=0;u<o;u++){const h=s?u:r[u];(!s&&l.has(h)||s)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=By(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&c++)}return i===o&&c===i?t:a}return e}function Gh(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function pc(t){if(!Yh(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!Yh(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Yh(t){return Object.prototype.toString.call(t)==="[object Object]"}function Cj(t){return new Promise(e=>{setTimeout(e,t)})}function jj(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?By(t,e):e}function kj(t,e,s=0){const n=[...t,e];return s&&n.length>s?n.slice(1):n}function Pj(t,e,s=0){const n=[e,...t];return s&&n.length>s?n.slice(0,-1):n}var Dd=Symbol();function Vy(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Dd?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ej=class extends ja{#e;#t;#s;constructor(){super(),this.#s=t=>{if(!ka&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Uy=new Ej,Aj=class extends ja{#e=!0;#t;#s;constructor(){super(),this.#s=t=>{if(!ka&&window.addEventListener){const e=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(s=>{s(t)}))}isOnline(){return this.#e}},Ho=new Aj;function Nj(){let t,e;const s=new Promise((i,r)=>{t=i,e=r});s.status="pending",s.catch(()=>{});function n(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},s.reject=i=>{n({status:"rejected",reason:i}),e(i)},s}function Rj(t){return Math.min(1e3*2**t,3e4)}function Wy(t){return(t??"online")==="online"?Ho.isOnline():!0}var zy=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function fl(t){return t instanceof zy}function Hy(t){let e=!1,s=0,n=!1,i;const r=Nj(),o=p=>{n||(f(new zy(p)),t.abort?.())},a=()=>{e=!0},l=()=>{e=!1},c=()=>Uy.isFocused()&&(t.networkMode==="always"||Ho.isOnline())&&t.canRun(),u=()=>Wy(t.networkMode)&&t.canRun(),h=p=>{n||(n=!0,t.onSuccess?.(p),i?.(),r.resolve(p))},f=p=>{n||(n=!0,t.onError?.(p),i?.(),r.reject(p))},m=()=>new Promise(p=>{i=y=>{(n||c())&&p(y)},t.onPause?.()}).then(()=>{i=void 0,n||t.onContinue?.()}),g=()=>{if(n)return;let p;const y=s===0?t.initialPromise:void 0;try{p=y??t.fn()}catch(v){p=Promise.reject(v)}Promise.resolve(p).then(h).catch(v=>{if(n)return;const x=t.retry??(ka?0:3),w=t.retryDelay??Rj,S=typeof w=="function"?w(s,v):w,_=x===!0||typeof x=="number"&&s<x||typeof x=="function"&&x(s,v);if(e||!_){f(v);return}s++,t.onFail?.(s,v),Cj(S).then(()=>c()?void 0:m()).then(()=>{e?f(v):g()})})};return{promise:r,cancel:o,continue:()=>(i?.(),r),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?g():m().then(g),r)}}var Ij=t=>setTimeout(t,0);function Mj(){let t=[],e=0,s=a=>{a()},n=a=>{a()},i=Ij;const r=a=>{e?t.push(a):i(()=>{s(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{n(()=>{a.forEach(l=>{s(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{r(()=>{a(...l)})},schedule:r,setNotifyFunction:a=>{s=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{i=a}}}var rt=Mj(),qy=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_j(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ka?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Oj=class extends qy{#e;#t;#s;#i;#n;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#s=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Lj(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(t,e){const s=jj(this.state.data,t,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),s}setState(t,e){this.#r({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(Lt).catch(Lt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Tj(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Dd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>mc(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Sj(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const s=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,s.signal)})},i=()=>{const l=Vy(this.options,e),u=(()=>{const h={client:this.#i,queryKey:this.queryKey,meta:this.meta};return n(h),h})();return this.#a=!1,this.options.persister?this.options.persister(l,u,this):l(u)},o=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return n(l),l})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#r({type:"fetch",meta:o.fetchOptions?.meta});const a=l=>{fl(l)&&l.silent||this.#r({type:"error",error:l}),fl(l)||(this.#s.config.onError?.(l,this),this.#s.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#n=Hy({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:l=>{if(l===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){a(c);return}this.#s.config.onSuccess?.(l,this),this.#s.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:a,onFail:(l,c)=>{this.#r({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#n.start()}#r(t){const e=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Dj(s.data,this.options),fetchMeta:t.meta??null};case"success":return this.#t=void 0,{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return fl(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...s,error:n,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=e(this.state),rt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:t})})}};function Dj(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Wy(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Lj(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,n=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var $j=class extends ja{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,s){const n=e.queryKey,i=e.queryHash??Od(n,e);let r=this.get(i);return r||(r=new Oj({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:s,defaultOptions:t.getQueryDefaults(n)}),this.add(r)),r}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){rt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(s=>qh(e,s))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(s=>qh(t,s)):e}notify(t){rt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){rt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){rt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Fj=class extends qy{#e;#t;#s;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||Bj(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#i({type:"continue"})};this.#s=Hy({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,r)=>{this.#i({type:"failed",failureCount:i,error:r})},onPause:()=>{this.#i({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",n=!this.#s.canStart();try{if(s)e();else{this.#i({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const r=await this.options.onMutate?.(t);r!==this.state.context&&this.#i({type:"pending",context:r,variables:t,isPaused:n})}const i=await this.#s.start();return await this.#t.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#i({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#i({type:"error",error:i})}}finally{this.#t.runNext(this)}}#i(t){const e=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),rt.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function Bj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Vj=class extends ja{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(t,e,s){const n=new Fj({mutationCache:this,mutationId:++this.#s,options:t.defaultMutationOptions(e),state:s});return this.add(n),n}add(t){this.#e.add(t);const e=Kr(t);if(typeof e=="string"){const s=this.#t.get(e);s?s.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Kr(t);if(typeof e=="string"){const s=this.#t.get(e);if(s)if(s.length>1){const n=s.indexOf(t);n!==-1&&s.splice(n,1)}else s[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Kr(t);if(typeof e=="string"){const n=this.#t.get(e)?.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=Kr(t);return typeof e=="string"?this.#t.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){rt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(s=>Kh(e,s))}findAll(t={}){return this.getAll().filter(e=>Kh(t,e))}notify(t){rt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return rt.batch(()=>Promise.all(t.map(e=>e.continue().catch(Lt))))}};function Kr(t){return t.options.scope?.id}function Xh(t){return{onFetch:(e,s)=>{const n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,r=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const h=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},f=Vy(e.options,e.fetchOptions),m=async(g,p,y)=>{if(u)return Promise.reject();if(p==null&&g.pages.length)return Promise.resolve(g);const x=(()=>{const T={client:e.client,queryKey:e.queryKey,pageParam:p,direction:y?"backward":"forward",meta:e.options.meta};return h(T),T})(),w=await f(x),{maxPages:S}=e.options,_=y?Pj:kj;return{pages:_(g.pages,w,S),pageParams:_(g.pageParams,p,S)}};if(i&&r.length){const g=i==="backward",p=g?Uj:Jh,y={pages:r,pageParams:o},v=p(n,y);a=await m(y,v,g)}else{const g=t??r.length;do{const p=l===0?o[0]??n.initialPageParam:Jh(n,a);if(l>0&&p==null)break;a=await m(a,p),l++}while(l<g)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s):e.fetchFn=c}}}function Jh(t,{pages:e,pageParams:s}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,s[n],s):void 0}function Uj(t,{pages:e,pageParams:s}){return e.length>0?t.getPreviousPageParam?.(e[0],e,s[0],s):void 0}var Wj=class{#e;#t;#s;#i;#n;#o;#a;#r;constructor(t={}){this.#e=t.queryCache||new $j,this.#t=t.mutationCache||new Vj,this.#s=t.defaultOptions||{},this.#i=new Map,this.#n=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=Uy.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Ho.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#r?.(),this.#r=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=this.#e.build(this,e),n=s.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(mc(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:s})=>{const n=s.data;return[e,n]})}setQueryData(t,e,s){const n=this.defaultQueryOptions({queryKey:t}),r=this.#e.get(n.queryHash)?.state.data,o=wj(e,r);if(o!==void 0)return this.#e.build(this,n).setData(o,{...s,manual:!0})}setQueriesData(t,e,s){return rt.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,s)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;rt.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=this.#e;return rt.batch(()=>(s.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const s={revert:!0,...e},n=rt.batch(()=>this.#e.findAll(t).map(i=>i.cancel(s)));return Promise.all(n).then(Lt).catch(Lt)}invalidateQueries(t,e={}){return rt.batch(()=>(this.#e.findAll(t).forEach(s=>{s.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},n=rt.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let r=i.fetch(void 0,s);return s.throwOnError||(r=r.catch(Lt)),i.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(n).then(Lt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=this.#e.build(this,e);return s.isStaleByTime(mc(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Lt).catch(Lt)}fetchInfiniteQuery(t){return t.behavior=Xh(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Lt).catch(Lt)}ensureInfiniteQueryData(t){return t.behavior=Xh(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ho.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(t){this.#s=t}setQueryDefaults(t,e){this.#i.set(cr(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],s={};return e.forEach(n=>{dr(t,n.queryKey)&&Object.assign(s,n.defaultOptions)}),s}setMutationDefaults(t,e){this.#n.set(cr(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#n.values()],s={};return e.forEach(n=>{dr(t,n.mutationKey)&&Object.assign(s,n.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#s.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Od(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Dd&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#s.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},zj=b.createContext(void 0),Hj=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(zj.Provider,{value:t,children:e}));const qj="modulepreload",Kj=function(t){return"/"+t},Qh={},Rr=function(e,s,n){let i=Promise.resolve();if(s&&s.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");i=l(s.map(c=>{if(c=Kj(c),c in Qh)return;Qh[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":qj,u||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((m,g)=>{f.addEventListener("load",m),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})},Gj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Rr(async()=>{const{default:n}=await Promise.resolve().then(()=>di);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)};class Ld extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class Zh extends Ld{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ef extends Ld{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class tf extends Ld{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var gc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(gc||(gc={}));var Yj=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class Xj{constructor(e,{headers:s={},customFetch:n,region:i=gc.Any}={}){this.url=e,this.headers=s,this.region=i,this.fetch=Gj(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var n;return Yj(this,void 0,void 0,function*(){try{const{headers:i,method:r,body:o,signal:a}=s;let l={},{region:c}=s;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let h;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(l["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(l["Content-Type"]="application/json",h=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:h,signal:a}).catch(y=>{throw y.name==="AbortError"?y:new Zh(y)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new ef(f);if(!f.ok)throw new tf(f);let g=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return g==="application/json"?p=yield f.json():g==="application/octet-stream"?p=yield f.blob():g==="text/event-stream"?p=f:g==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Zh(i)}:{data:null,error:i,response:i instanceof tf||i instanceof ef?i.context:void 0}}})}}var ze={},_n={},Sn={},Tn={},Cn={},jn={},Jj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ti=Jj();const Qj=ti.fetch,Ky=ti.fetch.bind(ti),Gy=ti.Headers,Zj=ti.Request,ek=ti.Response,di=Object.freeze(Object.defineProperty({__proto__:null,Headers:Gy,Request:Zj,Response:ek,default:Ky,fetch:Qj},Symbol.toStringTag,{value:"Module"})),tk=lT(di);var Gr={},sf;function Yy(){if(sf)return Gr;sf=1,Object.defineProperty(Gr,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Gr.default=t,Gr}var nf;function Xy(){if(nf)return jn;nf=1;var t=jn&&jn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(jn,"__esModule",{value:!0});const e=t(tk),s=t(Yy());class n{constructor(r){var o,a;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(o=r.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=r.signal,this.isMaybeSingle=(a=r.isMaybeSingle)!==null&&a!==void 0?a:!1,r.fetch?this.fetch=r.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,o){return this.headers=new Headers(this.headers),this.headers.set(r,o),this}then(r,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,f,m;let g=null,p=null,y=null,v=c.status,x=c.statusText;if(c.ok){if(this.method!=="HEAD"){const T=await c.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?p=T:p=JSON.parse(T))}const S=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),_=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");S&&_&&_.length>1&&(y=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(g={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,y=null,v=406,x="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const S=await c.text();try{g=JSON.parse(S),Array.isArray(g)&&c.status===404&&(p=[],g=null,v=200,x="OK")}catch{c.status===404&&S===""?(v=204,x="No Content"):g={message:S}}if(g&&this.isMaybeSingle&&(!((m=g?.details)===null||m===void 0)&&m.includes("0 rows"))&&(g=null,v=200,x="OK"),g&&this.shouldThrowOnError)throw new s.default(g)}return{error:g,data:p,count:y,status:v,statusText:x}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,f;return{error:{message:`${(u=c?.name)!==null&&u!==void 0?u:"FetchError"}: ${c?.message}`,details:`${(h=c?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=c?.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(r,o)}returns(){return this}overrideTypes(){return this}}return jn.default=n,jn}var rf;function Jy(){if(rf)return Cn;rf=1;var t=Cn&&Cn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Cn,"__esModule",{value:!0});const e=t(Xy());class s extends e.default{select(i){let r=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:r=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${r?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,r,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${r-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:r=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[i?"analyze":null,r?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Cn.default=s,Cn}var of;function $d(){if(of)return Tn;of=1;var t=Tn&&Tn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Tn,"__esModule",{value:!0});const e=t(Jy());class s extends e.default{eq(i,r){return this.url.searchParams.append(i,`eq.${r}`),this}neq(i,r){return this.url.searchParams.append(i,`neq.${r}`),this}gt(i,r){return this.url.searchParams.append(i,`gt.${r}`),this}gte(i,r){return this.url.searchParams.append(i,`gte.${r}`),this}lt(i,r){return this.url.searchParams.append(i,`lt.${r}`),this}lte(i,r){return this.url.searchParams.append(i,`lte.${r}`),this}like(i,r){return this.url.searchParams.append(i,`like.${r}`),this}likeAllOf(i,r){return this.url.searchParams.append(i,`like(all).{${r.join(",")}}`),this}likeAnyOf(i,r){return this.url.searchParams.append(i,`like(any).{${r.join(",")}}`),this}ilike(i,r){return this.url.searchParams.append(i,`ilike.${r}`),this}ilikeAllOf(i,r){return this.url.searchParams.append(i,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(i,r){return this.url.searchParams.append(i,`ilike(any).{${r.join(",")}}`),this}is(i,r){return this.url.searchParams.append(i,`is.${r}`),this}in(i,r){const o=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cs.{${r.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(r)}`),this}containedBy(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cd.{${r.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(r)}`),this}rangeGt(i,r){return this.url.searchParams.append(i,`sr.${r}`),this}rangeGte(i,r){return this.url.searchParams.append(i,`nxl.${r}`),this}rangeLt(i,r){return this.url.searchParams.append(i,`sl.${r}`),this}rangeLte(i,r){return this.url.searchParams.append(i,`nxr.${r}`),this}rangeAdjacent(i,r){return this.url.searchParams.append(i,`adj.${r}`),this}overlaps(i,r){return typeof r=="string"?this.url.searchParams.append(i,`ov.${r}`):this.url.searchParams.append(i,`ov.{${r.join(",")}}`),this}textSearch(i,r,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${c}.${r}`),this}match(i){return Object.entries(i).forEach(([r,o])=>{this.url.searchParams.append(r,`eq.${o}`)}),this}not(i,r,o){return this.url.searchParams.append(i,`not.${r}.${o}`),this}or(i,{foreignTable:r,referencedTable:o=r}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,r,o){return this.url.searchParams.append(i,`${r}.${o}`),this}}return Tn.default=s,Tn}var af;function Qy(){if(af)return Sn;af=1;var t=Sn&&Sn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Sn,"__esModule",{value:!0});const e=t($d());class s{constructor(i,{headers:r={},schema:o,fetch:a}){this.url=i,this.headers=new Headers(r),this.schema=o,this.fetch=a}select(i,{head:r=!1,count:o}={}){const a=r?"HEAD":"GET";let l=!1;const c=(i??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:r,defaultToNull:o=!0}={}){var a;const l="POST";if(r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:r,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:r}={}){var o;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var r;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}}return Sn.default=s,Sn}var lf;function sk(){if(lf)return _n;lf=1;var t=_n&&_n.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(_n,"__esModule",{value:!0});const e=t(Qy()),s=t($d());class n{constructor(r,{headers:o={},schema:a,fetch:l}={}){this.url=r,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(r){const o=new URL(`${this.url}/${r}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new n(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let h;const f=new URL(`${this.url}/rpc/${r}`);let m;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([p,y])=>y!==void 0).map(([p,y])=>[p,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([p,y])=>{f.searchParams.append(p,y)})):(h="POST",m=o);const g=new Headers(this.headers);return c&&g.set("Prefer",`count=${c}`),new s.default({method:h,url:f,headers:g,schema:this.schemaName,body:m,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return _n.default=n,_n}var cf;function nk(){if(cf)return ze;cf=1;var t=ze&&ze.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ze,"__esModule",{value:!0}),ze.PostgrestError=ze.PostgrestBuilder=ze.PostgrestTransformBuilder=ze.PostgrestFilterBuilder=ze.PostgrestQueryBuilder=ze.PostgrestClient=void 0;const e=t(sk());ze.PostgrestClient=e.default;const s=t(Qy());ze.PostgrestQueryBuilder=s.default;const n=t($d());ze.PostgrestFilterBuilder=n.default;const i=t(Jy());ze.PostgrestTransformBuilder=i.default;const r=t(Xy());ze.PostgrestBuilder=r.default;const o=t(Yy());return ze.PostgrestError=o.default,ze.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:r.default,PostgrestError:o.default},ze}var ik=nk();const rk=cT(ik),{PostgrestClient:ok,PostgrestQueryBuilder:KF,PostgrestFilterBuilder:GF,PostgrestTransformBuilder:YF,PostgrestBuilder:XF,PostgrestError:JF}=rk;class ak{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const n=s.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const n=this.getWebSocketConstructor();return new n(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const lk="2.15.5",ck=`realtime-js/${lk}`,dk="1.0.0",yc=1e4,uk=1e3,hk=100;var Ki;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ki||(Ki={}));var Be;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Be||(Be={}));var Ft;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ft||(Ft={}));var xc;(function(t){t.websocket="websocket"})(xc||(xc={}));var Qs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Qs||(Qs={}));class fk{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,s,n)}_decodeBroadcast(e,s,n){const i=s.getUint8(1),r=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+i));o=o+i;const l=n.decode(e.slice(o,o+r));o=o+r;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Zy{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(xe||(xe={}));const df=(t,e,s={})=>{var n;const i=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((r,o)=>(r[o]=mk(o,t,e,i),r),{})},mk=(t,e,s,n)=>{const i=e.find(a=>a.name===t),r=i?.type,o=s[t];return r&&!n.includes(r)?ex(r,o):bc(o)},ex=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return xk(e,s)}switch(t){case xe.bool:return pk(e);case xe.float4:case xe.float8:case xe.int2:case xe.int4:case xe.int8:case xe.numeric:case xe.oid:return gk(e);case xe.json:case xe.jsonb:return yk(e);case xe.timestamp:return bk(e);case xe.abstime:case xe.date:case xe.daterange:case xe.int4range:case xe.int8range:case xe.money:case xe.reltime:case xe.text:case xe.time:case xe.timestamptz:case xe.timetz:case xe.tsrange:case xe.tstzrange:return bc(e);default:return bc(e)}},bc=t=>t,pk=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},gk=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},yk=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},xk=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let r;const o=t.slice(1,s);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>ex(e,a))}return t},bk=t=>typeof t=="string"?t.replace(" ","T"):t,tx=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class ml{constructor(e,s,n={},i=yc){this.channel=e,this.event=s,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var uf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(uf||(uf={}));class Gi{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gi.syncState(this.state,i,r,o),this.pendingDiffs.forEach(l=>{this.state=Gi.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Gi.syncDiff(this.state,i,r,o),a())}),this.onJoin((i,r,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:o})}),this.onLeave((i,r,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,i){const r=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(r,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=r[c];if(h){const f=u.map(y=>y.presence_ref),m=h.map(y=>y.presence_ref),g=u.filter(y=>m.indexOf(y.presence_ref)<0),p=h.filter(y=>f.indexOf(y.presence_ref)<0);g.length>0&&(a[c]=g),p.length>0&&(l[c]=p)}else a[c]=u}),this.syncDiff(r,{joins:a,leaves:l},n,i)}static syncDiff(e,s,n,i){const{joins:r,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(r,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(m=>m.presence_ref),f=u.filter(m=>h.indexOf(m.presence_ref)<0);e[a].unshift(...f)}n(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const i=e[n];return"metas"in i?s[n]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):s[n]=i,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(hf||(hf={}));var Yi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Yi||(Yi={}));var ds;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ds||(ds={}));class Fd{constructor(e,s={config:{}},n){this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=Be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new ml(this,Ft.join,this.params,this.timeout),this.rejoinTimer=new Zy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Be.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ft.reply,{},(i,r)=>{this._trigger(this._replyEventName(r),i)}),this.presence=new Gi(this),this.broadcastEndpointURL=tx(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var n,i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Be.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Yi.PRESENCE]&&this.bindings[Yi.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>e?.(ds.CHANNEL_ERROR,m)),this._onClose(()=>e?.(ds.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){e?.(ds.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,y=(g=p?.length)!==null&&g!==void 0?g:0,v=[];for(let x=0;x<y;x++){const w=p[x],{filter:{event:S,schema:_,table:T,filter:C}}=w,j=m&&m[x];if(j&&j.event===S&&j.schema===_&&j.table===T&&j.filter===C)v.push(Object.assign(Object.assign({},w),{id:j.id}));else{this.unsubscribe(),this.state=Be.errored,e?.(ds.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(ds.SUBSCRIBED);return}}).receive("error",m=>{this.state=Be.errored,e?.(ds.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e?.(ds.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this.state===Be.joined&&e===Yi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,n)}async send(e,s={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:r,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Be.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ft.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new ml(this,Ft.leave,{},e),n.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Be.closed,this.bindings={}}async _fetchWithTimeout(e,s,n){const i=new AbortController,r=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(r),o}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ml(this,e,s,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>hk){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var i,r;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Ft;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,s,n);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var g,p,y;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(p=m.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(r=this.bindings[o])===null||r===void 0||r.filter(m=>{var g,p,y,v,x,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,_=(g=m.filter)===null||g===void 0?void 0:g.event;return S&&((p=s.ids)===null||p===void 0?void 0:p.includes(S))&&(_==="*"||_?.toLocaleLowerCase()===((y=s.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(x=(v=m?.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return S==="*"||S===((w=s?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:p,table:y,commit_timestamp:v,type:x,errors:w}=g;f=Object.assign(Object.assign({},{schema:p,table:y,commit_timestamp:v,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(f,n)})}_isClosed(){return this.state===Be.closed}_isJoined(){return this.state===Be.joined}_isJoining(){return this.state===Be.joining}_isLeaving(){return this.state===Be.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const i=e.toLocaleLowerCase(),r={type:i,filter:s,callback:n};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===n&&Fd.isEqual(i.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ft.close,{},e)}_onError(e){this._on(Ft.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Be.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=df(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=df(e.columns,e.old_record)),s}}const pl=()=>{},Yr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},vk=[1e3,2e3,5e3,1e4],wk=1e4,_k=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Sk{constructor(e,s){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yc,this.transport=null,this.heartbeatIntervalMs=Yr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pl,this.ref=0,this.reconnectTimer=null,this.logger=pl,this.conn=null,this.sendBuffer=[],this.serializer=new fk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...o)=>Rr(async()=>{const{default:a}=await Promise.resolve().then(()=>di);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):r=fetch,(...o)=>r(...o)},!(!((n=s?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${xc.websocket}`,this.httpEndpoint=tx(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ak.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:dk}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ki.connecting:return Qs.Connecting;case Ki.open:return Qs.Open;case Ki.closing:return Qs.Closing;default:return Qs.Closed}}isConnected(){return this.connectionState()===Qs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(r=>r.topic===n);if(i)return i;{const r=new Fd(`realtime:${e}`,s,this);return this.channels.push(r),r}}push(e){const{topic:s,event:n,payload:i,ref:r}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${r})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(uk,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Yr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:r,ref:o}=s,a=o?`(${o})`:"",l=r.status||"";this.log("receive",`${l} ${n} ${i} ${a}`.trim(),r),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,r,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ft.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${e}${n}${i}`}_workerObjectUrl(e){let s;if(e)s=e;else{const n=new Blob([_k],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{const i={access_token:s,version:ck};s&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Ft.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(s)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Zy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,n,i,r,o,a,l,c,u;if(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:yc,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Yr.HEARTBEAT_INTERVAL,this.worker=(r=e?.worker)!==null&&r!==void 0?r:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:pl,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e?.reconnectAfterMs)!==null&&l!==void 0?l:(h=>vk[h-1]||wk),this.encode=(c=e?.encode)!==null&&c!==void 0?c:((h,f)=>f(JSON.stringify(h))),this.decode=(u=e?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Bd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Oe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Tk extends Bd{constructor(e,s,n){super(e),this.name="StorageApiError",this.status=s,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vc extends Bd{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Ck=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const sx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Rr(async()=>{const{default:n}=await Promise.resolve().then(()=>di);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},jk=()=>Ck(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Rr(()=>Promise.resolve().then(()=>di),void 0)).Response:Response}),wc=t=>{if(Array.isArray(t))return t.map(s=>wc(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const i=s.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[i]=wc(n)}),e},kk=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var gn=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const gl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Pk=(t,e,s)=>gn(void 0,void 0,void 0,function*(){const n=yield jk();t instanceof n&&!s?.noResolveJson?t.json().then(i=>{const r=t.status||500,o=i?.statusCode||r+"";e(new Tk(gl(i),r,o))}).catch(i=>{e(new vc(gl(i),i))}):e(new vc(gl(t),t))}),Ek=(t,e,s,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(kk(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),s))};function Ir(t,e,s,n,i,r){return gn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Ek(e,n,i,r)).then(l=>{if(!l.ok)throw l;return n?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Pk(l,a,n))})})}function qo(t,e,s,n){return gn(this,void 0,void 0,function*(){return Ir(t,"GET",e,s,n)})}function Yt(t,e,s,n,i){return gn(this,void 0,void 0,function*(){return Ir(t,"POST",e,n,i,s)})}function _c(t,e,s,n,i){return gn(this,void 0,void 0,function*(){return Ir(t,"PUT",e,n,i,s)})}function Ak(t,e,s,n){return gn(this,void 0,void 0,function*(){return Ir(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function nx(t,e,s,n,i){return gn(this,void 0,void 0,function*(){return Ir(t,"DELETE",e,n,i,s)})}var Nk=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class Rk{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return Nk(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Oe(e))return{data:null,error:e};throw e}})}}var Ik=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class Mk{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}asStream(){return new Rk(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.execute().then(e,s)}execute(){return Ik(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Oe(e))return{data:null,error:e};throw e}})}}var at=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Ok={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ff={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Dk{constructor(e,s={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=n,this.fetch=sx(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,n,i){return at(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},ff),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",n)):typeof FormData<"u"&&n instanceof FormData?(r=n,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(s),u=this._getFinalPath(c),h=yield(e=="PUT"?_c:Yt)(this.fetch,`${this.url}/object/${u}`,r,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}upload(e,s,n){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,i){return at(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:ff.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield _c(this.fetch,a.toString(),l,{headers:u});return{data:{path:r,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Oe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return at(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);s?.upsert&&(i["x-upsert"]="true");const r=yield Yt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+r.url),a=o.searchParams.get("token");if(!a)throw new Bd("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}update(e,s,n){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s,n){return at(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Oe(i))return{data:null,error:i};throw i}})}copy(e,s,n){return at(this,void 0,void 0,function*(){try{return{data:{path:(yield Yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Oe(i))return{data:null,error:i};throw i}})}createSignedUrl(e,s,n){return at(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),r=yield Yt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Oe(i))return{data:null,error:i};throw i}})}createSignedUrls(e,s,n){return at(this,void 0,void 0,function*(){try{const i=yield Yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),r=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Oe(i))return{data:null,error:i};throw i}})}download(e,s){const i=typeof s?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(s?.transform||{}),o=r?`?${r}`:"",a=this._getFinalPath(e),l=()=>qo(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new Mk(l,this.shouldThrowOnError)}info(e){return at(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const n=yield qo(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:wc(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}exists(e){return at(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Ak(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n)&&n instanceof vc){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,s){const n=this._getFinalPath(e),i=[],r=s?.download?`download=${s.download===!0?"":s.download}`:"";r!==""&&i.push(r);const a=typeof s?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(s?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return at(this,void 0,void 0,function*(){try{return{data:yield nx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}list(e,s,n){return at(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Ok),s),{prefix:e||""});return{data:yield Yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Oe(i))return{data:null,error:i};throw i}})}listV2(e,s){return at(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Yt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Lk="2.12.2",$k={"X-Client-Info":`storage-js/${Lk}`};var kn=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class Fk{constructor(e,s={},n,i){this.shouldThrowOnError=!1;const r=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href,this.headers=Object.assign(Object.assign({},$k),s),this.fetch=sx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return kn(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Oe(e))return{data:null,error:e};throw e}})}getBucket(e){return kn(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return kn(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return kn(this,void 0,void 0,function*(){try{return{data:yield _c(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}emptyBucket(e){return kn(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}deleteBucket(e){return kn(this,void 0,void 0,function*(){try{return{data:yield nx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}}class Bk extends Fk{constructor(e,s={},n,i){super(e,s,n,i)}from(e){return new Dk(this.url,this.headers,e,this.fetch)}}const Vk="2.58.0";let Ai="";typeof Deno<"u"?Ai="deno":typeof document<"u"?Ai="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ai="react-native":Ai="node";const Uk={"X-Client-Info":`supabase-js-${Ai}/${Vk}`},Wk={headers:Uk},zk={schema:"public"},Hk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qk={};var Kk=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Gk=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ky:e=fetch,(...s)=>e(...s)},Yk=()=>typeof Headers>"u"?Gy:Headers,Xk=(t,e,s)=>{const n=Gk(s),i=Yk();return(r,o)=>Kk(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(r,Object.assign(Object.assign({},o),{headers:c}))})};var Jk=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function Qk(t){return t.endsWith("/")?t:t+"/"}function Zk(t,e){var s,n;const{db:i,auth:r,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:h}=e,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h?.headers)!==null&&s!==void 0?s:{}),(n=a?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Jk(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function eP(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Qk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ix="2.72.0",Ln=30*1e3,Sc=3,yl=Sc*Ln,tP="http://localhost:9999",sP="supabase.auth.token",nP={"X-Client-Info":`gotrue-js/${ix}`},Tc="X-Supabase-Api-Version",rx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rP=600*1e3;class Vd extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function X(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class oP extends Vd{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function aP(t){return X(t)&&t.name==="AuthApiError"}class ox extends Vd{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Os extends Vd{constructor(e,s,n,i){super(e,n,i),this.name=s,this.status=n}}class Ts extends Os{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lP(t){return X(t)&&t.name==="AuthSessionMissingError"}class _i extends Os{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xr extends Os{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Jr extends Os{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cP(t){return X(t)&&t.name==="AuthImplicitGrantRedirectError"}class mf extends Os{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cc extends Os{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function xl(t){return X(t)&&t.name==="AuthRetryableFetchError"}class pf extends Os{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class jc extends Os{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ko="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gf=` 	
\r=`.split(""),dP=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<gf.length;e+=1)t[gf[e].charCodeAt(0)]=-2;for(let e=0;e<Ko.length;e+=1)t[Ko[e].charCodeAt(0)]=e;return t})();function yf(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(Ko[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(Ko[n]),e.queuedBits-=6}}function ax(t,e,s){const n=dP[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function xf(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},r=o=>{fP(o,n,s)};for(let o=0;o<t.length;o+=1)ax(t.charCodeAt(o),i,r);return e.join("")}function uP(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function hP(t,e){for(let s=0;s<t.length;s+=1){let n=t.charCodeAt(s);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}uP(n,e)}}function fP(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function mP(t){const e=[],s={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)ax(t.charCodeAt(i),s,n);return new Uint8Array(e)}function pP(t){const e=[];return hP(t,s=>e.push(s)),new Uint8Array(e)}function gP(t){const e=[],s={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>yf(i,s,n)),yf(null,s,n),e.join("")}function yP(t){return Math.round(Date.now()/1e3)+t}function xP(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const _t=()=>typeof window<"u"&&typeof document<"u",Vs={tested:!1,writable:!1},lx=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vs.tested)return Vs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Vs.tested=!0,Vs.writable=!0}catch{Vs.tested=!0,Vs.writable=!1}return Vs.writable};function bP(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,r)=>{e[r]=i})}catch{}return s.searchParams.forEach((n,i)=>{e[i]=n}),e}const cx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Rr(async()=>{const{default:n}=await Promise.resolve().then(()=>di);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},vP=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$n=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Us=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ws=async(t,e)=>{await t.removeItem(e)};class Pa{constructor(){this.promise=new Pa.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Pa.promiseConstructor=Promise;function bl(t){const e=t.split(".");if(e.length!==3)throw new jc("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!iP.test(e[n]))throw new jc("JWT not in base64url format");return{header:JSON.parse(xf(e[0])),payload:JSON.parse(xf(e[1])),signature:mP(e[2]),raw:{header:e[0],payload:e[1]}}}async function wP(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function _P(t,e){return new Promise((n,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await t(r);if(!e(r,null,o)){n(o);return}}catch(o){if(!e(r,o)){i(o);return}}})()})}function SP(t){return("0"+t.toString(16)).substr(-2)}function TP(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let i="";for(let r=0;r<56;r++)i+=s.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,SP).join("")}async function CP(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(n);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}async function jP(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await CP(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pn(t,e,s=!1){const n=TP();let i=n;s&&(i+="/PASSWORD_RECOVERY"),await $n(t,`${e}-code-verifier`,i);const r=await jP(n);return[r,n===r?"plain":"s256"]}const kP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function PP(t){const e=t.headers.get(Tc);if(!e||!e.match(kP))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function EP(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function AP(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const NP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function En(t){if(!NP.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vl(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const n=s.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bf(t){return JSON.parse(JSON.stringify(t))}var RP=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s};const Ks=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),IP=[502,503,504];async function vf(t){var e;if(!vP(t))throw new Cc(Ks(t),0);if(IP.includes(t.status))throw new Cc(Ks(t),t.status);let s;try{s=await t.json()}catch(r){throw new ox(Ks(r),r)}let n;const i=PP(t);if(i&&i.getTime()>=rx["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new pf(Ks(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ts}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new pf(Ks(s),t.status,s.weak_password.reasons);throw new oP(Ks(s),t.status||500,n)}const MP=(t,e,s,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),s))};async function le(t,e,s,n){var i;const r=Object.assign({},n?.headers);r[Tc]||(r[Tc]=rx["2024-01-01"].name),n?.jwt&&(r.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await OP(t,e,s+a,{headers:r,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function OP(t,e,s,n,i,r){const o=MP(e,n,i,r);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Cc(Ks(l),0)}if(a.ok||await vf(a),n?.noResolveJson)return a;try{return await a.json()}catch(l){await vf(l)}}function Kt(t){var e;let s=null;FP(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=yP(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function wf(t){const e=Kt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function js(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function DP(t){return{data:t,error:null}}function LP(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:i,verification_type:r}=t,o=RP(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:n,redirect_to:i,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function $P(t){return t}function FP(t){return t.access_token&&t.refresh_token&&t.expires_in}const wl=["global","local","others"];var BP=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s};class VP{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=cx(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=wl[0]){if(wl.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wl.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:js})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=BP(e,["options"]),i=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:LP,redirectTo:s?.redirectTo})}catch(s){if(X(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:js})}catch(s){if(X(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(r=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:$P});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);c[`${y}Page`]=p}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(X(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){En(e);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:js})}catch(s){if(X(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){En(e);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:js})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){En(e);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:js})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){En(e.userId);try{const{data:s,error:n}=await le(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:n}}catch(s){if(X(s))return{data:null,error:s};throw s}}async _deleteFactor(e){En(e.userId),En(e.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}}}function _f(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function UP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const An={debug:!!(globalThis&&lx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class WP extends dx{}async function zP(t,e,s){An.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),An.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){An.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await s()}finally{An.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw An.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new WP(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(An.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function ux(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function HP(t){return parseInt(t,16)}function qP(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function KP(t){var e;const{chainId:s,domain:n,expirationTime:i,issuedAt:r=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:f}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=ux(t.address),g=u?`${u}://${n}`:n,p=t.statement?`${t.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${m}

${p}`;let v=`URI: ${h}
Version: ${f}
Chain ID: ${s}${o?`
Nonce: ${o}`:""}
Issued At: ${r.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),l&&(v+=`
Request ID: ${l}`),c){let x=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);x+=`
- ${w}`}v+=x}return`${y}
${v}`}UP();const GP={url:tP,storageKey:sP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Sf(t,e,s){return await s()}const Nn={};class ur{constructor(e){var s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ur.nextInstanceID,ur.nextInstanceID+=1,this.instanceID>0&&_t()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},GP),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new VP({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=cx(i.fetch),this.lock=i.lock||Sf,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:_t()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=zP:this.lock=Sf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:lx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_f(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=_f(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}get jwks(){var e,s;return(s=(e=Nn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Nn[this.storageKey]=Object.assign(Object.assign({},Nn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Nn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Nn[this.storageKey]=Object.assign(Object.assign({},Nn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ix}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=bP(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),_t()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:r}=await this._getSessionFromURL(s,n);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),cP(r)){const l=(e=r.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return X(s)?{error:s}:{error:new ox("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,i;try{const r=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Kt}),{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var s,n,i;try{let r;if("email"in e){const{email:u,password:h,options:f}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Pn(this.storage,this.storageKey)),r=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:u,password:h,data:(s=f?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:g},xform:Kt})}else if("phone"in e){const{phone:u,password:h,options:f}=e;r=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f?.data)!==null&&n!==void 0?n:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Kt})}else throw new Xr("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let s;if("email"in e){const{email:r,password:o,options:a}=e;s=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:wf})}else if("phone"in e){const{phone:r,password:o,options:a}=e;s=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:wf})}else throw new Xr("You must provide either an email or phone number and a password");const{data:n,error:i}=s;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new _i}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(s){if(X(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,n,i,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,n,i,r,o,a,l,c,u,h,f;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:p,wallet:y,statement:v,options:x}=e;let w;if(_t())if(typeof y=="object")w=y;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")w=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!x?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const S=new URL((s=x?.url)!==null&&s!==void 0?s:window.location.href),_=await w.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=ux(_[0]);let C=(n=x?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const E=await w.request({method:"eth_chainId"});C=HP(E)}const j={domain:S.host,address:T,statement:v,uri:S.href,version:"1",chainId:C,nonce:(i=x?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(r=x?.signInWithEthereum)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=x?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=x?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=x?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=x?.signInWithEthereum)===null||u===void 0?void 0:u.resources};m=KP(j),g=await w.request({method:"personal_sign",params:[qP(m),T]})}try{const{data:p,error:y}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Kt});if(y)throw y;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new _i}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:y})}catch(p){if(X(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithSolana(e){var s,n,i,r,o,a,l,c,u,h,f,m;let g,p;if("message"in e)g=e.message,p=e.signature;else{const{chain:y,wallet:v,statement:x,options:w}=e;let S;if(_t())if(typeof v=="object")S=v;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))S=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const _=new URL((s=w?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in S&&S.signIn){const T=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),x?{statement:x}:null));let C;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")C=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)C=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),p=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(n=w?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((r=w?.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(u=w?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const T=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=T}}try{const{data:y,error:v}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:gP(p)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Kt});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new _i}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(X(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const s=await Us(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(s??"").split("/");try{const{data:r,error:o}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Kt});if(await ws(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new _i}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:o})}catch(r){if(X(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:s,provider:n,token:i,access_token:r,nonce:o}=e,a=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Kt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new _i}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(X(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,n,i,r,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Pn(this.storage,this.storageKey));const{error:h}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new Xr("You must provide either an email or phone number.")}catch(a){if(X(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,n;try{let i,r;"options"in e&&(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo,r=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:Kt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(X(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var s,n,i;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await Pn(this.storage,this.storageKey)),await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:DP})}catch(r){if(X(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new Ts;const{error:i}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(X(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:r}=e,{error:o}=await le(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}},redirectTo:r?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:r}=e,{data:o,error:a}=await le(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new Xr("You must provide either an email or phone number and a type")}catch(s){if(X(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Us(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<yl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Us(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=vl()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:js}):await this._useSession(async s=>{var n,i,r;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ts}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:js})})}catch(s){if(X(s))return lP(s)&&(await this._removeSession(),await ws(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:i,error:r}=n;if(r)throw r;if(!i.session)throw new Ts;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Pn(this.storage,this.storageKey));const{data:c,error:u}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:js});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ts;const s=Date.now()/1e3;let n=s,i=!0,r=null;const{payload:o}=bl(e.access_token);if(o.exp&&(n=o.exp,i=n<=s),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;r={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(s){if(X(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new Ts;const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(X(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!_t())throw new Jr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Jr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new mf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new mf("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!r||!a||!o||!c)throw new Jr("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;l&&(f=parseInt(l));const m=f-u;m*1e3<=Ln&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const g=f-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:p,error:y}=await this._getUser(r);if(y)throw y;const v={provider_token:n,provider_refresh_token:i,access_token:r,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(n){if(X(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Us(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:i,error:r}=s;if(r)return{error:r};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(aP(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ws(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=xP(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,i;try{const{data:{session:r},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,s={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Pn(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(r){if(X(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:n,error:i}=await this._useSession(async r=>{var o,a,l,c,u;const{data:h,error:f}=r;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return _t()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(X(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,i;const{data:r,error:o}=s;if(o)throw o;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(X(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await _P(async i=>(i>0&&await wP(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Kt})),(i,r)=>{const o=200*Math.pow(2,i);return r&&xl(r)&&Date.now()+o-n<Ln})}catch(n){if(this._debug(s,"error",n),X(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),_t()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,s;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Us(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Us(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await $n(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:vl()}else if(i&&!i.user&&!i.user){const o=await Us(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await ws(this.storage,this.storageKey+"-user"),await $n(this.storage,this.storageKey,i)):i.user=vl()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const r=((s=i.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<yl;if(this._debug(n,`session has${r?"":" not"} expired with margin of ${yl}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),xl(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new Ts;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Pa;const{data:r,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!r.session)throw new Ts;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={session:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(i,"error",r),X(r)){const o={session:null,error:r};return xl(r)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,s,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),n=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&s.user&&await $n(this.userStorage,this.storageKey+"-user",{user:s.user});const i=Object.assign({},s);delete i.user;const r=bf(i);await $n(this.storage,this.storageKey,r)}else{const i=bf(s);await $n(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ws(this.storage,this.storageKey),await ws(this.storage,this.storageKey+"-code-verifier"),await ws(this.storage,this.storageKey+"-user"),this.userStorage&&await ws(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_t()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ln);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Ln);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ln}ms, refresh threshold is ${Sc} ticks`),i<=Sc&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof dx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const i=[`provider=${encodeURIComponent(s)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[r,o]=await Pn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n?.queryParams){const r=new URLSearchParams(n.queryParams);i.push(r.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:i,error:r}=s;return r?{data:null,error:r}:await le(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(X(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,i;const{data:r,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await le(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(X(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:r}=s;if(r)return{data:null,error:r};const{data:o,error:a}=await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(X(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:r}=s;return r?{data:null,error:r}:await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(X(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=e?.factors||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),r=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,n;const{data:{session:i},error:r}=e;if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=bl(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(s=i.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,s={keys:[]}){let n=s.keys.find(a=>a.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+rP>i)return n;const{data:r,error:o}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=i,n=r.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,s={}){try{let n=e;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:i,payload:r,signature:o,raw:{header:a,payload:l}}=bl(n);s?.allowExpired||EP(r.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!c){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:r,header:i,signature:o},error:null}}const u=AP(i.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,pP(`${a}.${l}`)))throw new jc("Invalid JWT signature");return{data:{claims:r,header:i,signature:o},error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}}ur.nextInstanceID=0;const YP=ur;class XP extends YP{constructor(e){super(e)}}var JP=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class QP{constructor(e,s,n){var i,r,o;this.supabaseUrl=e,this.supabaseKey=s;const a=eP(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:zk,realtime:qk,auth:Object.assign(Object.assign({},Hk),{storageKey:l}),global:Wk},u=Zk(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=u.global.headers)!==null&&r!==void 0?r:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Xk(s,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new ok(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Bk(this.storageUrl.href,this.headers,this.fetch,n?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Xj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n={}){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return JP(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:i,userStorage:r,storageKey:o,flowType:a,lock:l,debug:c},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new XP({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:i,userStorage:r,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Sk(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n?.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ZP=(t,e,s)=>new QP(t,e,s);function eE(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}eE()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const hx="https://mmnrtmkuueqohhaddtxc.supabase.co",fx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1tbnJ0bWt1dWVxb2hoYWRkdHhjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MjU3NjcsImV4cCI6MjA3NDQwMTc2N30.vYVzIgkdia8birnp0StgUrEKw4PZZcxcM1U4aqILfN4";console.log("Supabase URL:",hx);console.log("Supabase Key (first 20 chars):",fx.substring(0,20)+"...");const Vt=ZP(hx,fx,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),mx=async()=>{const{error:t}=await Vt.auth.signOut();return{error:t}},Ea=async()=>{const{data:{user:t}}=await Vt.auth.getUser();return t},tE=async()=>{const{data:{session:t}}=await Vt.auth.getSession();return t},sE=t=>Vt.auth.onAuthStateChange(t),nE=async t=>{const e=await Ea();if(!e)return{error:new Error("No authenticated user")};const{data:s,error:n}=await Vt.from("profiles").upsert({id:e.id,...t,updated_at:new Date().toISOString()}).select().single();return{data:s,error:n}},iE=async t=>{const e=(await Ea())?.id;if(!e)return{data:null,error:new Error("No user ID provided")};const{data:s,error:n}=await Vt.from("profiles").select("*").eq("id",e).single();return{data:s,error:n}},px=b.createContext({user:null,session:null,loading:!0}),Aa=()=>{const t=b.useContext(px);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},rE=({children:t})=>{const[e,s]=b.useState(null),[n,i]=b.useState(null),[r,o]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const u=await Ea(),h=await tE();s(u),i(h)}catch(u){console.error("Error getting initial session:",u)}finally{o(!1)}})();const{data:{subscription:c}}=sE(async(u,h)=>{console.log("Auth state changed:",u,h?.user?.email),i(h),s(h?.user??null),o(!1)});return()=>{c?.unsubscribe()}},[]);const a={user:e,session:n,loading:r};return d.jsx(px.Provider,{value:a,children:t})},oE={theme:"system",setTheme:()=>null},gx=b.createContext(oE);function aE({children:t,defaultTheme:e="system",storageKey:s="vite-ui-theme",...n}){const[i,r]=b.useState(()=>localStorage.getItem(s)||e);b.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),i==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(i)},[i]);const o={theme:i,setTheme:a=>{localStorage.setItem(s,a),r(a)}};return d.jsx(gx.Provider,{...n,value:o,children:t})}const lE=()=>{const t=b.useContext(gx);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},cE=Nr("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),J=b.forwardRef(({className:t,variant:e,size:s,asChild:n=!1,...i},r)=>{const o=n?mS:"button";return d.jsx(o,{className:K(cE({variant:e,size:s,className:t})),ref:r,...i})});J.displayName="Button";var _l={exports:{}},Sl={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf;function dE(){if(Tf)return Sl;Tf=1;var t=dT();function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var s=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,r=t.useLayoutEffect,o=t.useDebugValue;function a(h,f){var m=f(),g=n({inst:{value:m,getSnapshot:f}}),p=g[0].inst,y=g[1];return r(function(){p.value=m,p.getSnapshot=f,l(p)&&y({inst:p})},[h,m,f]),i(function(){return l(p)&&y({inst:p}),h(function(){l(p)&&y({inst:p})})},[h]),o(m),m}function l(h){var f=h.getSnapshot;h=h.value;try{var m=f();return!s(h,m)}catch{return!0}}function c(h,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return Sl.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,Sl}var Cf;function uE(){return Cf||(Cf=1,_l.exports=dE()),_l.exports}var hE=uE();function fE(){return hE.useSyncExternalStore(mE,()=>!0,()=>!1)}function mE(){return()=>{}}var Ud="Avatar",[pE]=Ms(Ud),[gE,yx]=pE(Ud),xx=b.forwardRef((t,e)=>{const{__scopeAvatar:s,...n}=t,[i,r]=b.useState("idle");return d.jsx(gE,{scope:s,imageLoadingStatus:i,onImageLoadingStatusChange:r,children:d.jsx(ce.span,{...n,ref:e})})});xx.displayName=Ud;var bx="AvatarImage",vx=b.forwardRef((t,e)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:i=()=>{},...r}=t,o=yx(bx,s),a=yE(n,r),l=xt(c=>{i(c),o.onImageLoadingStatusChange(c)});return mt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?d.jsx(ce.img,{...r,ref:e,src:n}):null});vx.displayName=bx;var wx="AvatarFallback",_x=b.forwardRef((t,e)=>{const{__scopeAvatar:s,delayMs:n,...i}=t,r=yx(wx,s),[o,a]=b.useState(n===void 0);return b.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>a(!0),n);return()=>window.clearTimeout(l)}},[n]),o&&r.imageLoadingStatus!=="loaded"?d.jsx(ce.span,{...i,ref:e}):null});_x.displayName=wx;function jf(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function yE(t,{referrerPolicy:e,crossOrigin:s}){const n=fE(),i=b.useRef(null),r=n?(i.current||(i.current=new window.Image),i.current):null,[o,a]=b.useState(()=>jf(r,t));return mt(()=>{a(jf(r,t))},[r,t]),mt(()=>{const l=h=>()=>{a(h)};if(!r)return;const c=l("loaded"),u=l("error");return r.addEventListener("load",c),r.addEventListener("error",u),e&&(r.referrerPolicy=e),typeof s=="string"&&(r.crossOrigin=s),()=>{r.removeEventListener("load",c),r.removeEventListener("error",u)}},[r,s,e]),o}var Sx=xx,Tx=vx,Cx=_x;const si=b.forwardRef(({className:t,...e},s)=>d.jsx(Sx,{ref:s,className:K("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));si.displayName=Sx.displayName;const Go=b.forwardRef(({className:t,...e},s)=>d.jsx(Tx,{ref:s,className:K("aspect-square h-full w-full",t),...e}));Go.displayName=Tx.displayName;const ni=b.forwardRef(({className:t,...e},s)=>d.jsx(Cx,{ref:s,className:K("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));ni.displayName=Cx.displayName;const jx=yS,kx=xS,xE=b.forwardRef(({className:t,inset:e,children:s,...n},i)=>d.jsxs(Og,{ref:i,className:K("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...n,children:[s,d.jsx(pS,{className:"ml-auto h-4 w-4"})]}));xE.displayName=Og.displayName;const bE=b.forwardRef(({className:t,...e},s)=>d.jsx(Dg,{ref:s,className:K("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));bE.displayName=Dg.displayName;const Wd=b.forwardRef(({className:t,sideOffset:e=4,...s},n)=>d.jsx(gS,{children:d.jsx(Lg,{ref:n,sideOffset:e,className:K("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));Wd.displayName=Lg.displayName;const Yn=b.forwardRef(({className:t,inset:e,...s},n)=>d.jsx($g,{ref:n,className:K("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...s}));Yn.displayName=$g.displayName;const vE=b.forwardRef(({className:t,children:e,checked:s,...n},i)=>d.jsxs(Fg,{ref:i,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:s,...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Bg,{children:d.jsx(ct,{className:"h-4 w-4"})})}),e]}));vE.displayName=Fg.displayName;const wE=b.forwardRef(({className:t,children:e,...s},n)=>d.jsxs(Vg,{ref:n,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...s,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Bg,{children:d.jsx(Ug,{className:"h-2 w-2 fill-current"})})}),e]}));wE.displayName=Vg.displayName;const _E=b.forwardRef(({className:t,inset:e,...s},n)=>d.jsx(Wg,{ref:n,className:K("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...s}));_E.displayName=Wg.displayName;const kc=b.forwardRef(({className:t,...e},s)=>d.jsx(zg,{ref:s,className:K("-mx-1 my-1 h-px bg-muted",t),...e}));kc.displayName=zg.displayName;function kf(){const{setTheme:t}=lE();return d.jsxs(jx,{children:[d.jsx(kx,{asChild:!0,children:d.jsxs(J,{variant:"outline",size:"icon",children:[d.jsx(rl,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),d.jsx(Eh,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),d.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),d.jsxs(Wd,{align:"end",children:[d.jsxs(Yn,{onClick:()=>t("light"),children:[d.jsx(rl,{className:"mr-2 h-4 w-4"}),"Light"]}),d.jsxs(Yn,{onClick:()=>t("dark"),children:[d.jsx(Eh,{className:"mr-2 h-4 w-4"}),"Dark"]}),d.jsxs(Yn,{onClick:()=>t("system"),children:[d.jsx(rl,{className:"mr-2 h-4 w-4"}),"System"]})]})]})}const SE=()=>{const[t,e]=b.useState(!1),s=Qg(),{user:n,loading:i}=Aa(),r=[{name:"Home",path:"/"},{name:"About",path:"/about"},{name:"Impact",path:"/impact"},{name:"Calculator",path:"/calculator"},{name:"Destinations",path:"/destinations"},{name:"Tips",path:"/tips"},{name:"Data",path:"/data"},{name:"News",path:"/news"},{name:"Community",path:"/community"},{name:"Notes",path:"/notes"},{name:"Feedback",path:"/feedback"}],o=c=>s.pathname===c,a=async()=>{try{await mx()}catch(c){console.error("Error signing out:",c)}},l=()=>n?.user_metadata?.full_name?n.user_metadata.full_name.split(" ").map(c=>c[0]).join("").toUpperCase().slice(0,2):n?.email?.[0]?.toUpperCase()||"U";return d.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-card/95 backdrop-blur-md border-b border-border shadow-card-eco safe-area-top",children:[d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[d.jsxs(it,{to:"/",className:"flex items-center space-x-1 sm:space-x-2 text-primary font-bold text-lg sm:text-xl",children:[d.jsx(Ut,{className:"h-6 w-6 sm:h-8 sm:w-8 text-nature-accent flex-shrink-0"}),d.jsx("span",{className:"hidden xs:block sm:block",children:"EcoTravel"})]}),d.jsxs("div",{className:"hidden lg:flex items-center space-x-1",children:[r.map(c=>d.jsx(it,{to:c.path,className:`px-2 xl:px-3 py-2 rounded-md text-xs xl:text-sm font-medium transition-colors duration-200 touch-target ${o(c.path)?"bg-primary text-primary-foreground":"text-foreground hover:text-primary hover:bg-muted"}`,children:c.name},c.name)),d.jsx("div",{className:"ml-4",children:d.jsx(kf,{})}),d.jsx("div",{className:"ml-2",children:i?d.jsx("div",{className:"w-8 h-8 bg-muted rounded-full animate-pulse"}):n?d.jsxs(jx,{children:[d.jsx(kx,{asChild:!0,children:d.jsx(J,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:d.jsxs(si,{className:"h-8 w-8",children:[d.jsx(Go,{src:n.user_metadata?.avatar_url}),d.jsx(ni,{children:l()})]})})}),d.jsxs(Wd,{className:"w-56",align:"end",forceMount:!0,children:[d.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:d.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[n.user_metadata?.full_name&&d.jsx("p",{className:"font-medium",children:n.user_metadata.full_name}),n.email&&d.jsx("p",{className:"w-[200px] truncate text-sm text-muted-foreground",children:n.email})]})}),d.jsx(kc,{}),d.jsx(Yn,{asChild:!0,children:d.jsxs(it,{to:"/profile",className:"cursor-pointer",children:[d.jsx(Uo,{className:"mr-2 h-4 w-4"}),"Profile"]})}),d.jsx(kc,{}),d.jsxs(Yn,{onClick:a,className:"cursor-pointer",children:[d.jsx(rc,{className:"mr-2 h-4 w-4"}),"Sign out"]})]})]}):d.jsx(it,{to:"/auth",children:d.jsx(J,{variant:"default",size:"sm",children:"Sign In"})})})]}),d.jsx("div",{className:"lg:hidden",children:d.jsx(J,{variant:"ghost",size:"sm",onClick:()=>e(!t),"aria-label":"Toggle menu",children:t?d.jsx(Sd,{className:"h-6 w-6"}):d.jsx(bS,{className:"h-6 w-6"})})})]})}),t&&d.jsx("div",{className:"lg:hidden bg-card border-t border-border max-h-[calc(100vh-4rem)] overflow-y-auto safe-area-bottom",children:d.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[r.map(c=>d.jsx(it,{to:c.path,onClick:()=>e(!1),className:`block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 ${o(c.path)?"bg-primary text-primary-foreground":"text-foreground hover:text-primary hover:bg-muted"}`,children:c.name},c.name)),d.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[d.jsx("span",{className:"text-base font-medium text-foreground",children:"Theme"}),d.jsx(kf,{})]}),n?d.jsxs("div",{className:"px-3 py-2 border-t border-border",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsxs(si,{className:"h-8 w-8",children:[d.jsx(Go,{src:n.user_metadata?.avatar_url}),d.jsx(ni,{children:l()})]}),d.jsxs("div",{children:[n.user_metadata?.full_name&&d.jsx("p",{className:"font-medium text-sm",children:n.user_metadata.full_name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:n.email})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs(it,{to:"/profile",onClick:()=>e(!1),className:"flex items-center px-3 py-2 text-sm rounded-md hover:bg-muted",children:[d.jsx(Uo,{className:"mr-2 h-4 w-4"}),"Profile"]}),d.jsxs(J,{variant:"ghost",onClick:()=>{a(),e(!1)},className:"w-full justify-start text-sm px-3 py-2",children:[d.jsx(rc,{className:"mr-2 h-4 w-4"}),"Sign out"]})]})]}):d.jsx("div",{className:"px-3 py-2 border-t border-border",children:d.jsx(it,{to:"/auth",onClick:()=>e(!1),children:d.jsx(J,{variant:"default",size:"sm",className:"w-full",children:"Sign In"})})})]})})]})},TE=()=>{const t=[{name:"Home",path:"/"},{name:"About",path:"/about"},{name:"Calculator",path:"/calculator"},{name:"Destinations",path:"/destinations"},{name:"Tips",path:"/tips"}],e=[{name:"Impact Data",path:"/data"},{name:"News & Articles",path:"/news"},{name:"Community",path:"/community"},{name:"Feedback",path:"/feedback"}],s=[{name:"Facebook",icon:vS,href:"#"},{name:"Twitter",icon:wS,href:"#"},{name:"Instagram",icon:_S,href:"#"},{name:"YouTube",icon:SS,href:"#"}];return d.jsx("footer",{className:"bg-primary text-primary-foreground",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[d.jsxs("div",{className:"md:col-span-1",children:[d.jsxs(it,{to:"/",className:"flex items-center space-x-2 text-primary-foreground font-bold text-xl mb-4",children:[d.jsx(Ut,{className:"h-8 w-8 text-nature-accent"}),d.jsx("span",{children:"EcoTravel"})]}),d.jsx("p",{className:"text-primary-foreground/80 text-sm leading-relaxed",children:"Promoting sustainable tourism practices and raising awareness about climate change impacts on travel destinations worldwide."})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Quick Links"}),d.jsx("ul",{className:"space-y-2",children:t.map(n=>d.jsx("li",{children:d.jsx(it,{to:n.path,className:"text-primary-foreground/80 hover:text-nature-accent transition-colors duration-200 text-sm",children:n.name})},n.name))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Resources"}),d.jsx("ul",{className:"space-y-2",children:e.map(n=>d.jsx("li",{children:d.jsx(it,{to:n.path,className:"text-primary-foreground/80 hover:text-nature-accent transition-colors duration-200 text-sm",children:n.name})},n.name))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Connect With Us"}),d.jsx("div",{className:"flex space-x-4 mb-4",children:s.map(n=>{const i=n.icon;return d.jsx("a",{href:n.href,className:"text-primary-foreground/80 hover:text-nature-accent transition-colors duration-200","aria-label":n.name,children:d.jsx(i,{className:"h-5 w-5"})},n.name)})}),d.jsx("p",{className:"text-primary-foreground/80 text-sm",children:"Join our mission for sustainable travel and climate awareness."})]})]}),d.jsx("div",{className:"border-t border-primary-foreground/20 mt-8 pt-8 text-center",children:d.jsxs("p",{className:"text-primary-foreground/60 text-sm",children:["© ",new Date().getFullYear()," EcoTravel Initiative. Built with care for our planet."]})})]})})},tt=b.forwardRef(({className:t,type:e,...s},n)=>d.jsx("input",{type:e,className:K("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...s}));tt.displayName="Input";const se=b.forwardRef(({className:t,...e},s)=>d.jsx("div",{ref:s,className:K("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));se.displayName="Card";const _e=b.forwardRef(({className:t,...e},s)=>d.jsx("div",{ref:s,className:K("flex flex-col space-y-1.5 p-6",t),...e}));_e.displayName="CardHeader";const Te=b.forwardRef(({className:t,...e},s)=>d.jsx("h3",{ref:s,className:K("text-2xl font-semibold leading-none tracking-tight",t),...e}));Te.displayName="CardTitle";const Yo=b.forwardRef(({className:t,...e},s)=>d.jsx("p",{ref:s,className:K("text-sm text-muted-foreground",t),...e}));Yo.displayName="CardDescription";const re=b.forwardRef(({className:t,...e},s)=>d.jsx("div",{ref:s,className:K("p-6 pt-0",t),...e}));re.displayName="CardContent";const CE=b.forwardRef(({className:t,...e},s)=>d.jsx("div",{ref:s,className:K("flex items-center p-6 pt-0",t),...e}));CE.displayName="CardFooter";function Pc(t,[e,s]){return Math.min(s,Math.max(e,t))}function jE(t,e){return b.useReducer((s,n)=>e[s][n]??s,t)}var zd="ScrollArea",[Px]=Ms(zd),[kE,At]=Px(zd),Ex=b.forwardRef((t,e)=>{const{__scopeScrollArea:s,type:n="hover",dir:i,scrollHideDelay:r=600,...o}=t,[a,l]=b.useState(null),[c,u]=b.useState(null),[h,f]=b.useState(null),[m,g]=b.useState(null),[p,y]=b.useState(null),[v,x]=b.useState(0),[w,S]=b.useState(0),[_,T]=b.useState(!1),[C,j]=b.useState(!1),E=Ne(e,A=>l(A)),k=Td(i);return d.jsx(kE,{scope:s,type:n,dir:k,scrollHideDelay:r,scrollArea:a,viewport:c,onViewportChange:u,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:_,onScrollbarXEnabledChange:T,scrollbarY:p,onScrollbarYChange:y,scrollbarYEnabled:C,onScrollbarYEnabledChange:j,onCornerWidthChange:x,onCornerHeightChange:S,children:d.jsx(ce.div,{dir:k,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});Ex.displayName=zd;var Ax="ScrollAreaViewport",Nx=b.forwardRef((t,e)=>{const{__scopeScrollArea:s,children:n,nonce:i,...r}=t,o=At(Ax,s),a=b.useRef(null),l=Ne(e,a,o.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),d.jsx(ce.div,{"data-radix-scroll-area-viewport":"",...r,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:d.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Nx.displayName=Ax;var ss="ScrollAreaScrollbar",Hd=b.forwardRef((t,e)=>{const{forceMount:s,...n}=t,i=At(ss,t.__scopeScrollArea),{onScrollbarXEnabledChange:r,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return b.useEffect(()=>(a?r(!0):o(!0),()=>{a?r(!1):o(!1)}),[a,r,o]),i.type==="hover"?d.jsx(PE,{...n,ref:e,forceMount:s}):i.type==="scroll"?d.jsx(EE,{...n,ref:e,forceMount:s}):i.type==="auto"?d.jsx(Rx,{...n,ref:e,forceMount:s}):i.type==="always"?d.jsx(qd,{...n,ref:e}):null});Hd.displayName=ss;var PE=b.forwardRef((t,e)=>{const{forceMount:s,...n}=t,i=At(ss,t.__scopeScrollArea),[r,o]=b.useState(!1);return b.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),d.jsx(pn,{present:s||r,children:d.jsx(Rx,{"data-state":r?"visible":"hidden",...n,ref:e})})}),EE=b.forwardRef((t,e)=>{const{forceMount:s,...n}=t,i=At(ss,t.__scopeScrollArea),r=t.orientation==="horizontal",o=Ra(()=>l("SCROLL_END"),100),[a,l]=jE("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),b.useEffect(()=>{const c=i.viewport,u=r?"scrollLeft":"scrollTop";if(c){let h=c[u];const f=()=>{const m=c[u];h!==m&&(l("SCROLL"),o()),h=m};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,r,l,o]),d.jsx(pn,{present:s||a!=="hidden",children:d.jsx(qd,{"data-state":a==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Z(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Z(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),Rx=b.forwardRef((t,e)=>{const s=At(ss,t.__scopeScrollArea),{forceMount:n,...i}=t,[r,o]=b.useState(!1),a=t.orientation==="horizontal",l=Ra(()=>{if(s.viewport){const c=s.viewport.offsetWidth<s.viewport.scrollWidth,u=s.viewport.offsetHeight<s.viewport.scrollHeight;o(a?c:u)}},10);return ii(s.viewport,l),ii(s.content,l),d.jsx(pn,{present:n||r,children:d.jsx(qd,{"data-state":r?"visible":"hidden",...i,ref:e})})}),qd=b.forwardRef((t,e)=>{const{orientation:s="vertical",...n}=t,i=At(ss,t.__scopeScrollArea),r=b.useRef(null),o=b.useRef(0),[a,l]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=Lx(a.viewport,a.content),u={...n,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>r.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return OE(f,o.current,a,m)}return s==="horizontal"?d.jsx(AE,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&r.current){const f=i.viewport.scrollLeft,m=Pf(f,a,i.dir);r.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=h(f,i.dir))}}):s==="vertical"?d.jsx(NE,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&r.current){const f=i.viewport.scrollTop,m=Pf(f,a);r.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=h(f))}}):null}),AE=b.forwardRef((t,e)=>{const{sizes:s,onSizesChange:n,...i}=t,r=At(ss,t.__scopeScrollArea),[o,a]=b.useState(),l=b.useRef(null),c=Ne(e,l,r.onScrollbarXChange);return b.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(Mx,{"data-orientation":"horizontal",...i,ref:c,sizes:s,style:{bottom:0,left:r.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:r.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Na(s)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(r.viewport){const f=r.viewport.scrollLeft+u.deltaX;t.onWheelScroll(f),Fx(f,h)&&u.preventDefault()}},onResize:()=>{l.current&&r.viewport&&o&&n({content:r.viewport.scrollWidth,viewport:r.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Jo(o.paddingLeft),paddingEnd:Jo(o.paddingRight)}})}})}),NE=b.forwardRef((t,e)=>{const{sizes:s,onSizesChange:n,...i}=t,r=At(ss,t.__scopeScrollArea),[o,a]=b.useState(),l=b.useRef(null),c=Ne(e,l,r.onScrollbarYChange);return b.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(Mx,{"data-orientation":"vertical",...i,ref:c,sizes:s,style:{top:0,right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Na(s)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(r.viewport){const f=r.viewport.scrollTop+u.deltaY;t.onWheelScroll(f),Fx(f,h)&&u.preventDefault()}},onResize:()=>{l.current&&r.viewport&&o&&n({content:r.viewport.scrollHeight,viewport:r.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Jo(o.paddingTop),paddingEnd:Jo(o.paddingBottom)}})}})}),[RE,Ix]=Px(ss),Mx=b.forwardRef((t,e)=>{const{__scopeScrollArea:s,sizes:n,hasThumb:i,onThumbChange:r,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:h,...f}=t,m=At(ss,s),[g,p]=b.useState(null),y=Ne(e,E=>p(E)),v=b.useRef(null),x=b.useRef(""),w=m.viewport,S=n.content-n.viewport,_=xt(u),T=xt(l),C=Ra(h,10);function j(E){if(v.current){const k=E.clientX-v.current.left,A=E.clientY-v.current.top;c({x:k,y:A})}}return b.useEffect(()=>{const E=k=>{const A=k.target;g?.contains(A)&&_(k,S)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[w,g,S,_]),b.useEffect(T,[n,T]),ii(g,C),ii(m.content,C),d.jsx(RE,{scope:s,scrollbar:g,hasThumb:i,onThumbChange:xt(r),onThumbPointerUp:xt(o),onThumbPositionChange:T,onThumbPointerDown:xt(a),children:d.jsx(ce.div,{...f,ref:y,style:{position:"absolute",...f.style},onPointerDown:Z(t.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),v.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),j(E))}),onPointerMove:Z(t.onPointerMove,j),onPointerUp:Z(t.onPointerUp,E=>{const k=E.target;k.hasPointerCapture(E.pointerId)&&k.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),v.current=null})})})}),Xo="ScrollAreaThumb",Ox=b.forwardRef((t,e)=>{const{forceMount:s,...n}=t,i=Ix(Xo,t.__scopeScrollArea);return d.jsx(pn,{present:s||i.hasThumb,children:d.jsx(IE,{ref:e,...n})})}),IE=b.forwardRef((t,e)=>{const{__scopeScrollArea:s,style:n,...i}=t,r=At(Xo,s),o=Ix(Xo,s),{onThumbPositionChange:a}=o,l=Ne(e,h=>o.onThumbChange(h)),c=b.useRef(void 0),u=Ra(()=>{c.current&&(c.current(),c.current=void 0)},100);return b.useEffect(()=>{const h=r.viewport;if(h){const f=()=>{if(u(),!c.current){const m=DE(h,a);c.current=m,a()}};return a(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[r.viewport,u,a]),d.jsx(ce.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Z(t.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),g=h.clientX-m.left,p=h.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:Z(t.onPointerUp,o.onThumbPointerUp)})});Ox.displayName=Xo;var Kd="ScrollAreaCorner",Dx=b.forwardRef((t,e)=>{const s=At(Kd,t.__scopeScrollArea),n=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&n?d.jsx(ME,{...t,ref:e}):null});Dx.displayName=Kd;var ME=b.forwardRef((t,e)=>{const{__scopeScrollArea:s,...n}=t,i=At(Kd,s),[r,o]=b.useState(0),[a,l]=b.useState(0),c=!!(r&&a);return ii(i.scrollbarX,()=>{const u=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(u),l(u)}),ii(i.scrollbarY,()=>{const u=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(u),o(u)}),c?d.jsx(ce.div,{...n,ref:e,style:{width:r,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Jo(t){return t?parseInt(t,10):0}function Lx(t,e){const s=t/e;return isNaN(s)?0:s}function Na(t){const e=Lx(t.viewport,t.content),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-s)*e;return Math.max(n,18)}function OE(t,e,s,n="ltr"){const i=Na(s),r=i/2,o=e||r,a=i-o,l=s.scrollbar.paddingStart+o,c=s.scrollbar.size-s.scrollbar.paddingEnd-a,u=s.content-s.viewport,h=n==="ltr"?[0,u]:[u*-1,0];return $x([l,c],h)(t)}function Pf(t,e,s="ltr"){const n=Na(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=e.scrollbar.size-i,o=e.content-e.viewport,a=r-n,l=s==="ltr"?[0,o]:[o*-1,0],c=Pc(t,l);return $x([0,o],[0,a])(c)}function $x(t,e){return s=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(s-t[0])}}function Fx(t,e){return t>0&&t<e}var DE=(t,e=()=>{})=>{let s={left:t.scrollLeft,top:t.scrollTop},n=0;return(function i(){const r={left:t.scrollLeft,top:t.scrollTop},o=s.left!==r.left,a=s.top!==r.top;(o||a)&&e(),s=r,n=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(n)};function Ra(t,e){const s=xt(t),n=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),b.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(s,e)},[s,e])}function ii(t,e){const s=xt(e);mt(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(s)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,s])}var Bx=Ex,LE=Nx,$E=Dx;const Vx=b.forwardRef(({className:t,children:e,...s},n)=>d.jsxs(Bx,{ref:n,className:K("relative overflow-hidden",t),...s,children:[d.jsx(LE,{className:"h-full w-full rounded-[inherit]",children:e}),d.jsx(Ux,{}),d.jsx($E,{})]}));Vx.displayName=Bx.displayName;const Ux=b.forwardRef(({className:t,orientation:e="vertical",...s},n)=>d.jsx(Hd,{ref:n,orientation:e,className:K("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...s,children:d.jsx(Ox,{className:"relative flex-1 rounded-full bg-border"})}));Ux.displayName=Hd.displayName;function q(t,e,s,n,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,s),s}function P(t,e,s,n){if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?n:s==="a"?n.call(t):n?n.value:e.get(t)}let Wx=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return Wx=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),s=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^s()&15>>+n/4).toString(16))};function Ec(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Ac=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class W extends Error{}class Xe extends W{constructor(e,s,n,i){super(`${Xe.makeMessage(e,s,n)}`),this.status=e,this.headers=i,this.requestID=i?.get("x-request-id"),this.error=s;const r=s;this.code=r?.code,this.param=r?.param,this.type=r?.type}static makeMessage(e,s,n){const i=s?.message?typeof s.message=="string"?s.message:JSON.stringify(s.message):s?JSON.stringify(s):n;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,s,n,i){if(!e||!i)return new Ia({message:n,cause:Ac(s)});const r=s?.error;return e===400?new zx(e,r,n,i):e===401?new Hx(e,r,n,i):e===403?new qx(e,r,n,i):e===404?new Kx(e,r,n,i):e===409?new Gx(e,r,n,i):e===422?new Yx(e,r,n,i):e===429?new Xx(e,r,n,i):e>=500?new Jx(e,r,n,i):new Xe(e,r,n,i)}}class Tt extends Xe{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ia extends Xe{constructor({message:e,cause:s}){super(void 0,void 0,e||"Connection error.",void 0),s&&(this.cause=s)}}class Gd extends Ia{constructor({message:e}={}){super({message:e??"Request timed out."})}}class zx extends Xe{}class Hx extends Xe{}class qx extends Xe{}class Kx extends Xe{}class Gx extends Xe{}class Yx extends Xe{}class Xx extends Xe{}class Jx extends Xe{}class Qx extends W{constructor(){super("Could not parse response content as the length limit was reached")}}class Zx extends W{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Ni extends Error{constructor(e){super(e)}}const FE=/^[a-z][a-z0-9+.-]*:/i,BE=t=>FE.test(t);let ut=t=>(ut=Array.isArray,ut(t)),Ef=ut;function eb(t){return typeof t!="object"?{}:t??{}}function VE(t){if(!t)return!0;for(const e in t)return!1;return!0}function UE(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Tl(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const WE=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new W(`${t} must be an integer`);if(e<0)throw new W(`${t} must be a positive integer`);return e},zE=t=>{try{return JSON.parse(t)}catch{return}},Mr=t=>new Promise(e=>setTimeout(e,t)),Fn="6.1.0",HE=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function qE(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const KE=()=>{const t=qE();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fn,"X-Stainless-OS":Nf(Deno.build.os),"X-Stainless-Arch":Af(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fn,"X-Stainless-OS":Nf(globalThis.process.platform??"unknown"),"X-Stainless-Arch":Af(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=GE();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function GE(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:s}of t){const n=s.exec(navigator.userAgent);if(n){const i=n[1]||0,r=n[2]||0,o=n[3]||0;return{browser:e,version:`${i}.${r}.${o}`}}}return null}const Af=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Nf=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Rf;const YE=()=>Rf??(Rf=KE());function XE(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function tb(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function sb(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return tb({start(){},async pull(s){const{done:n,value:i}=await e.next();n?s.close():s.enqueue(i)},async cancel(){await e.return?.()}})}function nb(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const s=await e.read();return s?.done&&e.releaseLock(),s}catch(s){throw e.releaseLock(),s}},async return(){const s=e.cancel();return e.releaseLock(),await s,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function JE(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),s=e.cancel();e.releaseLock(),await s}const QE=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),ib="RFC3986",rb=t=>String(t),If={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:rb},ZE="RFC1738";let Nc=(t,e)=>(Nc=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Nc(t,e));const Ht=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Cl=1024,eA=(t,e,s,n,i)=>{if(t.length===0)return t;let r=t;if(typeof t=="symbol"?r=Symbol.prototype.toString.call(t):typeof t!="string"&&(r=String(t)),s==="iso-8859-1")return escape(r).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let o="";for(let a=0;a<r.length;a+=Cl){const l=r.length>=Cl?r.slice(a,a+Cl):r,c=[];for(let u=0;u<l.length;++u){let h=l.charCodeAt(u);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||i===ZE&&(h===40||h===41)){c[c.length]=l.charAt(u);continue}if(h<128){c[c.length]=Ht[h];continue}if(h<2048){c[c.length]=Ht[192|h>>6]+Ht[128|h&63];continue}if(h<55296||h>=57344){c[c.length]=Ht[224|h>>12]+Ht[128|h>>6&63]+Ht[128|h&63];continue}u+=1,h=65536+((h&1023)<<10|l.charCodeAt(u)&1023),c[c.length]=Ht[240|h>>18]+Ht[128|h>>12&63]+Ht[128|h>>6&63]+Ht[128|h&63]}o+=c.join("")}return o};function tA(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function Mf(t,e){if(ut(t)){const s=[];for(let n=0;n<t.length;n+=1)s.push(e(t[n]));return s}return e(t)}const ob={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},ab=function(t,e){Array.prototype.push.apply(t,ut(e)?e:[e])};let Of;const Ve={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:eA,encodeValuesOnly:!1,format:ib,formatter:rb,indices:!1,serializeDate(t){return(Of??(Of=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function sA(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const jl={};function lb(t,e,s,n,i,r,o,a,l,c,u,h,f,m,g,p,y,v){let x=t,w=v,S=0,_=!1;for(;(w=w.get(jl))!==void 0&&!_;){const k=w.get(t);if(S+=1,typeof k<"u"){if(k===S)throw new RangeError("Cyclic object value");_=!0}typeof w.get(jl)>"u"&&(S=0)}if(typeof c=="function"?x=c(e,x):x instanceof Date?x=f?.(x):s==="comma"&&ut(x)&&(x=Mf(x,function(k){return k instanceof Date?f?.(k):k})),x===null){if(r)return l&&!p?l(e,Ve.encoder,y,"key",m):e;x=""}if(sA(x)||tA(x)){if(l){const k=p?e:l(e,Ve.encoder,y,"key",m);return[g?.(k)+"="+g?.(l(x,Ve.encoder,y,"value",m))]}return[g?.(e)+"="+g?.(String(x))]}const T=[];if(typeof x>"u")return T;let C;if(s==="comma"&&ut(x))p&&l&&(x=Mf(x,l)),C=[{value:x.length>0?x.join(",")||null:void 0}];else if(ut(c))C=c;else{const k=Object.keys(x);C=u?k.sort(u):k}const j=a?String(e).replace(/\./g,"%2E"):String(e),E=n&&ut(x)&&x.length===1?j+"[]":j;if(i&&ut(x)&&x.length===0)return E+"[]";for(let k=0;k<C.length;++k){const A=C[k],N=typeof A=="object"&&typeof A.value<"u"?A.value:x[A];if(o&&N===null)continue;const G=h&&a?A.replace(/\./g,"%2E"):A,F=ut(x)?typeof s=="function"?s(E,G):E:E+(h?"."+G:"["+G+"]");v.set(t,S);const M=new WeakMap;M.set(jl,v),ab(T,lb(N,F,s,n,i,r,o,a,s==="comma"&&p&&ut(x)?null:l,c,u,h,f,m,g,p,y,M))}return T}function nA(t=Ve){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||Ve.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let s=ib;if(typeof t.format<"u"){if(!Nc(If,t.format))throw new TypeError("Unknown format option provided.");s=t.format}const n=If[s];let i=Ve.filter;(typeof t.filter=="function"||ut(t.filter))&&(i=t.filter);let r;if(t.arrayFormat&&t.arrayFormat in ob?r=t.arrayFormat:"indices"in t?r=t.indices?"indices":"repeat":r=Ve.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:Ve.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Ve.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Ve.allowEmptyArrays,arrayFormat:r,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Ve.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Ve.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Ve.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Ve.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Ve.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Ve.encodeValuesOnly,filter:i,format:s,formatter:n,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Ve.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Ve.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Ve.strictNullHandling}}function iA(t,e={}){let s=t;const n=nA(e);let i,r;typeof n.filter=="function"?(r=n.filter,s=r("",s)):ut(n.filter)&&(r=n.filter,i=r);const o=[];if(typeof s!="object"||s===null)return"";const a=ob[n.arrayFormat],l=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(s)),n.sort&&i.sort(n.sort);const c=new WeakMap;for(let f=0;f<i.length;++f){const m=i[f];n.skipNulls&&s[m]===null||ab(o,lb(s[m],m,a,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}const u=o.join(n.delimiter);let h=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),u.length>0?h+u:""}function rA(t){let e=0;for(const i of t)e+=i.length;const s=new Uint8Array(e);let n=0;for(const i of t)s.set(i,n),n+=i.length;return s}let Df;function Yd(t){let e;return(Df??(e=new globalThis.TextEncoder,Df=e.encode.bind(e)))(t)}let Lf;function $f(t){let e;return(Lf??(e=new globalThis.TextDecoder,Lf=e.decode.bind(e)))(t)}var pt,gt;class Ma{constructor(){pt.set(this,void 0),gt.set(this,void 0),q(this,pt,new Uint8Array),q(this,gt,null)}decode(e){if(e==null)return[];const s=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Yd(e):e;q(this,pt,rA([P(this,pt,"f"),s]));const n=[];let i;for(;(i=oA(P(this,pt,"f"),P(this,gt,"f")))!=null;){if(i.carriage&&P(this,gt,"f")==null){q(this,gt,i.index);continue}if(P(this,gt,"f")!=null&&(i.index!==P(this,gt,"f")+1||i.carriage)){n.push($f(P(this,pt,"f").subarray(0,P(this,gt,"f")-1))),q(this,pt,P(this,pt,"f").subarray(P(this,gt,"f"))),q(this,gt,null);continue}const r=P(this,gt,"f")!==null?i.preceding-1:i.preceding,o=$f(P(this,pt,"f").subarray(0,r));n.push(o),q(this,pt,P(this,pt,"f").subarray(i.index)),q(this,gt,null)}return n}flush(){return P(this,pt,"f").length?this.decode(`
`):[]}}pt=new WeakMap,gt=new WeakMap;Ma.NEWLINE_CHARS=new Set([`
`,"\r"]);Ma.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function oA(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function aA(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}const Qo={off:0,error:200,warn:300,info:400,debug:500},Ff=(t,e,s)=>{if(t){if(UE(Qo,t))return t;Ke(s).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Qo))}`)}};function Ri(){}function Qr(t,e,s){return!e||Qo[t]>Qo[s]?Ri:e[t].bind(e)}const lA={error:Ri,warn:Ri,info:Ri,debug:Ri};let Bf=new WeakMap;function Ke(t){const e=t.logger,s=t.logLevel??"off";if(!e)return lA;const n=Bf.get(e);if(n&&n[0]===s)return n[1];const i={error:Qr("error",e,s),warn:Qr("warn",e,s),info:Qr("info",e,s),debug:Qr("debug",e,s)};return Bf.set(e,[s,i]),i}const Gs=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,s])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":s]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var Si;class Qt{constructor(e,s,n){this.iterator=e,Si.set(this,void 0),this.controller=s,q(this,Si,n)}static fromSSEResponse(e,s,n){let i=!1;const r=n?Ke(n):console;async function*o(){if(i)throw new W("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(const l of cA(e,s))if(!a){if(l.data.startsWith("[DONE]")){a=!0;continue}if(l.event===null||!l.event.startsWith("thread.")){let c;try{c=JSON.parse(l.data)}catch(u){throw r.error("Could not parse message into JSON:",l.data),r.error("From chunk:",l.raw),u}if(c&&c.error)throw new Xe(void 0,c.error,void 0,e.headers);yield c}else{let c;try{c=JSON.parse(l.data)}catch(u){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),u}if(l.event=="error")throw new Xe(void 0,c.error,c.message,void 0);yield{event:l.event,data:c}}}a=!0}catch(l){if(Ec(l))return;throw l}finally{a||s.abort()}}return new Qt(o,s,n)}static fromReadableStream(e,s,n){let i=!1;async function*r(){const a=new Ma,l=nb(e);for await(const c of l)for(const u of a.decode(c))yield u;for(const c of a.flush())yield c}async function*o(){if(i)throw new W("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(const l of r())a||l&&(yield JSON.parse(l));a=!0}catch(l){if(Ec(l))return;throw l}finally{a||s.abort()}}return new Qt(o,s,n)}[(Si=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],s=[],n=this.iterator(),i=r=>({next:()=>{if(r.length===0){const o=n.next();e.push(o),s.push(o)}return r.shift()}});return[new Qt(()=>i(e),this.controller,P(this,Si,"f")),new Qt(()=>i(s),this.controller,P(this,Si,"f"))]}toReadableStream(){const e=this;let s;return tb({async start(){s=e[Symbol.asyncIterator]()},async pull(n){try{const{value:i,done:r}=await s.next();if(r)return n.close();const o=Yd(JSON.stringify(i)+`
`);n.enqueue(o)}catch(i){n.error(i)}},async cancel(){await s.return?.()}})}}async function*cA(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new W("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new W("Attempted to iterate over a response with no body");const s=new uA,n=new Ma,i=nb(t.body);for await(const r of dA(i))for(const o of n.decode(r)){const a=s.decode(o);a&&(yield a)}for(const r of n.flush()){const o=s.decode(r);o&&(yield o)}}async function*dA(t){let e=new Uint8Array;for await(const s of t){if(s==null)continue;const n=s instanceof ArrayBuffer?new Uint8Array(s):typeof s=="string"?Yd(s):s;let i=new Uint8Array(e.length+n.length);i.set(e),i.set(n,e.length),e=i;let r;for(;(r=aA(e))!==-1;)yield e.slice(0,r),e=e.slice(r)}e.length>0&&(yield e)}class uA{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const r={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],r}if(this.chunks.push(e),e.startsWith(":"))return null;let[s,n,i]=hA(e,":");return i.startsWith(" ")&&(i=i.substring(1)),s==="event"?this.event=i:s==="data"&&this.data.push(i),null}}function hA(t,e){const s=t.indexOf(e);return s!==-1?[t.substring(0,s),e,t.substring(s+e.length)]:[t,"",""]}async function cb(t,e){const{response:s,requestLogID:n,retryOfRequestLogID:i,startTime:r}=e,o=await(async()=>{if(e.options.stream)return Ke(t).debug("response",s.status,s.url,s.headers,s.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(s,e.controller,t):Qt.fromSSEResponse(s,e.controller,t);if(s.status===204)return null;if(e.options.__binaryResponse)return s;const l=s.headers.get("content-type")?.split(";")[0]?.trim();if(l?.includes("application/json")||l?.endsWith("+json")){const h=await s.json();return db(h,s)}return await s.text()})();return Ke(t).debug(`[${n}] response parsed`,Gs({retryOfRequestLogID:i,url:s.url,status:s.status,body:o,durationMs:Date.now()-r})),o}function db(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var Ii;class Oa extends Promise{constructor(e,s,n=cb){super(i=>{i(null)}),this.responsePromise=s,this.parseResponse=n,Ii.set(this,void 0),q(this,Ii,e)}_thenUnwrap(e){return new Oa(P(this,Ii,"f"),this.responsePromise,async(s,n)=>db(e(await this.parseResponse(s,n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,s]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:s,request_id:s.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(P(this,Ii,"f"),e))),this.parsedPromise}then(e,s){return this.parse().then(e,s)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}Ii=new WeakMap;var Zr;class Xd{constructor(e,s,n,i){Zr.set(this,void 0),q(this,Zr,e),this.options=i,this.response=s,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new W("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await P(this,Zr,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Zr=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const s of e.getPaginatedItems())yield s}}class fA extends Oa{constructor(e,s,n){super(e,s,async(i,r)=>new n(i,r.response,await cb(i,r),r.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const s of e)yield s}}class Da extends Xd{constructor(e,s,n,i){super(e,s,n,i),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class Le extends Xd{constructor(e,s,n,i){super(e,s,n,i),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),s=e[e.length-1]?.id;return s?{...this.options,query:{...eb(this.options.query),after:s}}:null}}class mA extends Xd{constructor(e,s,n,i){super(e,s,n,i),this.data=n.data||[],this.has_more=n.has_more||!1,this.last_id=n.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...eb(this.options.query),after:e}}:null}}const ub=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Xi(t,e,s){return ub(),new File(t,e??"unknown_file",s)}function ko(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const hb=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",dn=async(t,e)=>({...t,body:await gA(t.body,e)}),Vf=new WeakMap;function pA(t){const e=typeof t=="function"?t:t.fetch,s=Vf.get(e);if(s)return s;const n=(async()=>{try{const i="Response"in e?e.Response:(await e("data:,")).constructor,r=new FormData;return r.toString()!==await new i(r).text()}catch{return!0}})();return Vf.set(e,n),n}const gA=async(t,e)=>{if(!await pA(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const s=new FormData;return await Promise.all(Object.entries(t||{}).map(([n,i])=>Rc(s,n,i))),s},yA=t=>t instanceof Blob&&"name"in t,Rc=async(t,e,s)=>{if(s!==void 0){if(s==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")t.append(e,String(s));else if(s instanceof Response)t.append(e,Xi([await s.blob()],ko(s)));else if(hb(s))t.append(e,Xi([await new Response(sb(s)).blob()],ko(s)));else if(yA(s))t.append(e,s,ko(s));else if(Array.isArray(s))await Promise.all(s.map(n=>Rc(t,e+"[]",n)));else if(typeof s=="object")await Promise.all(Object.entries(s).map(([n,i])=>Rc(t,`${e}[${n}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${s} instead`)}},fb=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",xA=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&fb(t),bA=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function vA(t,e,s){if(ub(),t=await t,xA(t))return t instanceof File?t:Xi([await t.arrayBuffer()],t.name);if(bA(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Xi(await Ic(i),e,s)}const n=await Ic(t);if(e||(e=ko(t)),!s?.type){const i=n.find(r=>typeof r=="object"&&"type"in r&&r.type);typeof i=="string"&&(s={...s,type:i})}return Xi(n,e,s)}async function Ic(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(fb(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(hb(t))for await(const s of t)e.push(...await Ic(s));else{const s=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${s?`; constructor: ${s}`:""}${wA(t)}`)}return e}function wA(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(s=>`"${s}"`).join(", ")}]`}class z{constructor(e){this._client=e}}function mb(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Uf=Object.freeze(Object.create(null)),_A=(t=mb)=>function(s,...n){if(s.length===1)return s[0];let i=!1;const r=[],o=s.reduce((u,h,f)=>{/[?#]/.test(h)&&(i=!0);const m=n[f];let g=(i?encodeURIComponent:t)(""+m);return f!==n.length&&(m==null||typeof m=="object"&&m.toString===Object.getPrototypeOf(Object.getPrototypeOf(m.hasOwnProperty??Uf)??Uf)?.toString)&&(g=m+"",r.push({start:u.length+h.length,length:g.length,error:`Value of type ${Object.prototype.toString.call(m).slice(8,-1)} is not a valid path parameter`})),u+h+(f===n.length?"":g)},""),a=o.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=l.exec(a))!==null;)r.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(r.sort((u,h)=>u.start-h.start),r.length>0){let u=0;const h=r.reduce((f,m)=>{const g=" ".repeat(m.start-u),p="^".repeat(m.length);return u=m.start+m.length,f+g+p},"");throw new W(`Path parameters result in path with invalid segments:
${r.map(f=>f.error).join(`
`)}
${o}
${h}`)}return o},O=_A(mb);let pb=class extends z{list(e,s={},n){return this._client.getAPIList(O`/chat/completions/${e}/messages`,Le,{query:s,...n})}};function Zo(t){return t!==void 0&&"function"in t&&t.function!==void 0}function Jd(t){return t?.$brand==="auto-parseable-response-format"}function Or(t){return t?.$brand==="auto-parseable-tool"}function SA(t,e){return!e||!gb(e)?{...t,choices:t.choices.map(s=>(yb(s.message.tool_calls),{...s,message:{...s.message,parsed:null,...s.message.tool_calls?{tool_calls:s.message.tool_calls}:void 0}}))}:Qd(t,e)}function Qd(t,e){const s=t.choices.map(n=>{if(n.finish_reason==="length")throw new Qx;if(n.finish_reason==="content_filter")throw new Zx;return yb(n.message.tool_calls),{...n,message:{...n.message,...n.message.tool_calls?{tool_calls:n.message.tool_calls?.map(i=>CA(e,i))??void 0}:void 0,parsed:n.message.content&&!n.message.refusal?TA(e,n.message.content):null}}});return{...t,choices:s}}function TA(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function CA(t,e){const s=t.tools?.find(n=>Zo(n)&&n.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:Or(s)?s.$parseRaw(e.function.arguments):s?.function.strict?JSON.parse(e.function.arguments):null}}}function jA(t,e){if(!t||!("tools"in t)||!t.tools)return!1;const s=t.tools?.find(n=>Zo(n)&&n.function?.name===e.function.name);return Zo(s)&&(Or(s)||s?.function.strict||!1)}function gb(t){return Jd(t.response_format)?!0:t.tools?.some(e=>Or(e)||e.type==="function"&&e.function.strict===!0)??!1}function yb(t){for(const e of t||[])if(e.type!=="function")throw new W(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function kA(t){for(const e of t??[]){if(e.type!=="function")throw new W(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new W(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const ea=t=>t?.role==="assistant",xb=t=>t?.role==="tool";var Mc,Po,Eo,Mi,Oi,Ao,Di,as,Li,ta,sa,Bn,bb;class Zd{constructor(){Mc.add(this),this.controller=new AbortController,Po.set(this,void 0),Eo.set(this,()=>{}),Mi.set(this,()=>{}),Oi.set(this,void 0),Ao.set(this,()=>{}),Di.set(this,()=>{}),as.set(this,{}),Li.set(this,!1),ta.set(this,!1),sa.set(this,!1),Bn.set(this,!1),q(this,Po,new Promise((e,s)=>{q(this,Eo,e,"f"),q(this,Mi,s,"f")})),q(this,Oi,new Promise((e,s)=>{q(this,Ao,e,"f"),q(this,Di,s,"f")})),P(this,Po,"f").catch(()=>{}),P(this,Oi,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},P(this,Mc,"m",bb).bind(this))},0)}_connected(){this.ended||(P(this,Eo,"f").call(this),this._emit("connect"))}get ended(){return P(this,Li,"f")}get errored(){return P(this,ta,"f")}get aborted(){return P(this,sa,"f")}abort(){this.controller.abort()}on(e,s){return(P(this,as,"f")[e]||(P(this,as,"f")[e]=[])).push({listener:s}),this}off(e,s){const n=P(this,as,"f")[e];if(!n)return this;const i=n.findIndex(r=>r.listener===s);return i>=0&&n.splice(i,1),this}once(e,s){return(P(this,as,"f")[e]||(P(this,as,"f")[e]=[])).push({listener:s,once:!0}),this}emitted(e){return new Promise((s,n)=>{q(this,Bn,!0),e!=="error"&&this.once("error",n),this.once(e,s)})}async done(){q(this,Bn,!0),await P(this,Oi,"f")}_emit(e,...s){if(P(this,Li,"f"))return;e==="end"&&(q(this,Li,!0),P(this,Ao,"f").call(this));const n=P(this,as,"f")[e];if(n&&(P(this,as,"f")[e]=n.filter(i=>!i.once),n.forEach(({listener:i})=>i(...s))),e==="abort"){const i=s[0];!P(this,Bn,"f")&&!n?.length&&Promise.reject(i),P(this,Mi,"f").call(this,i),P(this,Di,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=s[0];!P(this,Bn,"f")&&!n?.length&&Promise.reject(i),P(this,Mi,"f").call(this,i),P(this,Di,"f").call(this,i),this._emit("end")}}_emitFinal(){}}Po=new WeakMap,Eo=new WeakMap,Mi=new WeakMap,Oi=new WeakMap,Ao=new WeakMap,Di=new WeakMap,as=new WeakMap,Li=new WeakMap,ta=new WeakMap,sa=new WeakMap,Bn=new WeakMap,Mc=new WeakSet,bb=function(e){if(q(this,ta,!0),e instanceof Error&&e.name==="AbortError"&&(e=new Tt),e instanceof Tt)return q(this,sa,!0),this._emit("abort",e);if(e instanceof W)return this._emit("error",e);if(e instanceof Error){const s=new W(e.message);return s.cause=e,this._emit("error",s)}return this._emit("error",new W(String(e)))};function PA(t){return typeof t.parse=="function"}var nt,Oc,na,Dc,Lc,$c,vb,wb;const EA=10;class _b extends Zd{constructor(){super(...arguments),nt.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const s=e.choices[0]?.message;return s&&this._addMessage(s),e}_addMessage(e,s=!0){if("content"in e||(e.content=null),this.messages.push(e),s){if(this._emit("message",e),xb(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(ea(e)&&e.tool_calls)for(const n of e.tool_calls)n.type==="function"&&this._emit("functionToolCall",n.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new W("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),P(this,nt,"m",Oc).call(this)}async finalMessage(){return await this.done(),P(this,nt,"m",na).call(this)}async finalFunctionToolCall(){return await this.done(),P(this,nt,"m",Dc).call(this)}async finalFunctionToolCallResult(){return await this.done(),P(this,nt,"m",Lc).call(this)}async totalUsage(){return await this.done(),P(this,nt,"m",$c).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const s=P(this,nt,"m",na).call(this);s&&this._emit("finalMessage",s);const n=P(this,nt,"m",Oc).call(this);n&&this._emit("finalContent",n);const i=P(this,nt,"m",Dc).call(this);i&&this._emit("finalFunctionToolCall",i);const r=P(this,nt,"m",Lc).call(this);r!=null&&this._emit("finalFunctionToolCallResult",r),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",P(this,nt,"m",$c).call(this))}async _createChatCompletion(e,s,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),P(this,nt,"m",vb).call(this,s);const r=await e.chat.completions.create({...s,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Qd(r,s))}async _runChatCompletion(e,s,n){for(const i of s.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,s,n)}async _runTools(e,s,n){const i="tool",{tool_choice:r="auto",stream:o,...a}=s,l=typeof r!="string"&&r.type==="function"&&r?.function?.name,{maxChatCompletions:c=EA}=n||{},u=s.tools.map(m=>{if(Or(m)){if(!m.$callback)throw new W("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:m.$callback,name:m.function.name,description:m.function.description||"",parameters:m.function.parameters,parse:m.$parseRaw,strict:!0}}}return m}),h={};for(const m of u)m.type==="function"&&(h[m.function.name||m.function.function.name]=m.function);const f="tools"in s?u.map(m=>m.type==="function"?{type:"function",function:{name:m.function.name||m.function.function.name,parameters:m.function.parameters,description:m.function.description,strict:m.function.strict}}:m):void 0;for(const m of s.messages)this._addMessage(m,!1);for(let m=0;m<c;++m){const p=(await this._createChatCompletion(e,{...a,tool_choice:r,tools:f,messages:[...this.messages]},n)).choices[0]?.message;if(!p)throw new W("missing message in ChatCompletion response");if(!p.tool_calls?.length)return;for(const y of p.tool_calls){if(y.type!=="function")continue;const v=y.id,{name:x,arguments:w}=y.function,S=h[x];if(S){if(l&&l!==x){const j=`Invalid tool_call: ${JSON.stringify(x)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,tool_call_id:v,content:j});continue}}else{const j=`Invalid tool_call: ${JSON.stringify(x)}. Available options are: ${Object.keys(h).map(E=>JSON.stringify(E)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:v,content:j});continue}let _;try{_=PA(S)?await S.parse(w):w}catch(j){const E=j instanceof Error?j.message:String(j);this._addMessage({role:i,tool_call_id:v,content:E});continue}const T=await S.function(_,this),C=P(this,nt,"m",wb).call(this,T);if(this._addMessage({role:i,tool_call_id:v,content:C}),l)return}}}}nt=new WeakSet,Oc=function(){return P(this,nt,"m",na).call(this).content??null},na=function(){let e=this.messages.length;for(;e-- >0;){const s=this.messages[e];if(ea(s))return{...s,content:s.content??null,refusal:s.refusal??null}}throw new W("stream ended without producing a ChatCompletionMessage with role=assistant")},Dc=function(){for(let e=this.messages.length-1;e>=0;e--){const s=this.messages[e];if(ea(s)&&s?.tool_calls?.length)return s.tool_calls.filter(n=>n.type==="function").at(-1)?.function}},Lc=function(){for(let e=this.messages.length-1;e>=0;e--){const s=this.messages[e];if(xb(s)&&s.content!=null&&typeof s.content=="string"&&this.messages.some(n=>n.role==="assistant"&&n.tool_calls?.some(i=>i.type==="function"&&i.id===s.tool_call_id)))return s.content}},$c=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:s}of this._chatCompletions)s&&(e.completion_tokens+=s.completion_tokens,e.prompt_tokens+=s.prompt_tokens,e.total_tokens+=s.total_tokens);return e},vb=function(e){if(e.n!=null&&e.n>1)throw new W("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},wb=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class eu extends _b{static runTools(e,s,n){const i=new eu,r={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,s,r)),i}_addMessage(e,s=!0){super._addMessage(e,s),ea(e)&&e.content&&this._emit("content",e.content)}}const Sb=1,Tb=2,Cb=4,jb=8,kb=16,Pb=32,Eb=64,Ab=128,Nb=256,Rb=Ab|Nb,Ib=kb|Pb|Rb|Eb,Mb=Sb|Tb|Ib,Ob=Cb|jb,AA=Mb|Ob,He={STR:Sb,NUM:Tb,ARR:Cb,OBJ:jb,NULL:kb,BOOL:Pb,NAN:Eb,INFINITY:Ab,MINUS_INFINITY:Nb,INF:Rb,SPECIAL:Ib,ATOM:Mb,COLLECTION:Ob,ALL:AA};class NA extends Error{}class RA extends Error{}function IA(t,e=He.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return MA(t.trim(),e)}const MA=(t,e)=>{const s=t.length;let n=0;const i=f=>{throw new NA(`${f} at position ${n}`)},r=f=>{throw new RA(`${f} at position ${n}`)},o=()=>(h(),n>=s&&i("Unexpected end of input"),t[n]==='"'?a():t[n]==="{"?l():t[n]==="["?c():t.substring(n,n+4)==="null"||He.NULL&e&&s-n<4&&"null".startsWith(t.substring(n))?(n+=4,null):t.substring(n,n+4)==="true"||He.BOOL&e&&s-n<4&&"true".startsWith(t.substring(n))?(n+=4,!0):t.substring(n,n+5)==="false"||He.BOOL&e&&s-n<5&&"false".startsWith(t.substring(n))?(n+=5,!1):t.substring(n,n+8)==="Infinity"||He.INFINITY&e&&s-n<8&&"Infinity".startsWith(t.substring(n))?(n+=8,1/0):t.substring(n,n+9)==="-Infinity"||He.MINUS_INFINITY&e&&1<s-n&&s-n<9&&"-Infinity".startsWith(t.substring(n))?(n+=9,-1/0):t.substring(n,n+3)==="NaN"||He.NAN&e&&s-n<3&&"NaN".startsWith(t.substring(n))?(n+=3,NaN):u()),a=()=>{const f=n;let m=!1;for(n++;n<s&&(t[n]!=='"'||m&&t[n-1]==="\\");)m=t[n]==="\\"?!m:!1,n++;if(t.charAt(n)=='"')try{return JSON.parse(t.substring(f,++n-Number(m)))}catch(g){r(String(g))}else if(He.STR&e)try{return JSON.parse(t.substring(f,n-Number(m))+'"')}catch{return JSON.parse(t.substring(f,t.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},l=()=>{n++,h();const f={};try{for(;t[n]!=="}";){if(h(),n>=s&&He.OBJ&e)return f;const m=a();h(),n++;try{const g=o();Object.defineProperty(f,m,{value:g,writable:!0,enumerable:!0,configurable:!0})}catch(g){if(He.OBJ&e)return f;throw g}h(),t[n]===","&&n++}}catch{if(He.OBJ&e)return f;i("Expected '}' at end of object")}return n++,f},c=()=>{n++;const f=[];try{for(;t[n]!=="]";)f.push(o()),h(),t[n]===","&&n++}catch{if(He.ARR&e)return f;i("Expected ']' at end of array")}return n++,f},u=()=>{if(n===0){t==="-"&&He.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t)}catch(m){if(He.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}r(String(m))}}const f=n;for(t[n]==="-"&&n++;t[n]&&!",]}".includes(t[n]);)n++;n==s&&!(He.NUM&e)&&i("Unterminated number literal");try{return JSON.parse(t.substring(f,n))}catch{t.substring(f,n)==="-"&&He.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t.substring(f,t.lastIndexOf("e")))}catch(g){r(String(g))}}},h=()=>{for(;n<s&&` 
\r	`.includes(t[n]);)n++};return o()},Wf=t=>IA(t,He.ALL^He.NUM);var Fe,rs,Rn,_s,kl,eo,Pl,El,Al,to,Nl,zf;class hr extends _b{constructor(e){super(),Fe.add(this),rs.set(this,void 0),Rn.set(this,void 0),_s.set(this,void 0),q(this,rs,e),q(this,Rn,[])}get currentChatCompletionSnapshot(){return P(this,_s,"f")}static fromReadableStream(e){const s=new hr(null);return s._run(()=>s._fromReadableStream(e)),s}static createChatCompletion(e,s,n){const i=new hr(s);return i._run(()=>i._runChatCompletion(e,{...s,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,s,n){super._createChatCompletion;const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),P(this,Fe,"m",kl).call(this);const r=await e.chat.completions.create({...s,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const o of r)P(this,Fe,"m",Pl).call(this,o);if(r.controller.signal?.aborted)throw new Tt;return this._addChatCompletion(P(this,Fe,"m",to).call(this))}async _fromReadableStream(e,s){const n=s?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),P(this,Fe,"m",kl).call(this),this._connected();const i=Qt.fromReadableStream(e,this.controller);let r;for await(const o of i)r&&r!==o.id&&this._addChatCompletion(P(this,Fe,"m",to).call(this)),P(this,Fe,"m",Pl).call(this,o),r=o.id;if(i.controller.signal?.aborted)throw new Tt;return this._addChatCompletion(P(this,Fe,"m",to).call(this))}[(rs=new WeakMap,Rn=new WeakMap,_s=new WeakMap,Fe=new WeakSet,kl=function(){this.ended||q(this,_s,void 0)},eo=function(s){let n=P(this,Rn,"f")[s.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},P(this,Rn,"f")[s.index]=n,n)},Pl=function(s){if(this.ended)return;const n=P(this,Fe,"m",zf).call(this,s);this._emit("chunk",s,n);for(const i of s.choices){const r=n.choices[i.index];i.delta.content!=null&&r.message?.role==="assistant"&&r.message?.content&&(this._emit("content",i.delta.content,r.message.content),this._emit("content.delta",{delta:i.delta.content,snapshot:r.message.content,parsed:r.message.parsed})),i.delta.refusal!=null&&r.message?.role==="assistant"&&r.message?.refusal&&this._emit("refusal.delta",{delta:i.delta.refusal,snapshot:r.message.refusal}),i.logprobs?.content!=null&&r.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:i.logprobs?.content,snapshot:r.logprobs?.content??[]}),i.logprobs?.refusal!=null&&r.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:i.logprobs?.refusal,snapshot:r.logprobs?.refusal??[]});const o=P(this,Fe,"m",eo).call(this,r);r.finish_reason&&(P(this,Fe,"m",Al).call(this,r),o.current_tool_call_index!=null&&P(this,Fe,"m",El).call(this,r,o.current_tool_call_index));for(const a of i.delta.tool_calls??[])o.current_tool_call_index!==a.index&&(P(this,Fe,"m",Al).call(this,r),o.current_tool_call_index!=null&&P(this,Fe,"m",El).call(this,r,o.current_tool_call_index)),o.current_tool_call_index=a.index;for(const a of i.delta.tool_calls??[]){const l=r.message.tool_calls?.[a.index];l?.type&&(l?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:l.function?.name,index:a.index,arguments:l.function.arguments,parsed_arguments:l.function.parsed_arguments,arguments_delta:a.function?.arguments??""}):(l?.type,void 0))}}},El=function(s,n){if(P(this,Fe,"m",eo).call(this,s).done_tool_calls.has(n))return;const r=s.message.tool_calls?.[n];if(!r)throw new Error("no tool call snapshot");if(!r.type)throw new Error("tool call snapshot missing `type`");if(r.type==="function"){const o=P(this,rs,"f")?.tools?.find(a=>Zo(a)&&a.function.name===r.function.name);this._emit("tool_calls.function.arguments.done",{name:r.function.name,index:n,arguments:r.function.arguments,parsed_arguments:Or(o)?o.$parseRaw(r.function.arguments):o?.function.strict?JSON.parse(r.function.arguments):null})}else r.type},Al=function(s){const n=P(this,Fe,"m",eo).call(this,s);if(s.message.content&&!n.content_done){n.content_done=!0;const i=P(this,Fe,"m",Nl).call(this);this._emit("content.done",{content:s.message.content,parsed:i?i.$parseRaw(s.message.content):null})}s.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:s.message.refusal})),s.logprobs?.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:s.logprobs.content})),s.logprobs?.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:s.logprobs.refusal}))},to=function(){if(this.ended)throw new W("stream has ended, this shouldn't happen");const s=P(this,_s,"f");if(!s)throw new W("request ended without sending any chunks");return q(this,_s,void 0),q(this,Rn,[]),OA(s,P(this,rs,"f"))},Nl=function(){const s=P(this,rs,"f")?.response_format;return Jd(s)?s:null},zf=function(s){var n,i,r,o;let a=P(this,_s,"f");const{choices:l,...c}=s;a?Object.assign(a,c):a=q(this,_s,{...c,choices:[]});for(const{delta:u,finish_reason:h,index:f,logprobs:m=null,...g}of s.choices){let p=a.choices[f];if(p||(p=a.choices[f]={finish_reason:h,index:f,message:{},logprobs:m,...g}),m)if(!p.logprobs)p.logprobs=Object.assign({},m);else{const{content:T,refusal:C,...j}=m;Object.assign(p.logprobs,j),T&&((n=p.logprobs).content??(n.content=[]),p.logprobs.content.push(...T)),C&&((i=p.logprobs).refusal??(i.refusal=[]),p.logprobs.refusal.push(...C))}if(h&&(p.finish_reason=h,P(this,rs,"f")&&gb(P(this,rs,"f")))){if(h==="length")throw new Qx;if(h==="content_filter")throw new Zx}if(Object.assign(p,g),!u)continue;const{content:y,refusal:v,function_call:x,role:w,tool_calls:S,..._}=u;if(Object.assign(p.message,_),v&&(p.message.refusal=(p.message.refusal||"")+v),w&&(p.message.role=w),x&&(p.message.function_call?(x.name&&(p.message.function_call.name=x.name),x.arguments&&((r=p.message.function_call).arguments??(r.arguments=""),p.message.function_call.arguments+=x.arguments)):p.message.function_call=x),y&&(p.message.content=(p.message.content||"")+y,!p.message.refusal&&P(this,Fe,"m",Nl).call(this)&&(p.message.parsed=Wf(p.message.content))),S){p.message.tool_calls||(p.message.tool_calls=[]);for(const{index:T,id:C,type:j,function:E,...k}of S){const A=(o=p.message.tool_calls)[T]??(o[T]={});Object.assign(A,k),C&&(A.id=C),j&&(A.type=j),E&&(A.function??(A.function={name:E.name??"",arguments:""})),E?.name&&(A.function.name=E.name),E?.arguments&&(A.function.arguments+=E.arguments,jA(P(this,rs,"f"),A)&&(A.function.parsed_arguments=Wf(A.function.arguments)))}}}return a},Symbol.asyncIterator)](){const e=[],s=[];let n=!1;return this.on("chunk",i=>{const r=s.shift();r?r.resolve(i):e.push(i)}),this.on("end",()=>{n=!0;for(const i of s)i.resolve(void 0);s.length=0}),this.on("abort",i=>{n=!0;for(const r of s)r.reject(i);s.length=0}),this.on("error",i=>{n=!0;for(const r of s)r.reject(i);s.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((r,o)=>s.push({resolve:r,reject:o})).then(r=>r?{value:r,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Qt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function OA(t,e){const{id:s,choices:n,created:i,model:r,system_fingerprint:o,...a}=t,l={...a,id:s,choices:n.map(({message:c,finish_reason:u,index:h,logprobs:f,...m})=>{if(!u)throw new W(`missing finish_reason for choice ${h}`);const{content:g=null,function_call:p,tool_calls:y,...v}=c,x=c.role;if(!x)throw new W(`missing role for choice ${h}`);if(p){const{arguments:w,name:S}=p;if(w==null)throw new W(`missing function_call.arguments for choice ${h}`);if(!S)throw new W(`missing function_call.name for choice ${h}`);return{...m,message:{content:g,function_call:{arguments:w,name:S},role:x,refusal:c.refusal??null},finish_reason:u,index:h,logprobs:f}}return y?{...m,index:h,finish_reason:u,logprobs:f,message:{...v,role:x,content:g,refusal:c.refusal??null,tool_calls:y.map((w,S)=>{const{function:_,type:T,id:C,...j}=w,{arguments:E,name:k,...A}=_||{};if(C==null)throw new W(`missing choices[${h}].tool_calls[${S}].id
${so(t)}`);if(T==null)throw new W(`missing choices[${h}].tool_calls[${S}].type
${so(t)}`);if(k==null)throw new W(`missing choices[${h}].tool_calls[${S}].function.name
${so(t)}`);if(E==null)throw new W(`missing choices[${h}].tool_calls[${S}].function.arguments
${so(t)}`);return{...j,id:C,type:T,function:{...A,name:k,arguments:E}}})}}:{...m,message:{...v,content:g,role:x,refusal:c.refusal??null},finish_reason:u,index:h,logprobs:f}}),created:i,model:r,object:"chat.completion",...o?{system_fingerprint:o}:{}};return SA(l,e)}function so(t){return JSON.stringify(t)}class ia extends hr{static fromReadableStream(e){const s=new ia(null);return s._run(()=>s._fromReadableStream(e)),s}static runTools(e,s,n){const i=new ia(s),r={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,s,r)),i}}let tu=class extends z{constructor(){super(...arguments),this.messages=new pb(this._client)}create(e,s){return this._client.post("/chat/completions",{body:e,...s,stream:e.stream??!1})}retrieve(e,s){return this._client.get(O`/chat/completions/${e}`,s)}update(e,s,n){return this._client.post(O`/chat/completions/${e}`,{body:s,...n})}list(e={},s){return this._client.getAPIList("/chat/completions",Le,{query:e,...s})}delete(e,s){return this._client.delete(O`/chat/completions/${e}`,s)}parse(e,s){return kA(e.tools),this._client.chat.completions.create(e,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(n=>Qd(n,e))}runTools(e,s){return e.stream?ia.runTools(this._client,e,s):eu.runTools(this._client,e,s)}stream(e,s){return hr.createChatCompletion(this._client,e,s)}};tu.Messages=pb;class su extends z{constructor(){super(...arguments),this.completions=new tu(this._client)}}su.Completions=tu;const Db=Symbol("brand.privateNullableHeaders");function*DA(t){if(!t)return;if(Db in t){const{values:n,nulls:i}=t;yield*n.entries();for(const r of i)yield[r,null];return}let e=!1,s;t instanceof Headers?s=t.entries():Ef(t)?s=t:(e=!0,s=Object.entries(t??{}));for(let n of s){const i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const r=Ef(n[1])?n[1]:[n[1]];let o=!1;for(const a of r)a!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,a])}}const U=t=>{const e=new Headers,s=new Set;for(const n of t){const i=new Set;for(const[r,o]of DA(n)){const a=r.toLowerCase();i.has(a)||(e.delete(r),i.add(a)),o===null?(e.delete(r),s.add(a)):(e.append(r,o),s.delete(a))}}return{[Db]:!0,values:e,nulls:s}};class Lb extends z{create(e,s){return this._client.post("/audio/speech",{body:e,...s,headers:U([{Accept:"application/octet-stream"},s?.headers]),__binaryResponse:!0})}}class $b extends z{create(e,s){return this._client.post("/audio/transcriptions",dn({body:e,...s,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class Fb extends z{create(e,s){return this._client.post("/audio/translations",dn({body:e,...s,__metadata:{model:e.model}},this._client))}}class Dr extends z{constructor(){super(...arguments),this.transcriptions=new $b(this._client),this.translations=new Fb(this._client),this.speech=new Lb(this._client)}}Dr.Transcriptions=$b;Dr.Translations=Fb;Dr.Speech=Lb;class Bb extends z{create(e,s){return this._client.post("/batches",{body:e,...s})}retrieve(e,s){return this._client.get(O`/batches/${e}`,s)}list(e={},s){return this._client.getAPIList("/batches",Le,{query:e,...s})}cancel(e,s){return this._client.post(O`/batches/${e}/cancel`,s)}}class Vb extends z{create(e,s){return this._client.post("/assistants",{body:e,...s,headers:U([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(e,s){return this._client.get(O`/assistants/${e}`,{...s,headers:U([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(e,s,n){return this._client.post(O`/assistants/${e}`,{body:s,...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e={},s){return this._client.getAPIList("/assistants",Le,{query:e,...s,headers:U([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(e,s){return this._client.delete(O`/assistants/${e}`,{...s,headers:U([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}class Ub extends z{create(e,s){return this._client.post("/realtime/sessions",{body:e,...s,headers:U([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}class Wb extends z{create(e,s){return this._client.post("/realtime/transcription_sessions",{body:e,...s,headers:U([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}let La=class extends z{constructor(){super(...arguments),this.sessions=new Ub(this._client),this.transcriptionSessions=new Wb(this._client)}};La.Sessions=Ub;La.TranscriptionSessions=Wb;class zb extends z{create(e,s,n){return this._client.post(O`/threads/${e}/messages`,{body:s,...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,s,n){const{thread_id:i}=s;return this._client.get(O`/threads/${i}/messages/${e}`,{...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,s,n){const{thread_id:i,...r}=s;return this._client.post(O`/threads/${i}/messages/${e}`,{body:r,...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,s={},n){return this._client.getAPIList(O`/threads/${e}/messages`,Le,{query:s,...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,s,n){const{thread_id:i}=s;return this._client.delete(O`/threads/${i}/messages/${e}`,{...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}class Hb extends z{retrieve(e,s,n){const{thread_id:i,run_id:r,...o}=s;return this._client.get(O`/threads/${i}/runs/${r}/steps/${e}`,{query:o,...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,s,n){const{thread_id:i,...r}=s;return this._client.getAPIList(O`/threads/${i}/runs/${e}/steps`,Le,{query:r,...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}const LA=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),s=e.length,n=new Uint8Array(s);for(let i=0;i<s;i++)n[i]=e.charCodeAt(i);return Array.from(new Float32Array(n.buffer))}};var $A={};const In=t=>{if(typeof globalThis.process<"u")return $A?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var Ye,en,Fc,Jt,No,$t,tn,Un,Zs,ra,yt,Ro,Io,Ji,$i,Fi,Hf,qf,Kf,Gf,Yf,Xf,Jf;class Qi extends Zd{constructor(){super(...arguments),Ye.add(this),Fc.set(this,[]),Jt.set(this,{}),No.set(this,{}),$t.set(this,void 0),tn.set(this,void 0),Un.set(this,void 0),Zs.set(this,void 0),ra.set(this,void 0),yt.set(this,void 0),Ro.set(this,void 0),Io.set(this,void 0),Ji.set(this,void 0)}[(Fc=new WeakMap,Jt=new WeakMap,No=new WeakMap,$t=new WeakMap,tn=new WeakMap,Un=new WeakMap,Zs=new WeakMap,ra=new WeakMap,yt=new WeakMap,Ro=new WeakMap,Io=new WeakMap,Ji=new WeakMap,Ye=new WeakSet,Symbol.asyncIterator)](){const e=[],s=[];let n=!1;return this.on("event",i=>{const r=s.shift();r?r.resolve(i):e.push(i)}),this.on("end",()=>{n=!0;for(const i of s)i.resolve(void 0);s.length=0}),this.on("abort",i=>{n=!0;for(const r of s)r.reject(i);s.length=0}),this.on("error",i=>{n=!0;for(const r of s)r.reject(i);s.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((r,o)=>s.push({resolve:r,reject:o})).then(r=>r?{value:r,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const s=new en;return s._run(()=>s._fromReadableStream(e)),s}async _fromReadableStream(e,s){const n=s?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=Qt.fromReadableStream(e,this.controller);for await(const r of i)P(this,Ye,"m",$i).call(this,r);if(i.controller.signal?.aborted)throw new Tt;return this._addRun(P(this,Ye,"m",Fi).call(this))}toReadableStream(){return new Qt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,s,n,i){const r=new en;return r._run(()=>r._runToolAssistantStream(e,s,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createToolAssistantStream(e,s,n,i){const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const o={...n,stream:!0},a=await e.submitToolOutputs(s,o,{...i,signal:this.controller.signal});this._connected();for await(const l of a)P(this,Ye,"m",$i).call(this,l);if(a.controller.signal?.aborted)throw new Tt;return this._addRun(P(this,Ye,"m",Fi).call(this))}static createThreadAssistantStream(e,s,n){const i=new en;return i._run(()=>i._threadAssistantStream(e,s,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,s,n,i){const r=new en;return r._run(()=>r._runAssistantStream(e,s,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),r}currentEvent(){return P(this,Ro,"f")}currentRun(){return P(this,Io,"f")}currentMessageSnapshot(){return P(this,$t,"f")}currentRunStepSnapshot(){return P(this,Ji,"f")}async finalRunSteps(){return await this.done(),Object.values(P(this,Jt,"f"))}async finalMessages(){return await this.done(),Object.values(P(this,No,"f"))}async finalRun(){if(await this.done(),!P(this,tn,"f"))throw Error("Final run was not received.");return P(this,tn,"f")}async _createThreadAssistantStream(e,s,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const r={...s,stream:!0},o=await e.createAndRun(r,{...n,signal:this.controller.signal});this._connected();for await(const a of o)P(this,Ye,"m",$i).call(this,a);if(o.controller.signal?.aborted)throw new Tt;return this._addRun(P(this,Ye,"m",Fi).call(this))}async _createAssistantStream(e,s,n,i){const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const o={...n,stream:!0},a=await e.create(s,o,{...i,signal:this.controller.signal});this._connected();for await(const l of a)P(this,Ye,"m",$i).call(this,l);if(a.controller.signal?.aborted)throw new Tt;return this._addRun(P(this,Ye,"m",Fi).call(this))}static accumulateDelta(e,s){for(const[n,i]of Object.entries(s)){if(!e.hasOwnProperty(n)){e[n]=i;continue}let r=e[n];if(r==null){e[n]=i;continue}if(n==="index"||n==="type"){e[n]=i;continue}if(typeof r=="string"&&typeof i=="string")r+=i;else if(typeof r=="number"&&typeof i=="number")r+=i;else if(Tl(r)&&Tl(i))r=this.accumulateDelta(r,i);else if(Array.isArray(r)&&Array.isArray(i)){if(r.every(o=>typeof o=="string"||typeof o=="number")){r.push(...i);continue}for(const o of i){if(!Tl(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const a=o.index;if(a==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);const l=r[a];l==null?r.push(o):r[a]=this.accumulateDelta(l,o)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${i}, accValue: ${r}`);e[n]=r}return e}_addRun(e){return e}async _threadAssistantStream(e,s,n){return await this._createThreadAssistantStream(s,e,n)}async _runAssistantStream(e,s,n,i){return await this._createAssistantStream(s,e,n,i)}async _runToolAssistantStream(e,s,n,i){return await this._createToolAssistantStream(s,e,n,i)}}en=Qi,$i=function(e){if(!this.ended)switch(q(this,Ro,e),P(this,Ye,"m",Kf).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":P(this,Ye,"m",Jf).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":P(this,Ye,"m",qf).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":P(this,Ye,"m",Hf).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Fi=function(){if(this.ended)throw new W("stream has ended, this shouldn't happen");if(!P(this,tn,"f"))throw Error("Final run has not been received");return P(this,tn,"f")},Hf=function(e){const[s,n]=P(this,Ye,"m",Yf).call(this,e,P(this,$t,"f"));q(this,$t,s),P(this,No,"f")[s.id]=s;for(const i of n){const r=s.content[i.index];r?.type=="text"&&this._emit("textCreated",r.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,s),e.data.delta.content)for(const i of e.data.delta.content){if(i.type=="text"&&i.text){let r=i.text,o=s.content[i.index];if(o&&o.type=="text")this._emit("textDelta",r,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=P(this,Un,"f")){if(P(this,Zs,"f"))switch(P(this,Zs,"f").type){case"text":this._emit("textDone",P(this,Zs,"f").text,P(this,$t,"f"));break;case"image_file":this._emit("imageFileDone",P(this,Zs,"f").image_file,P(this,$t,"f"));break}q(this,Un,i.index)}q(this,Zs,s.content[i.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(P(this,Un,"f")!==void 0){const i=e.data.content[P(this,Un,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,P(this,$t,"f"));break;case"text":this._emit("textDone",i.text,P(this,$t,"f"));break}}P(this,$t,"f")&&this._emit("messageDone",e.data),q(this,$t,void 0)}},qf=function(e){const s=P(this,Ye,"m",Gf).call(this,e);switch(q(this,Ji,s),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&s.step_details.type=="tool_calls")for(const r of n.step_details.tool_calls)r.index==P(this,ra,"f")?this._emit("toolCallDelta",r,s.step_details.tool_calls[r.index]):(P(this,yt,"f")&&this._emit("toolCallDone",P(this,yt,"f")),q(this,ra,r.index),q(this,yt,s.step_details.tool_calls[r.index]),P(this,yt,"f")&&this._emit("toolCallCreated",P(this,yt,"f")));this._emit("runStepDelta",e.data.delta,s);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":q(this,Ji,void 0),e.data.step_details.type=="tool_calls"&&P(this,yt,"f")&&(this._emit("toolCallDone",P(this,yt,"f")),q(this,yt,void 0)),this._emit("runStepDone",e.data,s);break}},Kf=function(e){P(this,Fc,"f").push(e),this._emit("event",e)},Gf=function(e){switch(e.event){case"thread.run.step.created":return P(this,Jt,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let s=P(this,Jt,"f")[e.data.id];if(!s)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const i=en.accumulateDelta(s,n.delta);P(this,Jt,"f")[e.data.id]=i}return P(this,Jt,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":P(this,Jt,"f")[e.data.id]=e.data;break}if(P(this,Jt,"f")[e.data.id])return P(this,Jt,"f")[e.data.id];throw new Error("No snapshot available")},Yf=function(e,s){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!s)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(const r of i.delta.content)if(r.index in s.content){let o=s.content[r.index];s.content[r.index]=P(this,Ye,"m",Xf).call(this,r,o)}else s.content[r.index]=r,n.push(r);return[s,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(s)return[s,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Xf=function(e,s){return en.accumulateDelta(s,e)},Jf=function(e){switch(q(this,Io,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":q(this,tn,e.data),P(this,yt,"f")&&(this._emit("toolCallDone",P(this,yt,"f")),q(this,yt,void 0));break}};let nu=class extends z{constructor(){super(...arguments),this.steps=new Hb(this._client)}create(e,s,n){const{include:i,...r}=s;return this._client.post(O`/threads/${e}/runs`,{query:{include:i},body:r,...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:s.stream??!1})}retrieve(e,s,n){const{thread_id:i}=s;return this._client.get(O`/threads/${i}/runs/${e}`,{...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,s,n){const{thread_id:i,...r}=s;return this._client.post(O`/threads/${i}/runs/${e}`,{body:r,...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,s={},n){return this._client.getAPIList(O`/threads/${e}/runs`,Le,{query:s,...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,s,n){const{thread_id:i}=s;return this._client.post(O`/threads/${i}/runs/${e}/cancel`,{...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,s,n){const i=await this.create(e,s,n);return await this.poll(i.id,{thread_id:e},n)}createAndStream(e,s,n){return Qi.createAssistantStream(e,this._client.beta.threads.runs,s,n)}async poll(e,s,n){const i=U([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:r,response:o}=await this.retrieve(e,s,{...n,headers:{...n?.headers,...i}}).withResponse();switch(r.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(n?.pollIntervalMs)a=n.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await Mr(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return r}}}stream(e,s,n){return Qi.createAssistantStream(e,this._client.beta.threads.runs,s,n)}submitToolOutputs(e,s,n){const{thread_id:i,...r}=s;return this._client.post(O`/threads/${i}/runs/${e}/submit_tool_outputs`,{body:r,...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:s.stream??!1})}async submitToolOutputsAndPoll(e,s,n){const i=await this.submitToolOutputs(e,s,n);return await this.poll(i.id,s,n)}submitToolOutputsStream(e,s,n){return Qi.createToolAssistantStream(e,this._client.beta.threads.runs,s,n)}};nu.Steps=Hb;class $a extends z{constructor(){super(...arguments),this.runs=new nu(this._client),this.messages=new zb(this._client)}create(e={},s){return this._client.post("/threads",{body:e,...s,headers:U([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(e,s){return this._client.get(O`/threads/${e}`,{...s,headers:U([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(e,s,n){return this._client.post(O`/threads/${e}`,{body:s,...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,s){return this._client.delete(O`/threads/${e}`,{...s,headers:U([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}createAndRun(e,s){return this._client.post("/threads/runs",{body:e,...s,headers:U([{"OpenAI-Beta":"assistants=v2"},s?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,s){const n=await this.createAndRun(e,s);return await this.runs.poll(n.id,{thread_id:n.thread_id},s)}createAndRunStream(e,s){return Qi.createThreadAssistantStream(e,this._client.beta.threads,s)}}$a.Runs=nu;$a.Messages=zb;class Lr extends z{constructor(){super(...arguments),this.realtime=new La(this._client),this.assistants=new Vb(this._client),this.threads=new $a(this._client)}}Lr.Realtime=La;Lr.Assistants=Vb;Lr.Threads=$a;class qb extends z{create(e,s){return this._client.post("/completions",{body:e,...s,stream:e.stream??!1})}}let Kb=class extends z{retrieve(e,s,n){const{container_id:i}=s;return this._client.get(O`/containers/${i}/files/${e}/content`,{...n,headers:U([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}},iu=class extends z{constructor(){super(...arguments),this.content=new Kb(this._client)}create(e,s,n){return this._client.post(O`/containers/${e}/files`,dn({body:s,...n},this._client))}retrieve(e,s,n){const{container_id:i}=s;return this._client.get(O`/containers/${i}/files/${e}`,n)}list(e,s={},n){return this._client.getAPIList(O`/containers/${e}/files`,Le,{query:s,...n})}delete(e,s,n){const{container_id:i}=s;return this._client.delete(O`/containers/${i}/files/${e}`,{...n,headers:U([{Accept:"*/*"},n?.headers])})}};iu.Content=Kb;class ru extends z{constructor(){super(...arguments),this.files=new iu(this._client)}create(e,s){return this._client.post("/containers",{body:e,...s})}retrieve(e,s){return this._client.get(O`/containers/${e}`,s)}list(e={},s){return this._client.getAPIList("/containers",Le,{query:e,...s})}delete(e,s){return this._client.delete(O`/containers/${e}`,{...s,headers:U([{Accept:"*/*"},s?.headers])})}}ru.Files=iu;class Gb extends z{create(e,s,n){const{include:i,...r}=s;return this._client.post(O`/conversations/${e}/items`,{query:{include:i},body:r,...n})}retrieve(e,s,n){const{conversation_id:i,...r}=s;return this._client.get(O`/conversations/${i}/items/${e}`,{query:r,...n})}list(e,s={},n){return this._client.getAPIList(O`/conversations/${e}/items`,mA,{query:s,...n})}delete(e,s,n){const{conversation_id:i}=s;return this._client.delete(O`/conversations/${i}/items/${e}`,n)}}class ou extends z{constructor(){super(...arguments),this.items=new Gb(this._client)}create(e={},s){return this._client.post("/conversations",{body:e,...s})}retrieve(e,s){return this._client.get(O`/conversations/${e}`,s)}update(e,s,n){return this._client.post(O`/conversations/${e}`,{body:s,...n})}delete(e,s){return this._client.delete(O`/conversations/${e}`,s)}}ou.Items=Gb;class Yb extends z{create(e,s){const n=!!e.encoding_format;let i=n?e.encoding_format:"base64";n&&Ke(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const r=this._client.post("/embeddings",{body:{...e,encoding_format:i},...s});return n?r:(Ke(this._client).debug("embeddings/decoding base64 embeddings from base64"),r._thenUnwrap(o=>(o&&o.data&&o.data.forEach(a=>{const l=a.embedding;a.embedding=LA(l)}),o)))}}class Xb extends z{retrieve(e,s,n){const{eval_id:i,run_id:r}=s;return this._client.get(O`/evals/${i}/runs/${r}/output_items/${e}`,n)}list(e,s,n){const{eval_id:i,...r}=s;return this._client.getAPIList(O`/evals/${i}/runs/${e}/output_items`,Le,{query:r,...n})}}class au extends z{constructor(){super(...arguments),this.outputItems=new Xb(this._client)}create(e,s,n){return this._client.post(O`/evals/${e}/runs`,{body:s,...n})}retrieve(e,s,n){const{eval_id:i}=s;return this._client.get(O`/evals/${i}/runs/${e}`,n)}list(e,s={},n){return this._client.getAPIList(O`/evals/${e}/runs`,Le,{query:s,...n})}delete(e,s,n){const{eval_id:i}=s;return this._client.delete(O`/evals/${i}/runs/${e}`,n)}cancel(e,s,n){const{eval_id:i}=s;return this._client.post(O`/evals/${i}/runs/${e}`,n)}}au.OutputItems=Xb;class lu extends z{constructor(){super(...arguments),this.runs=new au(this._client)}create(e,s){return this._client.post("/evals",{body:e,...s})}retrieve(e,s){return this._client.get(O`/evals/${e}`,s)}update(e,s,n){return this._client.post(O`/evals/${e}`,{body:s,...n})}list(e={},s){return this._client.getAPIList("/evals",Le,{query:e,...s})}delete(e,s){return this._client.delete(O`/evals/${e}`,s)}}lu.Runs=au;let Jb=class extends z{create(e,s){return this._client.post("/files",dn({body:e,...s},this._client))}retrieve(e,s){return this._client.get(O`/files/${e}`,s)}list(e={},s){return this._client.getAPIList("/files",Le,{query:e,...s})}delete(e,s){return this._client.delete(O`/files/${e}`,s)}content(e,s){return this._client.get(O`/files/${e}/content`,{...s,headers:U([{Accept:"application/binary"},s?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:s=5e3,maxWait:n=1800*1e3}={}){const i=new Set(["processed","error","deleted"]),r=Date.now();let o=await this.retrieve(e);for(;!o.status||!i.has(o.status);)if(await Mr(s),o=await this.retrieve(e),Date.now()-r>n)throw new Gd({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return o}};class Qb extends z{}let Zb=class extends z{run(e,s){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...s})}validate(e,s){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...s})}};class cu extends z{constructor(){super(...arguments),this.graders=new Zb(this._client)}}cu.Graders=Zb;class ev extends z{create(e,s,n){return this._client.getAPIList(O`/fine_tuning/checkpoints/${e}/permissions`,Da,{body:s,method:"post",...n})}retrieve(e,s={},n){return this._client.get(O`/fine_tuning/checkpoints/${e}/permissions`,{query:s,...n})}delete(e,s,n){const{fine_tuned_model_checkpoint:i}=s;return this._client.delete(O`/fine_tuning/checkpoints/${i}/permissions/${e}`,n)}}let du=class extends z{constructor(){super(...arguments),this.permissions=new ev(this._client)}};du.Permissions=ev;class tv extends z{list(e,s={},n){return this._client.getAPIList(O`/fine_tuning/jobs/${e}/checkpoints`,Le,{query:s,...n})}}class uu extends z{constructor(){super(...arguments),this.checkpoints=new tv(this._client)}create(e,s){return this._client.post("/fine_tuning/jobs",{body:e,...s})}retrieve(e,s){return this._client.get(O`/fine_tuning/jobs/${e}`,s)}list(e={},s){return this._client.getAPIList("/fine_tuning/jobs",Le,{query:e,...s})}cancel(e,s){return this._client.post(O`/fine_tuning/jobs/${e}/cancel`,s)}listEvents(e,s={},n){return this._client.getAPIList(O`/fine_tuning/jobs/${e}/events`,Le,{query:s,...n})}pause(e,s){return this._client.post(O`/fine_tuning/jobs/${e}/pause`,s)}resume(e,s){return this._client.post(O`/fine_tuning/jobs/${e}/resume`,s)}}uu.Checkpoints=tv;class ui extends z{constructor(){super(...arguments),this.methods=new Qb(this._client),this.jobs=new uu(this._client),this.checkpoints=new du(this._client),this.alpha=new cu(this._client)}}ui.Methods=Qb;ui.Jobs=uu;ui.Checkpoints=du;ui.Alpha=cu;class sv extends z{}class hu extends z{constructor(){super(...arguments),this.graderModels=new sv(this._client)}}hu.GraderModels=sv;class nv extends z{createVariation(e,s){return this._client.post("/images/variations",dn({body:e,...s},this._client))}edit(e,s){return this._client.post("/images/edits",dn({body:e,...s,stream:e.stream??!1},this._client))}generate(e,s){return this._client.post("/images/generations",{body:e,...s,stream:e.stream??!1})}}class iv extends z{retrieve(e,s){return this._client.get(O`/models/${e}`,s)}list(e){return this._client.getAPIList("/models",Da,e)}delete(e,s){return this._client.delete(O`/models/${e}`,s)}}class rv extends z{create(e,s){return this._client.post("/moderations",{body:e,...s})}}class ov extends z{accept(e,s,n){return this._client.post(O`/realtime/calls/${e}/accept`,{body:s,...n,headers:U([{Accept:"*/*"},n?.headers])})}hangup(e,s){return this._client.post(O`/realtime/calls/${e}/hangup`,{...s,headers:U([{Accept:"*/*"},s?.headers])})}refer(e,s,n){return this._client.post(O`/realtime/calls/${e}/refer`,{body:s,...n,headers:U([{Accept:"*/*"},n?.headers])})}reject(e,s={},n){return this._client.post(O`/realtime/calls/${e}/reject`,{body:s,...n,headers:U([{Accept:"*/*"},n?.headers])})}}class av extends z{create(e,s){return this._client.post("/realtime/client_secrets",{body:e,...s})}}class Fa extends z{constructor(){super(...arguments),this.clientSecrets=new av(this._client),this.calls=new ov(this._client)}}Fa.ClientSecrets=av;Fa.Calls=ov;function FA(t,e){return!e||!VA(e)?{...t,output_parsed:null,output:t.output.map(s=>s.type==="function_call"?{...s,parsed_arguments:null}:s.type==="message"?{...s,content:s.content.map(n=>({...n,parsed:null}))}:s)}:lv(t,e)}function lv(t,e){const s=t.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:zA(e,i)};if(i.type==="message"){const r=i.content.map(o=>o.type==="output_text"?{...o,parsed:BA(e,o.text)}:o);return{...i,content:r}}return i}),n=Object.assign({},t,{output:s});return Object.getOwnPropertyDescriptor(t,"output_text")||Bc(n),Object.defineProperty(n,"output_parsed",{enumerable:!0,get(){for(const i of n.output)if(i.type==="message"){for(const r of i.content)if(r.type==="output_text"&&r.parsed!==null)return r.parsed}return null}}),n}function BA(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function VA(t){return!!Jd(t.text?.format)}function UA(t){return t?.$brand==="auto-parseable-tool"}function WA(t,e){return t.find(s=>s.type==="function"&&s.name===e)}function zA(t,e){const s=WA(t.tools??[],e.name);return{...e,...e,parsed_arguments:UA(s)?s.$parseRaw(e.arguments):s?.strict?JSON.parse(e.arguments):null}}function Bc(t){const e=[];for(const s of t.output)if(s.type==="message")for(const n of s.content)n.type==="output_text"&&e.push(n.text);t.output_text=e.join("")}var Mn,no,Ss,io,Qf,Zf,em,tm;class fu extends Zd{constructor(e){super(),Mn.add(this),no.set(this,void 0),Ss.set(this,void 0),io.set(this,void 0),q(this,no,e)}static createResponse(e,s,n){const i=new fu(s);return i._run(()=>i._createOrRetrieveResponse(e,s,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(e,s,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),P(this,Mn,"m",Qf).call(this);let r,o=null;"response_id"in s?(r=await e.responses.retrieve(s.response_id,{stream:!0},{...n,signal:this.controller.signal,stream:!0}),o=s.starting_after??null):r=await e.responses.create({...s,stream:!0},{...n,signal:this.controller.signal}),this._connected();for await(const a of r)P(this,Mn,"m",Zf).call(this,a,o);if(r.controller.signal?.aborted)throw new Tt;return P(this,Mn,"m",em).call(this)}[(no=new WeakMap,Ss=new WeakMap,io=new WeakMap,Mn=new WeakSet,Qf=function(){this.ended||q(this,Ss,void 0)},Zf=function(s,n){if(this.ended)return;const i=(o,a)=>{(n==null||a.sequence_number>n)&&this._emit(o,a)},r=P(this,Mn,"m",tm).call(this,s);switch(i("event",s),s.type){case"response.output_text.delta":{const o=r.output[s.output_index];if(!o)throw new W(`missing output at index ${s.output_index}`);if(o.type==="message"){const a=o.content[s.content_index];if(!a)throw new W(`missing content at index ${s.content_index}`);if(a.type!=="output_text")throw new W(`expected content to be 'output_text', got ${a.type}`);i("response.output_text.delta",{...s,snapshot:a.text})}break}case"response.function_call_arguments.delta":{const o=r.output[s.output_index];if(!o)throw new W(`missing output at index ${s.output_index}`);o.type==="function_call"&&i("response.function_call_arguments.delta",{...s,snapshot:o.arguments});break}default:i(s.type,s);break}},em=function(){if(this.ended)throw new W("stream has ended, this shouldn't happen");const s=P(this,Ss,"f");if(!s)throw new W("request ended without sending any events");q(this,Ss,void 0);const n=HA(s,P(this,no,"f"));return q(this,io,n),n},tm=function(s){let n=P(this,Ss,"f");if(!n){if(s.type!=="response.created")throw new W(`When snapshot hasn't been set yet, expected 'response.created' event, got ${s.type}`);return n=q(this,Ss,s.response),n}switch(s.type){case"response.output_item.added":{n.output.push(s.item);break}case"response.content_part.added":{const i=n.output[s.output_index];if(!i)throw new W(`missing output at index ${s.output_index}`);const r=i.type,o=s.part;r==="message"&&o.type!=="reasoning_text"?i.content.push(o):r==="reasoning"&&o.type==="reasoning_text"&&(i.content||(i.content=[]),i.content.push(o));break}case"response.output_text.delta":{const i=n.output[s.output_index];if(!i)throw new W(`missing output at index ${s.output_index}`);if(i.type==="message"){const r=i.content[s.content_index];if(!r)throw new W(`missing content at index ${s.content_index}`);if(r.type!=="output_text")throw new W(`expected content to be 'output_text', got ${r.type}`);r.text+=s.delta}break}case"response.function_call_arguments.delta":{const i=n.output[s.output_index];if(!i)throw new W(`missing output at index ${s.output_index}`);i.type==="function_call"&&(i.arguments+=s.delta);break}case"response.reasoning_text.delta":{const i=n.output[s.output_index];if(!i)throw new W(`missing output at index ${s.output_index}`);if(i.type==="reasoning"){const r=i.content?.[s.content_index];if(!r)throw new W(`missing content at index ${s.content_index}`);if(r.type!=="reasoning_text")throw new W(`expected content to be 'reasoning_text', got ${r.type}`);r.text+=s.delta}break}case"response.completed":{q(this,Ss,s.response);break}}return n},Symbol.asyncIterator)](){const e=[],s=[];let n=!1;return this.on("event",i=>{const r=s.shift();r?r.resolve(i):e.push(i)}),this.on("end",()=>{n=!0;for(const i of s)i.resolve(void 0);s.length=0}),this.on("abort",i=>{n=!0;for(const r of s)r.reject(i);s.length=0}),this.on("error",i=>{n=!0;for(const r of s)r.reject(i);s.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((r,o)=>s.push({resolve:r,reject:o})).then(r=>r?{value:r,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=P(this,io,"f");if(!e)throw new W("stream ended without producing a ChatCompletion");return e}}function HA(t,e){return FA(t,e)}class cv extends z{list(e,s={},n){return this._client.getAPIList(O`/responses/${e}/input_items`,Le,{query:s,...n})}}class mu extends z{constructor(){super(...arguments),this.inputItems=new cv(this._client)}create(e,s){return this._client.post("/responses",{body:e,...s,stream:e.stream??!1})._thenUnwrap(n=>("object"in n&&n.object==="response"&&Bc(n),n))}retrieve(e,s={},n){return this._client.get(O`/responses/${e}`,{query:s,...n,stream:s?.stream??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&Bc(i),i))}delete(e,s){return this._client.delete(O`/responses/${e}`,{...s,headers:U([{Accept:"*/*"},s?.headers])})}parse(e,s){return this._client.responses.create(e,s)._thenUnwrap(n=>lv(n,e))}stream(e,s){return fu.createResponse(this._client,e,s)}cancel(e,s){return this._client.post(O`/responses/${e}/cancel`,s)}}mu.InputItems=cv;class dv extends z{create(e,s,n){return this._client.post(O`/uploads/${e}/parts`,dn({body:s,...n},this._client))}}class pu extends z{constructor(){super(...arguments),this.parts=new dv(this._client)}create(e,s){return this._client.post("/uploads",{body:e,...s})}cancel(e,s){return this._client.post(O`/uploads/${e}/cancel`,s)}complete(e,s,n){return this._client.post(O`/uploads/${e}/complete`,{body:s,...n})}}pu.Parts=dv;const qA=async t=>{const e=await Promise.allSettled(t),s=e.filter(i=>i.status==="rejected");if(s.length){for(const i of s)console.error(i.reason);throw new Error(`${s.length} promise(s) failed - see the above errors`)}const n=[];for(const i of e)i.status==="fulfilled"&&n.push(i.value);return n};class uv extends z{create(e,s,n){return this._client.post(O`/vector_stores/${e}/file_batches`,{body:s,...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,s,n){const{vector_store_id:i}=s;return this._client.get(O`/vector_stores/${i}/file_batches/${e}`,{...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,s,n){const{vector_store_id:i}=s;return this._client.post(O`/vector_stores/${i}/file_batches/${e}/cancel`,{...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,s,n){const i=await this.create(e,s);return await this.poll(e,i.id,n)}listFiles(e,s,n){const{vector_store_id:i,...r}=s;return this._client.getAPIList(O`/vector_stores/${i}/file_batches/${e}/files`,Le,{query:r,...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async poll(e,s,n){const i=U([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:r,response:o}=await this.retrieve(s,{vector_store_id:e},{...n,headers:i}).withResponse();switch(r.status){case"in_progress":let a=5e3;if(n?.pollIntervalMs)a=n.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await Mr(a);break;case"failed":case"cancelled":case"completed":return r}}}async uploadAndPoll(e,{files:s,fileIds:n=[]},i){if(s==null||s.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const r=i?.maxConcurrency??5,o=Math.min(r,s.length),a=this._client,l=s.values(),c=[...n];async function u(f){for(let m of f){const g=await a.files.create({file:m,purpose:"assistants"},i);c.push(g.id)}}const h=Array(o).fill(l).map(u);return await qA(h),await this.createAndPoll(e,{file_ids:c})}}class hv extends z{create(e,s,n){return this._client.post(O`/vector_stores/${e}/files`,{body:s,...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,s,n){const{vector_store_id:i}=s;return this._client.get(O`/vector_stores/${i}/files/${e}`,{...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,s,n){const{vector_store_id:i,...r}=s;return this._client.post(O`/vector_stores/${i}/files/${e}`,{body:r,...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,s={},n){return this._client.getAPIList(O`/vector_stores/${e}/files`,Le,{query:s,...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,s,n){const{vector_store_id:i}=s;return this._client.delete(O`/vector_stores/${i}/files/${e}`,{...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,s,n){const i=await this.create(e,s,n);return await this.poll(e,i.id,n)}async poll(e,s,n){const i=U([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const r=await this.retrieve(s,{vector_store_id:e},{...n,headers:i}).withResponse(),o=r.data;switch(o.status){case"in_progress":let a=5e3;if(n?.pollIntervalMs)a=n.pollIntervalMs;else{const l=r.response.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await Mr(a);break;case"failed":case"completed":return o}}}async upload(e,s,n){const i=await this._client.files.create({file:s,purpose:"assistants"},n);return this.create(e,{file_id:i.id},n)}async uploadAndPoll(e,s,n){const i=await this.upload(e,s,n);return await this.poll(e,i.id,n)}content(e,s,n){const{vector_store_id:i}=s;return this._client.getAPIList(O`/vector_stores/${i}/files/${e}/content`,Da,{...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}class Ba extends z{constructor(){super(...arguments),this.files=new hv(this._client),this.fileBatches=new uv(this._client)}create(e,s){return this._client.post("/vector_stores",{body:e,...s,headers:U([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(e,s){return this._client.get(O`/vector_stores/${e}`,{...s,headers:U([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(e,s,n){return this._client.post(O`/vector_stores/${e}`,{body:s,...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e={},s){return this._client.getAPIList("/vector_stores",Le,{query:e,...s,headers:U([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(e,s){return this._client.delete(O`/vector_stores/${e}`,{...s,headers:U([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}search(e,s,n){return this._client.getAPIList(O`/vector_stores/${e}/search`,Da,{body:s,method:"post",...n,headers:U([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}Ba.Files=hv;Ba.FileBatches=uv;var Vn,fv,Mo;class mv extends z{constructor(){super(...arguments),Vn.add(this)}async unwrap(e,s,n=this._client.webhookSecret,i=300){return await this.verifySignature(e,s,n,i),JSON.parse(e)}async verifySignature(e,s,n=this._client.webhookSecret,i=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");P(this,Vn,"m",fv).call(this,n);const r=U([s]).values,o=P(this,Vn,"m",Mo).call(this,r,"webhook-signature"),a=P(this,Vn,"m",Mo).call(this,r,"webhook-timestamp"),l=P(this,Vn,"m",Mo).call(this,r,"webhook-id"),c=parseInt(a,10);if(isNaN(c))throw new Ni("Invalid webhook timestamp format");const u=Math.floor(Date.now()/1e3);if(u-c>i)throw new Ni("Webhook timestamp is too old");if(c>u+i)throw new Ni("Webhook timestamp is too new");const h=o.split(" ").map(p=>p.startsWith("v1,")?p.substring(3):p),f=n.startsWith("whsec_")?Buffer.from(n.replace("whsec_",""),"base64"):Buffer.from(n,"utf-8"),m=l?`${l}.${a}.${e}`:`${a}.${e}`,g=await crypto.subtle.importKey("raw",f,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const p of h)try{const y=Buffer.from(p,"base64");if(await crypto.subtle.verify("HMAC",g,y,new TextEncoder().encode(m)))return}catch{continue}throw new Ni("The given webhook signature does not match the expected signature")}}Vn=new WeakSet,fv=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Mo=function(e,s){if(!e)throw new Error("Headers are required");const n=e.get(s);if(n==null)throw new Error(`Missing required header: ${s}`);return n};var Vc,gu,Oo,pv;class ae{constructor({baseURL:e=In("OPENAI_BASE_URL"),apiKey:s=In("OPENAI_API_KEY"),organization:n=In("OPENAI_ORG_ID")??null,project:i=In("OPENAI_PROJECT_ID")??null,webhookSecret:r=In("OPENAI_WEBHOOK_SECRET")??null,...o}={}){if(Vc.add(this),Oo.set(this,void 0),this.completions=new qb(this),this.chat=new su(this),this.embeddings=new Yb(this),this.files=new Jb(this),this.images=new nv(this),this.audio=new Dr(this),this.moderations=new rv(this),this.models=new iv(this),this.fineTuning=new ui(this),this.graders=new hu(this),this.vectorStores=new Ba(this),this.webhooks=new mv(this),this.beta=new Lr(this),this.batches=new Bb(this),this.uploads=new pu(this),this.responses=new mu(this),this.realtime=new Fa(this),this.conversations=new ou(this),this.evals=new lu(this),this.containers=new ru(this),s===void 0)throw new W("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const a={apiKey:s,organization:n,project:i,webhookSecret:r,...o,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&HE())throw new W(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=a.baseURL,this.timeout=a.timeout??gu.DEFAULT_TIMEOUT,this.logger=a.logger??console;const l="warn";this.logLevel=l,this.logLevel=Ff(a.logLevel,"ClientOptions.logLevel",this)??Ff(In("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??l,this.fetchOptions=a.fetchOptions,this.maxRetries=a.maxRetries??2,this.fetch=a.fetch??XE(),q(this,Oo,QE),this._options=a,this.apiKey=typeof s=="string"?s:"Missing Key",this.organization=n,this.project=i,this.webhookSecret=r}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:s}){}async authHeaders(e){return U([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return iA(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Fn}`}defaultIdempotencyKey(){return`stainless-node-retry-${Wx()}`}makeStatusError(e,s,n,i){return Xe.generate(e,s,n,i)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let s;try{s=await e()}catch(n){throw n instanceof W?n:new W(`Failed to get token from 'apiKey' function: ${n.message}`,{cause:n})}if(typeof s!="string"||!s)throw new W(`Expected 'apiKey' function argument to return a string but it returned ${s}`);return this.apiKey=s,!0}buildURL(e,s,n){const i=!P(this,Vc,"m",pv).call(this)&&n||this.baseURL,r=BE(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return VE(o)||(s={...o,...s}),typeof s=="object"&&s&&!Array.isArray(s)&&(r.search=this.stringifyQuery(s)),r.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:s,options:n}){}get(e,s){return this.methodRequest("get",e,s)}post(e,s){return this.methodRequest("post",e,s)}patch(e,s){return this.methodRequest("patch",e,s)}put(e,s){return this.methodRequest("put",e,s)}delete(e,s){return this.methodRequest("delete",e,s)}methodRequest(e,s,n){return this.request(Promise.resolve(n).then(i=>({method:e,path:s,...i})))}request(e,s=null){return new Oa(this,this.makeRequest(e,s,void 0))}async makeRequest(e,s,n){const i=await e,r=i.maxRetries??this.maxRetries;s==null&&(s=r),await this.prepareOptions(i);const{req:o,url:a,timeout:l}=await this.buildRequest(i,{retryCount:r-s});await this.prepareRequest(o,{url:a,options:i});const c="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),u=n===void 0?"":`, retryOf: ${n}`,h=Date.now();if(Ke(this).debug(`[${c}] sending request`,Gs({retryOfRequestLogID:n,method:i.method,url:a,options:i,headers:o.headers})),i.signal?.aborted)throw new Tt;const f=new AbortController,m=await this.fetchWithTimeout(a,o,l,f).catch(Ac),g=Date.now();if(m instanceof globalThis.Error){const v=`retrying, ${s} attempts remaining`;if(i.signal?.aborted)throw new Tt;const x=Ec(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(s)return Ke(this).info(`[${c}] connection ${x?"timed out":"failed"} - ${v}`),Ke(this).debug(`[${c}] connection ${x?"timed out":"failed"} (${v})`,Gs({retryOfRequestLogID:n,url:a,durationMs:g-h,message:m.message})),this.retryRequest(i,s,n??c);throw Ke(this).info(`[${c}] connection ${x?"timed out":"failed"} - error; no more retries left`),Ke(this).debug(`[${c}] connection ${x?"timed out":"failed"} (error; no more retries left)`,Gs({retryOfRequestLogID:n,url:a,durationMs:g-h,message:m.message})),x?new Gd:new Ia({cause:m})}const p=[...m.headers.entries()].filter(([v])=>v==="x-request-id").map(([v,x])=>", "+v+": "+JSON.stringify(x)).join(""),y=`[${c}${u}${p}] ${o.method} ${a} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${g-h}ms`;if(!m.ok){const v=await this.shouldRetry(m);if(s&&v){const C=`retrying, ${s} attempts remaining`;return await JE(m.body),Ke(this).info(`${y} - ${C}`),Ke(this).debug(`[${c}] response error (${C})`,Gs({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:g-h})),this.retryRequest(i,s,n??c,m.headers)}const x=v?"error; no more retries left":"error; not retryable";Ke(this).info(`${y} - ${x}`);const w=await m.text().catch(C=>Ac(C).message),S=zE(w),_=S?void 0:w;throw Ke(this).debug(`[${c}] response error (${x})`,Gs({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,message:_,durationMs:Date.now()-h})),this.makeStatusError(m.status,S,_,m.headers)}return Ke(this).info(y),Ke(this).debug(`[${c}] response start`,Gs({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:g-h})),{response:m,options:i,controller:f,requestLogID:c,retryOfRequestLogID:n,startTime:h}}getAPIList(e,s,n){return this.requestAPIList(s,{method:"get",path:e,...n})}requestAPIList(e,s){const n=this.makeRequest(s,null,void 0);return new fA(this,n,e)}async fetchWithTimeout(e,s,n,i){const{signal:r,method:o,...a}=s||{};r&&r.addEventListener("abort",()=>i.abort());const l=setTimeout(()=>i.abort(),n),c=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,u={signal:i.signal,...c?{duplex:"half"}:{},method:"GET",...a};o&&(u.method=o.toUpperCase());try{return await this.fetch.call(void 0,e,u)}finally{clearTimeout(l)}}async shouldRetry(e){const s=e.headers.get("x-should-retry");return s==="true"?!0:s==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,s,n,i){let r;const o=i?.get("retry-after-ms");if(o){const l=parseFloat(o);Number.isNaN(l)||(r=l)}const a=i?.get("retry-after");if(a&&!r){const l=parseFloat(a);Number.isNaN(l)?r=Date.parse(a)-Date.now():r=l*1e3}if(!(r&&0<=r&&r<60*1e3)){const l=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(s,l)}return await Mr(r),this.makeRequest(e,s-1,n)}calculateDefaultRetryTimeoutMillis(e,s){const r=s-e,o=Math.min(.5*Math.pow(2,r),8),a=1-Math.random()*.25;return o*a*1e3}async buildRequest(e,{retryCount:s=0}={}){const n={...e},{method:i,path:r,query:o,defaultBaseURL:a}=n,l=this.buildURL(r,o,a);"timeout"in n&&WE("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const{bodyHeaders:c,body:u}=this.buildBody({options:n}),h=await this.buildHeaders({options:e,method:i,bodyHeaders:c,retryCount:s});return{req:{method:i,headers:h,...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&u instanceof globalThis.ReadableStream&&{duplex:"half"},...u&&{body:u},...this.fetchOptions??{},...n.fetchOptions??{}},url:l,timeout:n.timeout}}async buildHeaders({options:e,method:s,bodyHeaders:n,retryCount:i}){let r={};this.idempotencyHeader&&s!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),r[this.idempotencyHeader]=e.idempotencyKey);const o=U([r,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...YE(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,n,e.headers]);return this.validateHeaders(o),o.values}buildBody({options:{body:e,headers:s}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=U([s]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:sb(e)}:P(this,Oo,"f").call(this,{body:e,headers:n})}}gu=ae,Oo=new WeakMap,Vc=new WeakSet,pv=function(){return this.baseURL!=="https://api.openai.com/v1"};ae.OpenAI=gu;ae.DEFAULT_TIMEOUT=6e5;ae.OpenAIError=W;ae.APIError=Xe;ae.APIConnectionError=Ia;ae.APIConnectionTimeoutError=Gd;ae.APIUserAbortError=Tt;ae.NotFoundError=Kx;ae.ConflictError=Gx;ae.RateLimitError=Xx;ae.BadRequestError=zx;ae.AuthenticationError=Hx;ae.InternalServerError=Jx;ae.PermissionDeniedError=qx;ae.UnprocessableEntityError=Yx;ae.InvalidWebhookSignatureError=Ni;ae.toFile=vA;ae.Completions=qb;ae.Chat=su;ae.Embeddings=Yb;ae.Files=Jb;ae.Images=nv;ae.Audio=Dr;ae.Moderations=rv;ae.Models=iv;ae.FineTuning=ui;ae.Graders=hu;ae.VectorStores=Ba;ae.Webhooks=mv;ae.Beta=Lr;ae.Batches=Bb;ae.Uploads=pu;ae.Responses=mu;ae.Realtime=Fa;ae.Conversations=ou;ae.Evals=lu;ae.Containers=ru;const yu="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",gv="https://ecotravel-omega.vercel.app/",yv="EcoTravel - Sustainable Tourism Platform";console.log("=== OPENROUTER API DEBUG ===");console.log("API Key exists:",!0);console.log("API Key length:",yu?.length);console.log("API Key preview:",yu?.substring(0,15)+"...");console.log("Site URL:",gv);console.log("Site Name:",yv);const KA=new ae({baseURL:"https://openrouter.ai/api/v1",apiKey:yu,defaultHeaders:{"HTTP-Referer":gv,"X-Title":yv}});class GA{conversationHistory=[];MAX_HISTORY=10;MODEL="anthropic/claude-3.5-sonnet-20241022";constructor(){console.log("Initializing OpenRouter Chat Service..."),console.log("Using model:",this.MODEL),this.initializeChat()}initializeChat(){this.conversationHistory=[{role:"assistant",content:`You are EcoBot, a helpful AI assistant specializing in sustainable travel and eco-friendly tourism. 
        
Your expertise includes:
- Eco-friendly travel destinations and accommodations
- Carbon footprint reduction strategies for travelers  
- Sustainable transportation options
- Local environmental conservation initiatives
- Green travel tips and best practices
- Climate-conscious travel planning

Always provide helpful, accurate, and environmentally-focused advice. Keep responses conversational, informative, and encouraging towards sustainable practices. If asked about topics outside sustainable travel, politely redirect the conversation back to eco-friendly travel topics.`}],console.log("OpenRouter chat initialized with EcoBot persona")}async sendMessage(e){console.log("=== SENDING MESSAGE TO OPENROUTER ==="),console.log("Input message:",e);try{if(!e||e.trim().length===0)throw new Error("Message cannot be empty");this.conversationHistory.push({role:"user",content:e.trim()});const s=this.conversationHistory.map(r=>({role:r.role,content:r.content}));console.log("Sending request to OpenRouter..."),console.log("Conversation history length:",this.conversationHistory.length);const n=await KA.chat.completions.create({model:this.MODEL,messages:s,max_tokens:500,temperature:.7,stream:!1});console.log("Received response from OpenRouter");const i=n.choices[0]?.message?.content;if(!i||i.trim().length===0)throw new Error("Empty response from OpenRouter API");if(console.log("Response content length:",i.length),console.log("Response preview:",i.substring(0,100)+"..."),this.conversationHistory.push({role:"assistant",content:i.trim()}),this.conversationHistory.length>this.MAX_HISTORY){const r=this.conversationHistory[0],o=this.conversationHistory.slice(-(this.MAX_HISTORY-1));this.conversationHistory=[r,...o],console.log("Trimmed conversation history to",this.conversationHistory.length,"messages")}return i.trim()}catch(s){throw console.error("=== OPENROUTER API ERROR ==="),console.error("Error type:",s?.constructor?.name),console.error("Error message:",s?.message),console.error("Error code:",s?.code),console.error("Error status:",s?.status),console.error("Full error:",s),s?.status===401||s?.message?.includes("API key")?new Error("❌ Invalid API key. Please verify your OpenRouter API key is correct."):s?.status===403||s?.message?.includes("PERMISSION_DENIED")?new Error("❌ Permission denied. Please check your API key permissions and billing status."):s?.status===429||s?.message?.includes("rate limit")||s?.message?.includes("quota")?new Error("❌ API rate limit exceeded. Please wait a moment and try again."):s?.status===503||s?.message?.includes("service unavailable")?new Error("🔧 OpenRouter service is temporarily unavailable. Please try again in a few moments."):s?.message?.includes("network")||s?.message?.includes("fetch")||s?.code==="NETWORK_ERROR"?new Error("❌ Network error. Please check your internet connection."):s?.message?.includes("model")&&s?.message?.includes("not found")?new Error("❌ Model not available. The Claude Sonnet model may be temporarily unavailable."):new Error(`❌ OpenRouter API Error: ${s?.message||"Unknown error occurred"}`)}}resetChat(){console.log("Chat reset requested"),this.initializeChat()}getConversationHistory(){return[...this.conversationHistory]}}const YA=()=>{const[t,e]=b.useState(!1),[s,n]=b.useState(!1),[i,r]=b.useState([{id:"1",role:"assistant",content:"Hello! I'm EcoBot, your AI-powered sustainable travel assistant. Powered by Claude, I can help you with eco-friendly travel tips, destination recommendations, carbon footprint reduction, and sustainable tourism practices. How can I assist you today?",timestamp:new Date}]),[o,a]=b.useState(""),[l,c]=b.useState(!1),[u]=b.useState(()=>{console.log("Creating OpenRouterChatService instance...");try{const M=new GA;return console.log("OpenRouterChatService created successfully"),M}catch(M){throw console.error("Failed to create OpenRouterChatService:",M),M}}),[h,f]=b.useState(!1),[m,g]=b.useState(!1),[p,y]=b.useState(!1),[v,x]=b.useState(!0),w=b.useRef(null),S=b.useRef(null),_=b.useRef(null),T=()=>{w.current?.scrollIntoView({behavior:"smooth"})};b.useEffect(()=>{const M=window.SpeechRecognition||window.webkitSpeechRecognition;if(M){y(!0);const D=new M;D.continuous=!1,D.interimResults=!1,D.lang="en-US",D.onstart=()=>{console.log("🎤 Speech recognition started"),f(!0)},D.onend=()=>{console.log("🎤 Speech recognition ended"),f(!1)},D.onresult=$=>{const L=$.results[0]?.[0]?.transcript;L&&(console.log("🎤 Speech recognized:",L),a(L),setTimeout(()=>{L.trim()&&A(L.trim())},100))},D.onerror=$=>{console.error("🎤 Speech recognition error:",$.error),f(!1);let L="Voice recognition failed. ";switch($.error){case"not-allowed":L+="Please allow microphone access.";break;case"no-speech":L+="No speech detected. Please try again.";break;case"network":L+="Network error. Check your connection.";break;default:L+="Please try again."}const R=S.current?.placeholder;S.current&&(S.current.placeholder=L,setTimeout(()=>{S.current&&R&&(S.current.placeholder=R)},3e3))},_.current=D}else console.warn("🎤 Speech Recognition not supported in this browser"),y(!1);return()=>{_.current&&_.current.abort()}},[]),b.useEffect(()=>()=>{"speechSynthesis"in window&&window.speechSynthesis.cancel()},[t]);const C=M=>{if(!v||!("speechSynthesis"in window))return;window.speechSynthesis.cancel(),g(!0);const D=new SpeechSynthesisUtterance(M);D.rate=.9,D.pitch=1,D.volume=.8;const L=window.speechSynthesis.getVoices().find(R=>R.name.includes("Google")||R.name.includes("Microsoft")||R.lang.startsWith("en"));L&&(D.voice=L),D.onstart=()=>{console.log("🔊 Speaking started"),g(!0)},D.onend=()=>{console.log("🔊 Speaking ended"),g(!1)},D.onerror=R=>{console.error("🔊 Speech synthesis error:",R),g(!1)},window.speechSynthesis.speak(D)},j=()=>{if(!p||!_.current){alert("Speech recognition is not supported in your browser. Please use Chrome, Edge, or Safari.");return}h?_.current.stop():(a(""),_.current.start())},E=()=>{"speechSynthesis"in window&&(window.speechSynthesis.cancel(),g(!1))};b.useEffect(()=>{T()},[i]),b.useEffect(()=>{t&&!s&&S.current&&S.current.focus()},[t,s]);const k=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),A=async M=>{const D=M||o.trim();if(!D||l)return;const $={id:k(),role:"user",content:D,timestamp:new Date};r(L=>[...L,$]),a(""),c(!0);try{console.log("Attempting to send message to chat service..."),console.log("User message content:",$.content),console.log("Chat service exists:",!!u);const L=await u.sendMessage($.content);console.log("Received response from chat service:",L),console.log("Response length:",L?.length),console.log("Response preview:",L?.substring(0,100)+"...");const R={id:k(),role:"assistant",content:L,timestamp:new Date};r(ne=>[...ne,R]),v&&L&&setTimeout(()=>{C(L)},300)}catch(L){console.error("Chat error details:",L);let R="I apologize, but I'm having trouble responding right now. ";L?.message?.includes("service is currently unavailable")?R="🔧 The AI service is temporarily busy. Please wait a moment and try again!":L?.message?.includes("quota")?R="📊 API usage limit reached. Please try again in a few minutes.":L?.message?.includes("network")?R="🌐 Network connection issue. Please check your internet and try again.":L?.message?R+=`Error: ${L.message}`:R+="Please try again in a moment.";const ne={id:k(),role:"assistant",content:R,timestamp:new Date};r(he=>[...he,ne]),v&&setTimeout(()=>{C("I apologize, but I'm having trouble responding right now. Please try again.")},300)}finally{c(!1)}},N=M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),A())},G=()=>{r([{id:k(),role:"assistant",content:"Chat cleared! How can I help you with your eco-travel plans?",timestamp:new Date}]),u.resetChat()},F=M=>M.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return t?d.jsx("div",{className:"fixed bottom-4 sm:bottom-6 right-4 sm:right-6 z-50 safe-area-bottom",children:d.jsxs(se,{className:`transition-all duration-300 shadow-2xl ${s?"w-72 sm:w-80 h-14 sm:h-16":"w-[calc(100vw-2rem)] sm:w-80 md:w-96 h-[calc(100vh-6rem)] sm:h-[500px] md:h-[600px] max-w-md"}`,children:[d.jsx(_e,{className:"p-3 sm:p-4 bg-gradient-to-r from-nature-primary to-nature-accent text-white rounded-t-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ol,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),d.jsx(Te,{className:"text-base sm:text-lg font-semibold",children:"EcoBot"}),d.jsx("div",{className:"h-1.5 w-1.5 sm:h-2 sm:w-2 bg-red-400 rounded-full animate-pulse flex-shrink-0"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(J,{variant:"ghost",size:"sm",onClick:()=>n(!s),className:"text-white hover:bg-white/20 h-7 w-7 sm:h-8 sm:w-8 p-0 touch-target",children:s?d.jsx(TS,{className:"h-3 w-3 sm:h-4 sm:w-4"}):d.jsx(CS,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),d.jsx(J,{variant:"ghost",size:"sm",onClick:()=>e(!1),className:"text-white hover:bg-white/20 h-7 w-7 sm:h-8 sm:w-8 p-0 touch-target",children:d.jsx(Sd,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]})}),!s&&d.jsx(d.Fragment,{children:d.jsxs(re,{className:"p-0 h-[calc(100%-8rem)] sm:h-[420px] md:h-[480px] flex flex-col",children:[d.jsxs(Vx,{className:"flex-1 p-3 sm:p-4",children:[d.jsxs("div",{className:"space-y-4",children:[i.map(M=>d.jsxs("div",{className:`flex gap-3 ${M.role==="user"?"justify-end":"justify-start"}`,children:[M.role==="assistant"&&d.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-nature-accent rounded-full flex items-center justify-center",children:d.jsx(ol,{className:"h-4 w-4 text-white"})}),d.jsxs("div",{className:`max-w-[200px] sm:max-w-[250px] rounded-lg p-2 sm:p-3 ${M.role==="user"?"bg-nature-primary text-white":"bg-muted text-foreground"}`,children:[d.jsx("p",{className:"text-xs sm:text-sm whitespace-pre-wrap break-words",children:M.content}),d.jsx("p",{className:"text-xs mt-1 opacity-70",children:F(M.timestamp)})]}),M.role==="user"&&d.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-nature-primary rounded-full flex items-center justify-center",children:d.jsx(Uo,{className:"h-4 w-4 text-white"})})]},M.id)),l&&d.jsxs("div",{className:"flex gap-3 justify-start",children:[d.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-nature-accent rounded-full flex items-center justify-center",children:d.jsx(ol,{className:"h-4 w-4 text-white"})}),d.jsx("div",{className:"bg-muted rounded-lg p-3",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(lr,{className:"h-4 w-4 animate-spin"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"EcoBot is thinking..."})]})})]})]}),d.jsx("div",{ref:w})]}),d.jsxs("div",{className:"p-3 sm:p-4 border-t",children:[d.jsxs("div",{className:"flex gap-1 sm:gap-2",children:[d.jsx(tt,{ref:S,value:o,onChange:M=>a(M.target.value),onKeyPress:N,placeholder:h?"🎤 Listening...":"Ask about eco-travel...",disabled:l||h,className:"flex-1 text-xs sm:text-sm"}),p&&d.jsx(J,{onClick:j,disabled:l,size:"sm",variant:h?"destructive":"outline",className:`${h?"animate-pulse":""} touch-target min-w-[2rem] sm:min-w-[2.5rem]`,title:h?"Stop listening":"Start voice input",children:h?d.jsx(jS,{className:"h-3 w-3 sm:h-4 sm:w-4"}):d.jsx(al,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),"speechSynthesis"in window&&d.jsx(J,{onClick:()=>{m?E():x(!v)},size:"sm",variant:"outline",className:`${m?"animate-pulse":""} touch-target min-w-[2rem] sm:min-w-[2.5rem]`,title:m?"Stop speaking":v?"Disable voice responses":"Enable voice responses",children:m?d.jsx(Ah,{className:"h-3 w-3 sm:h-4 sm:w-4"}):v?d.jsx(Nh,{className:"h-3 w-3 sm:h-4 sm:w-4"}):d.jsx(Ah,{className:"h-3 w-3 sm:h-4 sm:w-4 opacity-50"})}),d.jsx(J,{onClick:()=>A(),disabled:!o.trim()||l||h,size:"sm",className:"bg-nature-accent hover:bg-nature-accent/90 touch-target min-w-[2rem] sm:min-w-[2.5rem]",children:d.jsx(Hg,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx(J,{variant:"ghost",size:"sm",onClick:G,className:"text-xs text-muted-foreground hover:text-foreground h-6 px-2",children:"Clear chat"}),d.jsxs("div",{className:"flex items-center gap-2",children:[p&&d.jsx("span",{className:"text-xs text-muted-foreground",children:h?"🎤 Listening...":"Click mic to speak"}),!p&&d.jsx("span",{className:"text-xs text-muted-foreground",children:"Voice not supported"})]})]}),p&&d.jsxs("div",{className:"mt-2 text-xs text-muted-foreground bg-muted/50 rounded p-2 hidden sm:block",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx(al,{className:"h-3 w-3"}),d.jsx("span",{className:"font-medium",children:"Voice Commands:"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{children:["• Click ",d.jsx(al,{className:"h-3 w-3 inline"})," to speak your message"]}),d.jsx("div",{children:"• Responses will be read aloud automatically"}),d.jsxs("div",{children:["• Click ",d.jsx(Nh,{className:"h-3 w-3 inline"})," to toggle voice responses"]})]})]})]})]})})]})}):d.jsxs("div",{className:"fixed bottom-4 sm:bottom-6 right-4 sm:right-6 z-50 safe-area-bottom",children:[d.jsx(J,{onClick:()=>e(!0),size:"lg",className:"rounded-full h-12 w-12 sm:h-14 sm:w-14 shadow-lg hover:shadow-xl transition-all duration-300 bg-nature-accent hover:bg-nature-accent/90 chatbot-pulse touch-target",title:"Chat with EcoBot - Your sustainable travel assistant",children:d.jsx(So,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),d.jsx("div",{className:"absolute -top-1 -right-1 sm:-top-2 sm:-right-2 h-3 w-3 sm:h-4 sm:w-4 bg-red-600 rounded-full animate-pulse"})]})},xv=b.createContext({});function XA(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const xu=typeof window<"u",JA=xu?b.useLayoutEffect:b.useEffect,bu=b.createContext(null);function vu(t,e){t.indexOf(e)===-1&&t.push(e)}function wu(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}const fs=(t,e,s)=>s>e?e:s<t?t:s;let _u=()=>{};const ms={},bv=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function vv(t){return typeof t=="object"&&t!==null}const wv=t=>/^0[^.\s]+$/u.test(t);function Su(t){let e;return()=>(e===void 0&&(e=t()),e)}const kt=t=>t,QA=(t,e)=>s=>e(t(s)),$r=(...t)=>t.reduce(QA),fr=(t,e,s)=>{const n=e-t;return n===0?1:(s-t)/n};class Tu{constructor(){this.subscriptions=[]}add(e){return vu(this.subscriptions,e),()=>wu(this.subscriptions,e)}notify(e,s,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,s,n);else for(let r=0;r<i;r++){const o=this.subscriptions[r];o&&o(e,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zt=t=>t*1e3,Ct=t=>t/1e3;function _v(t,e){return e?t*(1e3/e):0}const Sv=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,ZA=1e-7,eN=12;function tN(t,e,s,n,i){let r,o,a=0;do o=e+(s-e)/2,r=Sv(o,n,i)-t,r>0?s=o:e=o;while(Math.abs(r)>ZA&&++a<eN);return o}function Fr(t,e,s,n){if(t===e&&s===n)return kt;const i=r=>tN(r,0,1,t,s);return r=>r===0||r===1?r:Sv(i(r),e,n)}const Tv=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Cv=t=>e=>1-t(1-e),jv=Fr(.33,1.53,.69,.99),Cu=Cv(jv),kv=Tv(Cu),Pv=t=>(t*=2)<1?.5*Cu(t):.5*(2-Math.pow(2,-10*(t-1))),ju=t=>1-Math.sin(Math.acos(t)),Ev=Cv(ju),Av=Tv(ju),sN=Fr(.42,0,1,1),nN=Fr(0,0,.58,1),Nv=Fr(.42,0,.58,1),iN=t=>Array.isArray(t)&&typeof t[0]!="number",Rv=t=>Array.isArray(t)&&typeof t[0]=="number",rN={linear:kt,easeIn:sN,easeInOut:Nv,easeOut:nN,circIn:ju,circInOut:Av,circOut:Ev,backIn:Cu,backInOut:kv,backOut:jv,anticipate:Pv},oN=t=>typeof t=="string",sm=t=>{if(Rv(t)){_u(t.length===4);const[e,s,n,i]=t;return Fr(e,s,n,i)}else if(oN(t))return rN[t];return t},ro=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function aN(t,e){let s=new Set,n=new Set,i=!1,r=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){o.has(u)&&(c.schedule(u),t()),u(a)}const c={schedule:(u,h=!1,f=!1)=>{const g=f&&i?s:n;return h&&o.add(u),g.has(u)||g.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(a=u,i){r=!0;return}i=!0,[s,n]=[n,s],s.forEach(l),s.clear(),i=!1,r&&(r=!1,c.process(u))}};return c}const lN=40;function Iv(t,e){let s=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>s=!0,o=ro.reduce((w,S)=>(w[S]=aN(r),w),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:h,preRender:f,render:m,postRender:g}=o,p=()=>{const w=ms.useManualTiming?i.timestamp:performance.now();s=!1,ms.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(w-i.timestamp,lN),1)),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),h.process(i),f.process(i),m.process(i),g.process(i),i.isProcessing=!1,s&&e&&(n=!1,t(p))},y=()=>{s=!0,n=!0,i.isProcessing||t(p)};return{schedule:ro.reduce((w,S)=>{const _=o[S];return w[S]=(T,C=!1,j=!1)=>(s||y(),_.schedule(T,C,j)),w},{}),cancel:w=>{for(let S=0;S<ro.length;S++)o[ro[S]].cancel(w)},state:i,steps:o}}const{schedule:Ce,cancel:Ns,state:Ge,steps:Rl}=Iv(typeof requestAnimationFrame<"u"?requestAnimationFrame:kt,!0);let Do;function cN(){Do=void 0}const ft={now:()=>(Do===void 0&&ft.set(Ge.isProcessing||ms.useManualTiming?Ge.timestamp:performance.now()),Do),set:t=>{Do=t,queueMicrotask(cN)}},Mv=t=>e=>typeof e=="string"&&e.startsWith(t),ku=Mv("--"),dN=Mv("var(--"),Pu=t=>dN(t)?uN.test(t.split("/*")[0].trim()):!1,uN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mr={...hi,transform:t=>fs(0,1,t)},oo={...hi,default:1},Zi=t=>Math.round(t*1e5)/1e5,Eu=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hN(t){return t==null}const fN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Au=(t,e)=>s=>!!(typeof s=="string"&&fN.test(s)&&s.startsWith(t)||e&&!hN(s)&&Object.prototype.hasOwnProperty.call(s,e)),Ov=(t,e,s)=>n=>{if(typeof n!="string")return n;const[i,r,o,a]=n.match(Eu);return{[t]:parseFloat(i),[e]:parseFloat(r),[s]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},mN=t=>fs(0,255,t),Il={...hi,transform:t=>Math.round(mN(t))},sn={test:Au("rgb","red"),parse:Ov("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:n=1})=>"rgba("+Il.transform(t)+", "+Il.transform(e)+", "+Il.transform(s)+", "+Zi(mr.transform(n))+")"};function pN(t){let e="",s="",n="",i="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,s+=s,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Uc={test:Au("#"),parse:pN,transform:sn.transform},Br=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Cs=Br("deg"),es=Br("%"),H=Br("px"),gN=Br("vh"),yN=Br("vw"),nm={...es,parse:t=>es.parse(t)/100,transform:t=>es.transform(t*100)},Wn={test:Au("hsl","hue"),parse:Ov("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:n=1})=>"hsla("+Math.round(t)+", "+es.transform(Zi(e))+", "+es.transform(Zi(s))+", "+Zi(mr.transform(n))+")"},De={test:t=>sn.test(t)||Uc.test(t)||Wn.test(t),parse:t=>sn.test(t)?sn.parse(t):Wn.test(t)?Wn.parse(t):Uc.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?sn.transform(t):Wn.transform(t),getAnimatableNone:t=>{const e=De.parse(t);return e.alpha=0,De.transform(e)}},xN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bN(t){return isNaN(t)&&typeof t=="string"&&(t.match(Eu)?.length||0)+(t.match(xN)?.length||0)>0}const Dv="number",Lv="color",vN="var",wN="var(",im="${}",_N=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pr(t){const e=t.toString(),s=[],n={color:[],number:[],var:[]},i=[];let r=0;const a=e.replace(_N,l=>(De.test(l)?(n.color.push(r),i.push(Lv),s.push(De.parse(l))):l.startsWith(wN)?(n.var.push(r),i.push(vN),s.push(l)):(n.number.push(r),i.push(Dv),s.push(parseFloat(l))),++r,im)).split(im);return{values:s,split:a,indexes:n,types:i}}function $v(t){return pr(t).values}function Fv(t){const{split:e,types:s}=pr(t),n=e.length;return i=>{let r="";for(let o=0;o<n;o++)if(r+=e[o],i[o]!==void 0){const a=s[o];a===Dv?r+=Zi(i[o]):a===Lv?r+=De.transform(i[o]):r+=i[o]}return r}}const SN=t=>typeof t=="number"?0:De.test(t)?De.getAnimatableNone(t):t;function TN(t){const e=$v(t);return Fv(t)(e.map(SN))}const Rs={test:bN,parse:$v,createTransformer:Fv,getAnimatableNone:TN};function Ml(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function CN({hue:t,saturation:e,lightness:s,alpha:n}){t/=360,e/=100,s/=100;let i=0,r=0,o=0;if(!e)i=r=o=s;else{const a=s<.5?s*(1+e):s+e-s*e,l=2*s-a;i=Ml(l,a,t+1/3),r=Ml(l,a,t),o=Ml(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:n}}function oa(t,e){return s=>s>0?e:t}const ke=(t,e,s)=>t+(e-t)*s,Ol=(t,e,s)=>{const n=t*t,i=s*(e*e-n)+n;return i<0?0:Math.sqrt(i)},jN=[Uc,sn,Wn],kN=t=>jN.find(e=>e.test(t));function rm(t){const e=kN(t);if(!e)return!1;let s=e.parse(t);return e===Wn&&(s=CN(s)),s}const om=(t,e)=>{const s=rm(t),n=rm(e);if(!s||!n)return oa(t,e);const i={...s};return r=>(i.red=Ol(s.red,n.red,r),i.green=Ol(s.green,n.green,r),i.blue=Ol(s.blue,n.blue,r),i.alpha=ke(s.alpha,n.alpha,r),sn.transform(i))},Wc=new Set(["none","hidden"]);function PN(t,e){return Wc.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function EN(t,e){return s=>ke(t,e,s)}function Nu(t){return typeof t=="number"?EN:typeof t=="string"?Pu(t)?oa:De.test(t)?om:RN:Array.isArray(t)?Bv:typeof t=="object"?De.test(t)?om:AN:oa}function Bv(t,e){const s=[...t],n=s.length,i=t.map((r,o)=>Nu(r)(r,e[o]));return r=>{for(let o=0;o<n;o++)s[o]=i[o](r);return s}}function AN(t,e){const s={...t,...e},n={};for(const i in s)t[i]!==void 0&&e[i]!==void 0&&(n[i]=Nu(t[i])(t[i],e[i]));return i=>{for(const r in n)s[r]=n[r](i);return s}}function NN(t,e){const s=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const r=e.types[i],o=t.indexes[r][n[r]],a=t.values[o]??0;s[i]=a,n[r]++}return s}const RN=(t,e)=>{const s=Rs.createTransformer(e),n=pr(t),i=pr(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Wc.has(t)&&!i.values.length||Wc.has(e)&&!n.values.length?PN(t,e):$r(Bv(NN(n,i),i.values),s):oa(t,e)};function Vv(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?ke(t,e,s):Nu(t)(t,e)}const IN=t=>{const e=({timestamp:s})=>t(s);return{start:(s=!0)=>Ce.update(e,s),stop:()=>Ns(e),now:()=>Ge.isProcessing?Ge.timestamp:ft.now()}},Uv=(t,e,s=10)=>{let n="";const i=Math.max(Math.round(e/s),2);for(let r=0;r<i;r++)n+=Math.round(t(r/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},aa=2e4;function Ru(t){let e=0;const s=50;let n=t.next(e);for(;!n.done&&e<aa;)e+=s,n=t.next(e);return e>=aa?1/0:e}function MN(t,e=100,s){const n=s({...t,keyframes:[0,e]}),i=Math.min(Ru(n),aa);return{type:"keyframes",ease:r=>n.next(i*r).value/e,duration:Ct(i)}}const ON=5;function Wv(t,e,s){const n=Math.max(e-ON,0);return _v(s-t(n),e-n)}const Ee={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dl=.001;function DN({duration:t=Ee.duration,bounce:e=Ee.bounce,velocity:s=Ee.velocity,mass:n=Ee.mass}){let i,r,o=1-e;o=fs(Ee.minDamping,Ee.maxDamping,o),t=fs(Ee.minDuration,Ee.maxDuration,Ct(t)),o<1?(i=c=>{const u=c*o,h=u*t,f=u-s,m=zc(c,o),g=Math.exp(-h);return Dl-f/m*g},r=c=>{const h=c*o*t,f=h*s+s,m=Math.pow(o,2)*Math.pow(c,2)*t,g=Math.exp(-h),p=zc(Math.pow(c,2),o);return(-i(c)+Dl>0?-1:1)*((f-m)*g)/p}):(i=c=>{const u=Math.exp(-c*t),h=(c-s)*t+1;return-Dl+u*h},r=c=>{const u=Math.exp(-c*t),h=(s-c)*(t*t);return u*h});const a=5/t,l=$N(i,r,a);if(t=Zt(t),isNaN(l))return{stiffness:Ee.stiffness,damping:Ee.damping,duration:t};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:t}}}const LN=12;function $N(t,e,s){let n=s;for(let i=1;i<LN;i++)n=n-t(n)/e(n);return n}function zc(t,e){return t*Math.sqrt(1-e*e)}const FN=["duration","bounce"],BN=["stiffness","damping","mass"];function am(t,e){return e.some(s=>t[s]!==void 0)}function VN(t){let e={velocity:Ee.velocity,stiffness:Ee.stiffness,damping:Ee.damping,mass:Ee.mass,isResolvedFromDuration:!1,...t};if(!am(t,BN)&&am(t,FN))if(t.visualDuration){const s=t.visualDuration,n=2*Math.PI/(s*1.2),i=n*n,r=2*fs(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ee.mass,stiffness:i,damping:r}}else{const s=DN(t);e={...e,...s,mass:Ee.mass},e.isResolvedFromDuration=!0}return e}function la(t=Ee.visualDuration,e=Ee.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=s;const r=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],a={done:!1,value:r},{stiffness:l,damping:c,mass:u,duration:h,velocity:f,isResolvedFromDuration:m}=VN({...s,velocity:-Ct(s.velocity||0)}),g=f||0,p=c/(2*Math.sqrt(l*u)),y=o-r,v=Ct(Math.sqrt(l/u)),x=Math.abs(y)<5;n||(n=x?Ee.restSpeed.granular:Ee.restSpeed.default),i||(i=x?Ee.restDelta.granular:Ee.restDelta.default);let w;if(p<1){const _=zc(v,p);w=T=>{const C=Math.exp(-p*v*T);return o-C*((g+p*v*y)/_*Math.sin(_*T)+y*Math.cos(_*T))}}else if(p===1)w=_=>o-Math.exp(-v*_)*(y+(g+v*y)*_);else{const _=v*Math.sqrt(p*p-1);w=T=>{const C=Math.exp(-p*v*T),j=Math.min(_*T,300);return o-C*((g+p*v*y)*Math.sinh(j)+_*y*Math.cosh(j))/_}}const S={calculatedDuration:m&&h||null,next:_=>{const T=w(_);if(m)a.done=_>=h;else{let C=_===0?g:0;p<1&&(C=_===0?Zt(g):Wv(w,_,T));const j=Math.abs(C)<=n,E=Math.abs(o-T)<=i;a.done=j&&E}return a.value=a.done?o:T,a},toString:()=>{const _=Math.min(Ru(S),aa),T=Uv(C=>S.next(_*C).value,_,30);return _+"ms "+T},toTransition:()=>{}};return S}la.applyToOptions=t=>{const e=MN(t,100,la);return t.ease=e.ease,t.duration=Zt(e.duration),t.type="keyframes",t};function Hc({keyframes:t,velocity:e=0,power:s=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},m=j=>a!==void 0&&j<a||l!==void 0&&j>l,g=j=>a===void 0?l:l===void 0||Math.abs(a-j)<Math.abs(l-j)?a:l;let p=s*e;const y=h+p,v=o===void 0?y:o(y);v!==y&&(p=v-h);const x=j=>-p*Math.exp(-j/n),w=j=>v+x(j),S=j=>{const E=x(j),k=w(j);f.done=Math.abs(E)<=c,f.value=f.done?v:k};let _,T;const C=j=>{m(f.value)&&(_=j,T=la({keyframes:[f.value,g(f.value)],velocity:Wv(w,j,f.value),damping:i,stiffness:r,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:j=>{let E=!1;return!T&&_===void 0&&(E=!0,S(j),C(j)),_!==void 0&&j>=_?T.next(j-_):(!E&&S(j),f)}}}function UN(t,e,s){const n=[],i=s||ms.mix||Vv,r=t.length-1;for(let o=0;o<r;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||kt:e;a=$r(l,a)}n.push(a)}return n}function WN(t,e,{clamp:s=!0,ease:n,mixer:i}={}){const r=t.length;if(_u(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=UN(e,n,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=fr(t[h],t[h+1],u);return a[h](f)};return s?u=>c(fs(t[0],t[r-1],u)):c}function zN(t,e){const s=t[t.length-1];for(let n=1;n<=e;n++){const i=fr(0,e,n);t.push(ke(s,1,i))}}function HN(t){const e=[0];return zN(e,t.length-1),e}function qN(t,e){return t.map(s=>s*e)}function KN(t,e){return t.map(()=>e||Nv).splice(0,t.length-1)}function er({duration:t=300,keyframes:e,times:s,ease:n="easeInOut"}){const i=iN(n)?n.map(sm):sm(n),r={done:!1,value:e[0]},o=qN(s&&s.length===e.length?s:HN(e),t),a=WN(o,e,{ease:Array.isArray(i)?i:KN(e,i)});return{calculatedDuration:t,next:l=>(r.value=a(l),r.done=l>=t,r)}}const GN=t=>t!==null;function Iu(t,{repeat:e,repeatType:s="loop"},n,i=1){const r=t.filter(GN),a=i<0||e&&s!=="loop"&&e%2===1?0:r.length-1;return!a||n===void 0?r[a]:n}const YN={decay:Hc,inertia:Hc,tween:er,keyframes:er,spring:la};function zv(t){typeof t.type=="string"&&(t.type=YN[t.type])}class Mu{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const XN=t=>t/100;class Ou extends Mu{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==ft.now()&&this.tick(ft.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;zv(e);const{type:s=er,repeat:n=0,repeatDelay:i=0,repeatType:r,velocity:o=0}=e;let{keyframes:a}=e;const l=s||er;l!==er&&typeof a[0]!="number"&&(this.mixKeyframes=$r(XN,Vv(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});r==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Ru(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=c}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:n,totalDuration:i,mixKeyframes:r,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:m,type:g,onUpdate:p,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,S=n;if(h){const j=Math.min(this.currentTime,i)/a;let E=Math.floor(j),k=j%1;!k&&j>=1&&(k=1),k===1&&E--,E=Math.min(E,h+1),!!(E%2)&&(f==="reverse"?(k=1-k,m&&(k-=m/a)):f==="mirror"&&(S=o)),w=fs(0,1,k)*a}const _=x?{done:!1,value:u[0]}:S.next(w);r&&(_.value=r(_.value));let{done:T}=_;!x&&l!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return C&&g!==Hc&&(_.value=Iu(u,this.options,y,this.speed)),p&&p(_.value),C&&this.finish(),_}then(e,s){return this.finished.then(e,s)}get duration(){return Ct(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ct(e)}get time(){return Ct(this.currentTime)}set time(e){e=Zt(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ft.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=Ct(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=IN,startTime:s}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=s??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ft.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function JN(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const nn=t=>t*180/Math.PI,qc=t=>{const e=nn(Math.atan2(t[1],t[0]));return Kc(e)},QN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:qc,rotateZ:qc,skewX:t=>nn(Math.atan(t[1])),skewY:t=>nn(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Kc=t=>(t=t%360,t<0&&(t+=360),t),lm=qc,cm=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),dm=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),ZN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:cm,scaleY:dm,scale:t=>(cm(t)+dm(t))/2,rotateX:t=>Kc(nn(Math.atan2(t[6],t[5]))),rotateY:t=>Kc(nn(Math.atan2(-t[2],t[0]))),rotateZ:lm,rotate:lm,skewX:t=>nn(Math.atan(t[4])),skewY:t=>nn(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Gc(t){return t.includes("scale")?1:0}function Yc(t,e){if(!t||t==="none")return Gc(e);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(s)n=ZN,i=s;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=QN,i=a}if(!i)return Gc(e);const r=n[e],o=i[1].split(",").map(t1);return typeof r=="function"?r(o):o[r]}const e1=(t,e)=>{const{transform:s="none"}=getComputedStyle(t);return Yc(s,e)};function t1(t){return parseFloat(t.trim())}const fi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mi=new Set(fi),um=t=>t===hi||t===H,s1=new Set(["x","y","z"]),n1=fi.filter(t=>!s1.has(t));function i1(t){const e=[];return n1.forEach(s=>{const n=t.getValue(s);n!==void 0&&(e.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),e}const on={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Yc(e,"x"),y:(t,{transform:e})=>Yc(e,"y")};on.translateX=on.x;on.translateY=on.y;const an=new Set;let Xc=!1,Jc=!1,Qc=!1;function Hv(){if(Jc){const t=Array.from(an).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),s=new Map;e.forEach(n=>{const i=i1(n);i.length&&(s.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=s.get(n);i&&i.forEach(([r,o])=>{n.getValue(r)?.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Jc=!1,Xc=!1,an.forEach(t=>t.complete(Qc)),an.clear()}function qv(){an.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Jc=!0)})}function r1(){Qc=!0,qv(),Hv(),Qc=!1}class Du{constructor(e,s,n,i,r,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=n,this.motionValue=i,this.element=r,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(an.add(this),Xc||(Xc=!0,Ce.read(qv),Ce.resolveKeyframes(Hv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:n,motionValue:i}=this;if(e[0]===null){const r=i?.get(),o=e[e.length-1];if(r!==void 0)e[0]=r;else if(n&&s){const a=n.readValue(s,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&r===void 0&&i.set(e[0])}JN(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),an.delete(this)}cancel(){this.state==="scheduled"&&(an.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const o1=t=>t.startsWith("--");function a1(t,e,s){o1(e)?t.style.setProperty(e,s):t.style[e]=s}const l1=Su(()=>window.ScrollTimeline!==void 0),c1={};function d1(t,e){const s=Su(t);return()=>c1[e]??s()}const Kv=d1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bi=([t,e,s,n])=>`cubic-bezier(${t}, ${e}, ${s}, ${n})`,hm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bi([0,.65,.55,1]),circOut:Bi([.55,0,1,.45]),backIn:Bi([.31,.01,.66,-.59]),backOut:Bi([.33,1.53,.69,.99])};function Gv(t,e){if(t)return typeof t=="function"?Kv()?Uv(t,e):"ease-out":Rv(t)?Bi(t):Array.isArray(t)?t.map(s=>Gv(s,e)||hm.easeOut):hm[t]}function u1(t,e,s,{delay:n=0,duration:i=300,repeat:r=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:s};l&&(u.offset=l);const h=Gv(a,i);Array.isArray(h)&&(u.easing=h);const f={delay:n,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(u,f)}function Yv(t){return typeof t=="function"&&"applyToOptions"in t}function h1({type:t,...e}){return Yv(t)&&Kv()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class f1 extends Mu{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:n,keyframes:i,pseudoElement:r,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!r,this.allowFlatten=o,this.options=e,_u(typeof e.type!="string");const c=h1(e);this.animation=u1(s,n,i,c,r),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const u=Iu(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):a1(s,n,u),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ct(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ct(e)}get time(){return Ct(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Zt(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&l1()?(this.animation.timeline=e,kt):s(this)}}const Xv={anticipate:Pv,backInOut:kv,circInOut:Av};function m1(t){return t in Xv}function p1(t){typeof t.ease=="string"&&m1(t.ease)&&(t.ease=Xv[t.ease])}const fm=10;class g1 extends f1{constructor(e){p1(e),zv(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:n,onComplete:i,element:r,...o}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const a=new Ou({...o,autoplay:!1}),l=Zt(this.finishedTime??this.time);s.setWithVelocity(a.sample(l-fm).value,a.sample(l).value,fm),a.stop()}}const mm=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Rs.test(t)||t==="0")&&!t.startsWith("url("));function y1(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function x1(t,e,s,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const r=t[t.length-1],o=mm(i,e),a=mm(r,e);return!o||!a?!1:y1(t)||(s==="spring"||Yv(s))&&n}function Zc(t){t.duration=0,t.type="keyframes"}const b1=new Set(["opacity","clipPath","filter","transform"]),v1=Su(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function w1(t){const{motionValue:e,name:s,repeatDelay:n,repeatType:i,damping:r,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return v1()&&s&&b1.has(s)&&(s!=="transform"||!c)&&!l&&!n&&i!=="mirror"&&r!==0&&o!=="inertia"}const _1=40;class S1 extends Mu{constructor({autoplay:e=!0,delay:s=0,type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ft.now();const f={autoplay:e,delay:s,type:n,repeat:i,repeatDelay:r,repeatType:o,name:l,motionValue:c,element:u,...h},m=u?.KeyframeResolver||Du;this.keyframeResolver=new m(a,(g,p,y)=>this.onKeyframesResolved(g,p,f,!y),l,c,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,s,n,i){this.keyframeResolver=void 0;const{name:r,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=ft.now(),x1(e,r,o,a)||((ms.instantAnimations||!l)&&u?.(Iu(e,n,s)),e[0]=e[e.length-1],Zc(n),n.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>_1?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...n,keyframes:e},m=!c&&w1(f)?new g1({...f,element:f.motionValue.owner.current}):new Ou(f);m.finished.then(()=>this.notifyFinished()).catch(kt),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),r1()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const T1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function C1(t){const e=T1.exec(t);if(!e)return[,];const[,s,n,i]=e;return[`--${s??n}`,i]}function Jv(t,e,s=1){const[n,i]=C1(t);if(!n)return;const r=window.getComputedStyle(e).getPropertyValue(n);if(r){const o=r.trim();return bv(o)?parseFloat(o):o}return Pu(i)?Jv(i,e,s+1):i}function Lu(t,e){return t?.[e]??t?.default??t}const Qv=new Set(["width","height","top","left","right","bottom",...fi]),j1={test:t=>t==="auto",parse:t=>t},Zv=t=>e=>e.test(t),ew=[hi,H,es,Cs,yN,gN,j1],pm=t=>ew.find(Zv(t));function k1(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||wv(t):!0}const P1=new Set(["brightness","contrast","saturate","opacity"]);function E1(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=s.match(Eu)||[];if(!n)return t;const i=s.replace(n,"");let r=P1.has(e)?1:0;return n!==s&&(r*=100),e+"("+r+i+")"}const A1=/\b([a-z-]*)\(.*?\)/gu,ed={...Rs,getAnimatableNone:t=>{const e=t.match(A1);return e?e.map(E1).join(" "):t}},gm={...hi,transform:Math.round},N1={rotate:Cs,rotateX:Cs,rotateY:Cs,rotateZ:Cs,scale:oo,scaleX:oo,scaleY:oo,scaleZ:oo,skew:Cs,skewX:Cs,skewY:Cs,distance:H,translateX:H,translateY:H,translateZ:H,x:H,y:H,z:H,perspective:H,transformPerspective:H,opacity:mr,originX:nm,originY:nm,originZ:H},$u={borderWidth:H,borderTopWidth:H,borderRightWidth:H,borderBottomWidth:H,borderLeftWidth:H,borderRadius:H,radius:H,borderTopLeftRadius:H,borderTopRightRadius:H,borderBottomRightRadius:H,borderBottomLeftRadius:H,width:H,maxWidth:H,height:H,maxHeight:H,top:H,right:H,bottom:H,left:H,padding:H,paddingTop:H,paddingRight:H,paddingBottom:H,paddingLeft:H,margin:H,marginTop:H,marginRight:H,marginBottom:H,marginLeft:H,backgroundPositionX:H,backgroundPositionY:H,...N1,zIndex:gm,fillOpacity:mr,strokeOpacity:mr,numOctaves:gm},R1={...$u,color:De,backgroundColor:De,outlineColor:De,fill:De,stroke:De,borderColor:De,borderTopColor:De,borderRightColor:De,borderBottomColor:De,borderLeftColor:De,filter:ed,WebkitFilter:ed},tw=t=>R1[t];function sw(t,e){let s=tw(t);return s!==ed&&(s=Rs),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const I1=new Set(["auto","none","0"]);function M1(t,e,s){let n=0,i;for(;n<t.length&&!i;){const r=t[n];typeof r=="string"&&!I1.has(r)&&pr(r).values.length&&(i=t[n]),n++}if(i&&s)for(const r of e)t[r]=sw(s,i)}class O1 extends Du{constructor(e,s,n,i,r){super(e,s,n,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Pu(c))){const u=Jv(c,s.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Qv.has(n)||e.length!==2)return;const[i,r]=e,o=pm(i),a=pm(r);if(o!==a)if(um(o)&&um(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else on[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||k1(e[i]))&&n.push(i);n.length&&M1(e,n,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=on[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){const{element:e,name:s,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(s);i&&i.jump(this.measuredOrigin,!1);const r=n.length-1,o=n[r];n[r]=on[s](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,l])=>{e.getValue(a).set(l)}),this.resolveNoneKeyframes()}}function D1(t,e,s){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=s?.[t]??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const nw=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function L1(t){return vv(t)&&"offsetHeight"in t}const ym=30,$1=t=>!isNaN(parseFloat(t));class F1{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=ft.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=ft.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=$1(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new Tu);const n=this.events[e].add(s);return e==="change"?()=>{n(),Ce.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ft.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ym)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,ym);return _v(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ri(t,e){return new F1(t,e)}const{schedule:Fu}=Iv(queueMicrotask,!1),Ot={x:!1,y:!1};function iw(){return Ot.x||Ot.y}function B1(t){return t==="x"||t==="y"?Ot[t]?null:(Ot[t]=!0,()=>{Ot[t]=!1}):Ot.x||Ot.y?null:(Ot.x=Ot.y=!0,()=>{Ot.x=Ot.y=!1})}function rw(t,e){const s=D1(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[s,i,()=>n.abort()]}function xm(t){return!(t.pointerType==="touch"||iw())}function V1(t,e,s={}){const[n,i,r]=rw(t,s),o=a=>{if(!xm(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=h=>{xm(h)&&(c(h),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return n.forEach(a=>{a.addEventListener("pointerenter",o,i)}),r}const ow=(t,e)=>e?t===e?!0:ow(t,e.parentElement):!1,Bu=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,U1=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function W1(t){return U1.has(t.tagName)||t.tabIndex!==-1}const Lo=new WeakSet;function bm(t){return e=>{e.key==="Enter"&&t(e)}}function Ll(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const z1=(t,e)=>{const s=t.currentTarget;if(!s)return;const n=bm(()=>{if(Lo.has(s))return;Ll(s,"down");const i=bm(()=>{Ll(s,"up")}),r=()=>Ll(s,"cancel");s.addEventListener("keyup",i,e),s.addEventListener("blur",r,e)});s.addEventListener("keydown",n,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),e)};function vm(t){return Bu(t)&&!iw()}function H1(t,e,s={}){const[n,i,r]=rw(t,s),o=a=>{const l=a.currentTarget;if(!vm(a))return;Lo.add(l);const c=e(l,a),u=(m,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Lo.has(l)&&Lo.delete(l),vm(m)&&typeof c=="function"&&c(m,{success:g})},h=m=>{u(m,l===window||l===document||s.useGlobalTarget||ow(l,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return n.forEach(a=>{(s.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),L1(a)&&(a.addEventListener("focus",c=>z1(c,i)),!W1(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),r}function aw(t){return vv(t)&&"ownerSVGElement"in t}function q1(t){return aw(t)&&t.tagName==="svg"}const Qe=t=>!!(t&&t.getVelocity),K1=[...ew,De,Rs],G1=t=>K1.find(Zv(t)),lw=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Y1(t=!0){const e=b.useContext(bu);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:i}=e,r=b.useId();b.useEffect(()=>{if(t)return i(r)},[t]);const o=b.useCallback(()=>t&&n&&n(r),[r,n,t]);return!s&&n?[!1,o]:[!0]}const cw=b.createContext({strict:!1}),wm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oi={};for(const t in wm)oi[t]={isEnabled:e=>wm[t].some(s=>!!e[s])};function X1(t){for(const e in t)oi[e]={...oi[e],...t[e]}}const J1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ca(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||J1.has(t)}let dw=t=>!ca(t);function Q1(t){typeof t=="function"&&(dw=e=>e.startsWith("on")?!ca(e):t(e))}try{Q1(require("@emotion/is-prop-valid").default)}catch{}function Z1(t,e,s){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(dw(i)||s===!0&&ca(i)||!e&&!ca(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const Va=b.createContext({});function Ua(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gr(t){return typeof t=="string"||Array.isArray(t)}const Vu=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Uu=["initial",...Vu];function Wa(t){return Ua(t.animate)||Uu.some(e=>gr(t[e]))}function uw(t){return!!(Wa(t)||t.variants)}function eR(t,e){if(Wa(t)){const{initial:s,animate:n}=t;return{initial:s===!1||gr(s)?s:void 0,animate:gr(n)?n:void 0}}return t.inherit!==!1?e:{}}function tR(t){const{initial:e,animate:s}=eR(t,b.useContext(Va));return b.useMemo(()=>({initial:e,animate:s}),[_m(e),_m(s)])}function _m(t){return Array.isArray(t)?t.join(" "):t}const yr={};function sR(t){for(const e in t)yr[e]=t[e],ku(e)&&(yr[e].isCSSVariable=!0)}function hw(t,{layout:e,layoutId:s}){return mi.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!yr[t]||t==="opacity")}const nR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iR=fi.length;function rR(t,e,s){let n="",i=!0;for(let r=0;r<iR;r++){const o=fi[r],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||s){const c=nw(a,$u[o]);if(!l){i=!1;const u=nR[o]||o;n+=`${u}(${c}) `}s&&(e[o]=c)}}return n=n.trim(),s?n=s(e,i?"":n):i&&(n="none"),n}function Wu(t,e,s){const{style:n,vars:i,transformOrigin:r}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(mi.has(l)){o=!0;continue}else if(ku(l)){i[l]=c;continue}else{const u=nw(c,$u[l]);l.startsWith("origin")?(a=!0,r[l]=u):n[l]=u}}if(e.transform||(o||s?n.transform=rR(e,t.transform,s):n.transform&&(n.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=r;n.transformOrigin=`${l} ${c} ${u}`}}const zu=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fw(t,e,s){for(const n in e)!Qe(e[n])&&!hw(n,s)&&(t[n]=e[n])}function oR({transformTemplate:t},e){return b.useMemo(()=>{const s=zu();return Wu(s,e,t),Object.assign({},s.vars,s.style)},[e])}function aR(t,e){const s=t.style||{},n={};return fw(n,s,t),Object.assign(n,oR(t,e)),n}function lR(t,e){const s={},n=aR(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=n,s}const cR={offset:"stroke-dashoffset",array:"stroke-dasharray"},dR={offset:"strokeDashoffset",array:"strokeDasharray"};function uR(t,e,s=1,n=0,i=!0){t.pathLength=1;const r=i?cR:dR;t[r.offset]=H.transform(-n);const o=H.transform(e),a=H.transform(s);t[r.array]=`${o} ${a}`}function mw(t,{attrX:e,attrY:s,attrScale:n,pathLength:i,pathSpacing:r=1,pathOffset:o=0,...a},l,c,u){if(Wu(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=u?.transformBox??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),s!==void 0&&(h.y=s),n!==void 0&&(h.scale=n),i!==void 0&&uR(h,i,r,o,!1)}const pw=()=>({...zu(),attrs:{}}),gw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hR(t,e,s,n){const i=b.useMemo(()=>{const r=pw();return mw(r,e,gw(n),t.transformTemplate,t.style),{...r.attrs,style:{...r.style}}},[e]);if(t.style){const r={};fw(r,t.style,t),i.style={...r,...i.style}}return i}const fR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hu(t){return typeof t!="string"||t.includes("-")?!1:!!(fR.indexOf(t)>-1||/[A-Z]/u.test(t))}function mR(t,e,s,{latestValues:n},i,r=!1){const a=(Hu(t)?hR:lR)(e,n,i,t),l=Z1(e,typeof t=="string",r),c=t!==b.Fragment?{...l,...a,ref:s}:{},{children:u}=e,h=b.useMemo(()=>Qe(u)?u.get():u,[u]);return b.createElement(t,{...c,children:h})}function Sm(t){const e=[{},{}];return t?.values.forEach((s,n)=>{e[0][n]=s.get(),e[1][n]=s.getVelocity()}),e}function qu(t,e,s,n){if(typeof e=="function"){const[i,r]=Sm(n);e=e(s!==void 0?s:t.custom,i,r)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,r]=Sm(n);e=e(s!==void 0?s:t.custom,i,r)}return e}function $o(t){return Qe(t)?t.get():t}function pR({scrapeMotionValuesFromProps:t,createRenderState:e},s,n,i){return{latestValues:gR(s,n,i,t),renderState:e()}}function gR(t,e,s,n){const i={},r=n(t,{});for(const f in r)i[f]=$o(r[f]);let{initial:o,animate:a}=t;const l=Wa(t),c=uw(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const h=u?a:o;if(h&&typeof h!="boolean"&&!Ua(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const g=qu(t,f[m]);if(g){const{transitionEnd:p,transition:y,...v}=g;for(const x in v){let w=v[x];if(Array.isArray(w)){const S=u?w.length-1:0;w=w[S]}w!==null&&(i[x]=w)}for(const x in p)i[x]=p[x]}}}return i}const yw=t=>(e,s)=>{const n=b.useContext(Va),i=b.useContext(bu),r=()=>pR(t,e,n,i);return s?r():XA(r)};function Ku(t,e,s){const{style:n}=t,i={};for(const r in n)(Qe(n[r])||e.style&&Qe(e.style[r])||hw(r,t)||s?.getValue(r)?.liveStyle!==void 0)&&(i[r]=n[r]);return i}const yR=yw({scrapeMotionValuesFromProps:Ku,createRenderState:zu});function xw(t,e,s){const n=Ku(t,e,s);for(const i in t)if(Qe(t[i])||Qe(e[i])){const r=fi.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[r]=t[i]}return n}const xR=yw({scrapeMotionValuesFromProps:xw,createRenderState:pw}),bR=Symbol.for("motionComponentSymbol");function zn(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function vR(t,e,s){return b.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),s&&(typeof s=="function"?s(n):zn(s)&&(s.current=n))},[e])}const Gu=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),wR="framerAppearId",bw="data-"+Gu(wR),vw=b.createContext({});function _R(t,e,s,n,i){const{visualElement:r}=b.useContext(Va),o=b.useContext(cw),a=b.useContext(bu),l=b.useContext(lw).reducedMotion,c=b.useRef(null);n=n||o.renderer,!c.current&&n&&(c.current=n(t,{visualState:e,parent:r,props:s,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,h=b.useContext(vw);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&SR(c.current,s,i,h);const f=b.useRef(!1);b.useInsertionEffect(()=>{u&&f.current&&u.update(s,a)});const m=s[bw],g=b.useRef(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return JA(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),g.current&&u.animationState&&u.animationState.animateChanges())}),b.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),g.current=!1),u.enteringChildren=void 0)}),u}function SR(t,e,s,n){const{layoutId:i,layout:r,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:ww(t.parent)),t.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!o||a&&zn(a),visualElement:t,animationType:typeof r=="string"?r:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function ww(t){if(t)return t.options.allowProjection!==!1?t.projection:ww(t.parent)}function $l(t,{forwardMotionProps:e=!1}={},s,n){s&&X1(s);const i=Hu(t)?xR:yR;function r(a,l){let c;const u={...b.useContext(lw),...a,layoutId:TR(a)},{isStatic:h}=u,f=tR(a),m=i(a,h);if(!h&&xu){CR();const g=jR(u);c=g.MeasureLayout,f.visualElement=_R(t,m,u,n,g.ProjectionNode)}return d.jsxs(Va.Provider,{value:f,children:[c&&f.visualElement?d.jsx(c,{visualElement:f.visualElement,...u}):null,mR(t,a,vR(m,f.visualElement,l),m,h,e)]})}r.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=b.forwardRef(r);return o[bR]=t,o}function TR({layoutId:t}){const e=b.useContext(xv).id;return e&&t!==void 0?e+"-"+t:t}function CR(t,e){b.useContext(cw).strict}function jR(t){const{drag:e,layout:s}=oi;if(!e&&!s)return{};const n={...e,...s};return{MeasureLayout:e?.isEnabled(t)||s?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function kR(t,e){if(typeof Proxy>"u")return $l;const s=new Map,n=(r,o)=>$l(r,o,t,e),i=(r,o)=>n(r,o);return new Proxy(i,{get:(r,o)=>o==="create"?n:(s.has(o)||s.set(o,$l(o,void 0,t,e)),s.get(o))})}function _w({top:t,left:e,right:s,bottom:n}){return{x:{min:e,max:s},y:{min:t,max:n}}}function PR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ER(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function Fl(t){return t===void 0||t===1}function td({scale:t,scaleX:e,scaleY:s}){return!Fl(t)||!Fl(e)||!Fl(s)}function Ys(t){return td(t)||Sw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Sw(t){return Tm(t.x)||Tm(t.y)}function Tm(t){return t&&t!=="0%"}function da(t,e,s){const n=t-s,i=e*n;return s+i}function Cm(t,e,s,n,i){return i!==void 0&&(t=da(t,i,n)),da(t,s,n)+e}function sd(t,e=0,s=1,n,i){t.min=Cm(t.min,e,s,n,i),t.max=Cm(t.max,e,s,n,i)}function Tw(t,{x:e,y:s}){sd(t.x,e.translate,e.scale,e.originPoint),sd(t.y,s.translate,s.scale,s.originPoint)}const jm=.999999999999,km=1.0000000000001;function AR(t,e,s,n=!1){const i=s.length;if(!i)return;e.x=e.y=1;let r,o;for(let a=0;a<i;a++){r=s[a],o=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&r.options.layoutScroll&&r.scroll&&r!==r.root&&qn(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Tw(t,o)),n&&Ys(r.latestValues)&&qn(t,r.latestValues))}e.x<km&&e.x>jm&&(e.x=1),e.y<km&&e.y>jm&&(e.y=1)}function Hn(t,e){t.min=t.min+e,t.max=t.max+e}function Pm(t,e,s,n,i=.5){const r=ke(t.min,t.max,i);sd(t,e,s,r,n)}function qn(t,e){Pm(t.x,e.x,e.scaleX,e.scale,e.originX),Pm(t.y,e.y,e.scaleY,e.scale,e.originY)}function Cw(t,e){return _w(ER(t.getBoundingClientRect(),e))}function NR(t,e,s){const n=Cw(t,s),{scroll:i}=e;return i&&(Hn(n.x,i.offset.x),Hn(n.y,i.offset.y)),n}const Em=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kn=()=>({x:Em(),y:Em()}),Am=()=>({min:0,max:0}),Re=()=>({x:Am(),y:Am()}),nd={current:null},jw={current:!1};function RR(){if(jw.current=!0,!!xu)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>nd.current=t.matches;t.addEventListener("change",e),e()}else nd.current=!1}const IR=new WeakMap;function MR(t,e,s){for(const n in e){const i=e[n],r=s[n];if(Qe(i))t.addValue(n,i);else if(Qe(r))t.addValue(n,ri(i,{owner:t}));else if(r!==i)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(n);t.addValue(n,ri(o!==void 0?o:i,{owner:t}))}}for(const n in s)e[n]===void 0&&t.removeValue(n);return e}const Nm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class OR{scrapeMotionValuesFromProps(e,s,n){return{}}constructor({parent:e,props:s,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:r,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Du,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=ft.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ce.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=s,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!r,this.isControllingVariants=Wa(s),this.isVariantNode=uw(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&Qe(m)&&m.set(l[f])}}mount(e){this.current=e,IR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),jw.current||RR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nd.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ns(this.notifyUpdate),Ns(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=mi.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ce.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{i(),r&&r(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in oi){const s=oi[e];if(!s)continue;const{isEnabled:n,Feature:i}=s;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Re()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<Nm.length;n++){const i=Nm[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,o=e[r];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=MR(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const n=this.values.get(e);s!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&s!==void 0&&(n=ri(s===null?void 0:s,{owner:this}),this.addValue(e,n)),n}readValue(e,s){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(bv(n)||wv(n))?n=parseFloat(n):!G1(n)&&Rs.test(s)&&(n=sw(e,s)),this.setBaseTarget(e,Qe(n)?n.get():n)),Qe(n)?n.get():n}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){const{initial:s}=this.props;let n;if(typeof s=="string"||typeof s=="object"){const r=qu(this.props,s,this.presenceContext?.custom);r&&(n=r[e])}if(s&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Qe(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new Tu),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){Fu.render(this.render)}}class kw extends OR{constructor(){super(...arguments),this.KeyframeResolver=O1}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:n}){delete s[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qe(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function Pw(t,{style:e,vars:s},n,i){const r=t.style;let o;for(o in e)r[o]=e[o];i?.applyProjectionStyles(r,n);for(o in s)r.setProperty(o,s[o])}function DR(t){return window.getComputedStyle(t)}class LR extends kw{constructor(){super(...arguments),this.type="html",this.renderInstance=Pw}readValueFromInstance(e,s){if(mi.has(s))return this.projection?.isProjecting?Gc(s):e1(e,s);{const n=DR(e),i=(ku(s)?n.getPropertyValue(s):n[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:s}){return Cw(e,s)}build(e,s,n){Wu(e,s,n.transformTemplate)}scrapeMotionValuesFromProps(e,s,n){return Ku(e,s,n)}}const Ew=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $R(t,e,s,n){Pw(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(Ew.has(i)?i:Gu(i),e.attrs[i])}class FR extends kw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Re}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(mi.has(s)){const n=tw(s);return n&&n.default||0}return s=Ew.has(s)?s:Gu(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,n){return xw(e,s,n)}build(e,s,n){mw(e,s,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,s,n,i){$R(e,s,n,i)}mount(e){this.isSVGTag=gw(e.tagName),super.mount(e)}}const BR=(t,e)=>Hu(t)?new FR(e):new LR(e,{allowProjection:t!==b.Fragment});function Xn(t,e,s){const n=t.getProps();return qu(n,e,s!==void 0?s:n.custom,t)}const id=t=>Array.isArray(t);function VR(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,ri(s))}function UR(t){return id(t)?t[t.length-1]||0:t}function WR(t,e){const s=Xn(t,e);let{transitionEnd:n={},transition:i={},...r}=s||{};r={...r,...n};for(const o in r){const a=UR(r[o]);VR(t,o,a)}}function zR(t){return!!(Qe(t)&&t.add)}function rd(t,e){const s=t.getValue("willChange");if(zR(s))return s.add(e);if(!s&&ms.WillChange){const n=new ms.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function Aw(t){return t.props[bw]}const HR=t=>t!==null;function qR(t,{repeat:e,repeatType:s="loop"},n){const i=t.filter(HR),r=e&&s!=="loop"&&e%2===1?0:i.length-1;return i[r]}const KR={type:"spring",stiffness:500,damping:25,restSpeed:10},GR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),YR={type:"keyframes",duration:.8},XR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JR=(t,{keyframes:e})=>e.length>2?YR:mi.has(t)?t.startsWith("scale")?GR(e[1]):KR:XR;function QR({when:t,delay:e,delayChildren:s,staggerChildren:n,staggerDirection:i,repeat:r,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Yu=(t,e,s,n={},i,r)=>o=>{const a=Lu(n,t)||{},l=a.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Zt(l);const u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:r?void 0:i};QR(a)||Object.assign(u,JR(t,u)),u.duration&&(u.duration=Zt(u.duration)),u.repeatDelay&&(u.repeatDelay=Zt(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Zc(u),u.delay===0&&(h=!0)),(ms.instantAnimations||ms.skipAnimations)&&(h=!0,Zc(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,h&&!r&&e.get()!==void 0){const f=qR(u.keyframes,a);if(f!==void 0){Ce.update(()=>{u.onUpdate(f),u.onComplete()});return}}return a.isSync?new Ou(u):new S1(u)};function ZR({protectedKeys:t,needsAnimating:e},s){const n=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,n}function Nw(t,e,{delay:s=0,transitionOverride:n,type:i}={}){let{transition:r=t.getDefaultTransition(),transitionEnd:o,...a}=e;n&&(r=n);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in a){const h=t.getValue(u,t.latestValues[u]??null),f=a[u];if(f===void 0||c&&ZR(c,u))continue;const m={delay:s,...Lu(r||{},u)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===g&&!m.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const v=Aw(t);if(v){const x=window.MotionHandoffAnimation(v,u,Ce);x!==null&&(m.startTime=x,p=!0)}}rd(t,u),h.start(Yu(u,h,f,t.shouldReduceMotion&&Qv.has(u)?{type:!1}:m,t,p));const y=h.animation;y&&l.push(y)}return o&&Promise.all(l).then(()=>{Ce.update(()=>{o&&WR(t,o)})}),l}function Rw(t,e,s,n=0,i=1){const r=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),o=t.size,a=(o-1)*n;return typeof s=="function"?s(r,o):i===1?r*n:a-r*n}function od(t,e,s={}){const n=Xn(t,e,s.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(i=s.transitionOverride);const r=n?()=>Promise.all(Nw(t,n,s)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:h}=i;return eI(t,e,l,c,u,h,s)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[r,o]:[o,r];return l().then(()=>c())}else return Promise.all([r(),o(s.delay)])}function eI(t,e,s=0,n=0,i=0,r=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(od(l,e,{...o,delay:s+(typeof n=="function"?0:n)+Rw(t.variantChildren,l,n,i,r)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function tI(t,e,s={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(r=>od(t,r,s));n=Promise.all(i)}else if(typeof e=="string")n=od(t,e,s);else{const i=typeof e=="function"?Xn(t,e,s.custom):e;n=Promise.all(Nw(t,i,s))}return n.then(()=>{t.notify("AnimationComplete",e)})}function Iw(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let n=0;n<s;n++)if(e[n]!==t[n])return!1;return!0}const sI=Uu.length;function Mw(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?Mw(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<sI;s++){const n=Uu[s],i=t.props[n];(gr(i)||i===!1)&&(e[n]=i)}return e}const nI=[...Vu].reverse(),iI=Vu.length;function rI(t){return e=>Promise.all(e.map(({animation:s,options:n})=>tI(t,s,n)))}function oI(t){let e=rI(t),s=Rm(),n=!0;const i=l=>(c,u)=>{const h=Xn(t,u,l==="exit"?t.presenceContext?.custom:void 0);if(h){const{transition:f,transitionEnd:m,...g}=h;c={...c,...g,...m}}return c};function r(l){e=l(t)}function o(l){const{props:c}=t,u=Mw(t.parent)||{},h=[],f=new Set;let m={},g=1/0;for(let y=0;y<iI;y++){const v=nI[y],x=s[v],w=c[v]!==void 0?c[v]:u[v],S=gr(w),_=v===l?x.isActive:null;_===!1&&(g=y);let T=w===u[v]&&w!==c[v]&&S;if(T&&n&&t.manuallyAnimateOnMount&&(T=!1),x.protectedKeys={...m},!x.isActive&&_===null||!w&&!x.prevProp||Ua(w)||typeof w=="boolean")continue;const C=aI(x.prevProp,w);let j=C||v===l&&x.isActive&&!T&&S||y>g&&S,E=!1;const k=Array.isArray(w)?w:[w];let A=k.reduce(i(v),{});_===!1&&(A={});const{prevResolvedValues:N={}}=x,G={...N,...A},F=$=>{j=!0,f.has($)&&(E=!0,f.delete($)),x.needsAnimating[$]=!0;const L=t.getValue($);L&&(L.liveStyle=!1)};for(const $ in G){const L=A[$],R=N[$];if(m.hasOwnProperty($))continue;let ne=!1;id(L)&&id(R)?ne=!Iw(L,R):ne=L!==R,ne?L!=null?F($):f.add($):L!==void 0&&f.has($)?F($):x.protectedKeys[$]=!0}x.prevProp=w,x.prevResolvedValues=A,x.isActive&&(m={...m,...A}),n&&t.blockInitialAnimation&&(j=!1);const M=T&&C;j&&(!M||E)&&h.push(...k.map($=>{const L={type:v};if(typeof $=="string"&&n&&!M&&t.manuallyAnimateOnMount&&t.parent){const{parent:R}=t,ne=Xn(R,$);if(R.enteringChildren&&ne){const{delayChildren:he}=ne.transition||{};L.delay=Rw(R.enteringChildren,t,he)}}return{animation:$,options:L}}))}if(f.size){const y={};if(typeof c.initial!="boolean"){const v=Xn(t,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(y.transition=v.transition)}f.forEach(v=>{const x=t.getBaseTarget(v),w=t.getValue(v);w&&(w.liveStyle=!0),y[v]=x??null}),h.push({animation:y})}let p=!!h.length;return n&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(p=!1),n=!1,p?e(h):Promise.resolve()}function a(l,c){if(s[l].isActive===c)return Promise.resolve();t.variantChildren?.forEach(h=>h.animationState?.setActive(l,c)),s[l].isActive=c;const u=o(l);for(const h in s)s[h].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:r,getState:()=>s,reset:()=>{s=Rm(),n=!0}}}function aI(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Iw(e,t):!1}function Ws(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Rm(){return{animate:Ws(!0),whileInView:Ws(),whileHover:Ws(),whileTap:Ws(),whileDrag:Ws(),whileFocus:Ws(),exit:Ws()}}class Ds{constructor(e){this.isMounted=!1,this.node=e}update(){}}class lI extends Ds{constructor(e){super(e),e.animationState||(e.animationState=oI(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ua(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let cI=0;class dI extends Ds{constructor(){super(...arguments),this.id=cI++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);s&&!e&&i.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const uI={animation:{Feature:lI},exit:{Feature:dI}};function xr(t,e,s,n={passive:!0}){return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s)}function Vr(t){return{point:{x:t.pageX,y:t.pageY}}}const hI=t=>e=>Bu(e)&&t(e,Vr(e));function tr(t,e,s,n){return xr(t,e,hI(s),n)}const Ow=1e-4,fI=1-Ow,mI=1+Ow,Dw=.01,pI=0-Dw,gI=0+Dw;function ot(t){return t.max-t.min}function yI(t,e,s){return Math.abs(t-e)<=s}function Im(t,e,s,n=.5){t.origin=n,t.originPoint=ke(e.min,e.max,t.origin),t.scale=ot(s)/ot(e),t.translate=ke(s.min,s.max,t.origin)-t.originPoint,(t.scale>=fI&&t.scale<=mI||isNaN(t.scale))&&(t.scale=1),(t.translate>=pI&&t.translate<=gI||isNaN(t.translate))&&(t.translate=0)}function sr(t,e,s,n){Im(t.x,e.x,s.x,n?n.originX:void 0),Im(t.y,e.y,s.y,n?n.originY:void 0)}function Mm(t,e,s){t.min=s.min+e.min,t.max=t.min+ot(e)}function xI(t,e,s){Mm(t.x,e.x,s.x),Mm(t.y,e.y,s.y)}function Om(t,e,s){t.min=e.min-s.min,t.max=t.min+ot(e)}function nr(t,e,s){Om(t.x,e.x,s.x),Om(t.y,e.y,s.y)}function St(t){return[t("x"),t("y")]}const Lw=({current:t})=>t?t.ownerDocument.defaultView:null,Dm=(t,e)=>Math.abs(t-e);function bI(t,e){const s=Dm(t.x,e.x),n=Dm(t.y,e.y);return Math.sqrt(s**2+n**2)}class $w{constructor(e,s,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:r=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Vl(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=bI(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!g)return;const{point:p}=f,{timestamp:y}=Ge;this.history.push({...p,timestamp:y});const{onStart:v,onMove:x}=this.handlers;m||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Bl(m,this.transformPagePoint),Ce.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:g,onSessionEnd:p,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Vl(f.type==="pointercancel"?this.lastMoveEventInfo:Bl(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,v),p&&p(f,v)},!Bu(e))return;this.dragSnapToOrigin=r,this.handlers=s,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const a=Vr(e),l=Bl(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ge;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=s;h&&h(e,Vl(l,this.history)),this.removeListeners=$r(tr(this.contextWindow,"pointermove",this.handlePointerMove),tr(this.contextWindow,"pointerup",this.handlePointerUp),tr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ns(this.updatePoint)}}function Bl(t,e){return e?{point:e(t.point)}:t}function Lm(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Vl({point:t},e){return{point:t,delta:Lm(t,Fw(e)),offset:Lm(t,vI(e)),velocity:wI(e,.1)}}function vI(t){return t[0]}function Fw(t){return t[t.length-1]}function wI(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,n=null;const i=Fw(t);for(;s>=0&&(n=t[s],!(i.timestamp-n.timestamp>Zt(e)));)s--;if(!n)return{x:0,y:0};const r=Ct(i.timestamp-n.timestamp);if(r===0)return{x:0,y:0};const o={x:(i.x-n.x)/r,y:(i.y-n.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function _I(t,{min:e,max:s},n){return e!==void 0&&t<e?t=n?ke(e,t,n.min):Math.max(t,e):s!==void 0&&t>s&&(t=n?ke(s,t,n.max):Math.min(t,s)),t}function $m(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function SI(t,{top:e,left:s,bottom:n,right:i}){return{x:$m(t.x,s,i),y:$m(t.y,e,n)}}function Fm(t,e){let s=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,n]=[n,s]),{min:s,max:n}}function TI(t,e){return{x:Fm(t.x,e.x),y:Fm(t.y,e.y)}}function CI(t,e){let s=.5;const n=ot(t),i=ot(e);return i>n?s=fr(e.min,e.max-n,t.min):n>i&&(s=fr(t.min,t.max-i,e.min)),fs(0,1,s)}function jI(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const ad=.35;function kI(t=ad){return t===!1?t=0:t===!0&&(t=ad),{x:Bm(t,"left","right"),y:Bm(t,"top","bottom")}}function Bm(t,e,s){return{min:Vm(t,e),max:Vm(t,s)}}function Vm(t,e){return typeof t=="number"?t:t[e]||0}const PI=new WeakMap;class EI{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Re(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Vr(h).point)},o=(h,f)=>{const{drag:m,dragPropagation:g,onDragStart:p}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=B1(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),St(v=>{let x=this.getAxisMotionValue(v).get()||0;if(es.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const S=w.layout.layoutBox[v];S&&(x=ot(S)*(parseFloat(x)/100))}}this.originPoint[v]=x}),p&&Ce.postRender(()=>p(h,f)),rd(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:p,onDrag:y}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=f;if(g&&this.currentDirection===null){this.currentDirection=AI(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),y&&y(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>St(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new $w(e,{onSessionStart:r,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:Lw(this.visualElement)})}stop(e,s){const n=e||this.latestPointerEvent,i=s||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Ce.postRender(()=>a(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,n){const{drag:i}=this.getProps();if(!n||!ao(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=_I(o,this.constraints[e],this.elastic[e])),r.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&zn(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=SI(n.layoutBox,e):this.constraints=!1,this.elastic=kI(s),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&St(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=jI(n.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!zn(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=NR(n,i.root,this.visualElement.getTransformPagePoint());let o=TI(i.layout.layoutBox,r);if(s){const a=s(PR(o));this.hasMutatedConstraints=!!a,a&&(o=_w(a))}return o}startAnimation(e){const{drag:s,dragMomentum:n,dragElastic:i,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=St(u=>{if(!ao(u,s,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:n?e[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,s){const n=this.getAxisMotionValue(e);return rd(this.visualElement,e),n.start(Yu(e,n,0,s,this.visualElement,!1))}stopAnimation(){St(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){St(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[s];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){St(s=>{const{drag:n}=this.getProps();if(!ao(s,n,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[s];r.set(e[s]-ke(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!zn(s)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};St(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=CI({min:l,max:l},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),St(o=>{if(!ao(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ke(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;PI.set(this.visualElement,this);const e=this.visualElement.current,s=tr(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();zn(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ce.read(n);const o=xr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(St(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())}));return()=>{o(),s(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:o=ad,dragMomentum:a=!0}=e;return{...e,drag:s,dragDirectionLock:n,dragPropagation:i,dragConstraints:r,dragElastic:o,dragMomentum:a}}}function ao(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function AI(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class NI extends Ds{constructor(e){super(e),this.removeGroupControls=kt,this.removeListeners=kt,this.controls=new EI(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Um=t=>(e,s)=>{t&&Ce.postRender(()=>t(e,s))};class RI extends Ds{constructor(){super(...arguments),this.removePointerDownListener=kt}onPointerDown(e){this.session=new $w(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Lw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Um(e),onStart:Um(s),onMove:n,onEnd:(r,o)=>{delete this.session,i&&Ce.postRender(()=>i(r,o))}}}mount(){this.removePointerDownListener=tr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Wm(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ti={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(H.test(t))t=parseFloat(t);else return t;const s=Wm(t,e.target.x),n=Wm(t,e.target.y);return`${s}% ${n}%`}},II={correct:(t,{treeScale:e,projectionDelta:s})=>{const n=t,i=Rs.parse(t);if(i.length>5)return n;const r=Rs.createTransformer(t),o=typeof i[0]!="number"?1:0,a=s.x.scale*e.x,l=s.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=ke(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),r(i)}};let Ul=!1;class MI extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:n,layoutId:i}=this.props,{projection:r}=e;sR(OI),r&&(s.group&&s.group.add(r),n&&n.register&&i&&n.register(r),Ul&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Fo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:n,drag:i,isPresent:r}=this.props,{projection:o}=n;return o&&(o.isPresent=r,Ul=!0,i||e.layoutDependency!==s||s===void 0||e.isPresent!==r?o.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?o.promote():o.relegate()||Ce.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Fu.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:i}=e;Ul=!0,i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Bw(t){const[e,s]=Y1(),n=b.useContext(xv);return d.jsx(MI,{...t,layoutGroup:n,switchLayoutGroup:b.useContext(vw),isPresent:e,safeToRemove:s})}const OI={borderRadius:{...Ti,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ti,borderTopRightRadius:Ti,borderBottomLeftRadius:Ti,borderBottomRightRadius:Ti,boxShadow:II};function DI(t,e,s){const n=Qe(t)?t:ri(t);return n.start(Yu("",n,e,s)),n.animation}const LI=(t,e)=>t.depth-e.depth;class $I{constructor(){this.children=[],this.isDirty=!1}add(e){vu(this.children,e),this.isDirty=!0}remove(e){wu(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(LI),this.isDirty=!1,this.children.forEach(e)}}function FI(t,e){const s=ft.now(),n=({timestamp:i})=>{const r=i-s;r>=e&&(Ns(n),t(r-e))};return Ce.setup(n,!0),()=>Ns(n)}const Vw=["TopLeft","TopRight","BottomLeft","BottomRight"],BI=Vw.length,zm=t=>typeof t=="string"?parseFloat(t):t,Hm=t=>typeof t=="number"||H.test(t);function VI(t,e,s,n,i,r){i?(t.opacity=ke(0,s.opacity??1,UI(n)),t.opacityExit=ke(e.opacity??1,0,WI(n))):r&&(t.opacity=ke(e.opacity??1,s.opacity??1,n));for(let o=0;o<BI;o++){const a=`border${Vw[o]}Radius`;let l=qm(e,a),c=qm(s,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Hm(l)===Hm(c)?(t[a]=Math.max(ke(zm(l),zm(c),n),0),(es.test(c)||es.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||s.rotate)&&(t.rotate=ke(e.rotate||0,s.rotate||0,n))}function qm(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const UI=Uw(0,.5,Ev),WI=Uw(.5,.95,kt);function Uw(t,e,s){return n=>n<t?0:n>e?1:s(fr(t,e,n))}function Km(t,e){t.min=e.min,t.max=e.max}function vt(t,e){Km(t.x,e.x),Km(t.y,e.y)}function Gm(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ym(t,e,s,n,i){return t-=e,t=da(t,1/s,n),i!==void 0&&(t=da(t,1/i,n)),t}function zI(t,e=0,s=1,n=.5,i,r=t,o=t){if(es.test(e)&&(e=parseFloat(e),e=ke(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ke(r.min,r.max,n);t===r&&(a-=e),t.min=Ym(t.min,e,s,a,i),t.max=Ym(t.max,e,s,a,i)}function Xm(t,e,[s,n,i],r,o){zI(t,e[s],e[n],e[i],e.scale,r,o)}const HI=["x","scaleX","originX"],qI=["y","scaleY","originY"];function Jm(t,e,s,n){Xm(t.x,e,HI,s?s.x:void 0,n?n.x:void 0),Xm(t.y,e,qI,s?s.y:void 0,n?n.y:void 0)}function Qm(t){return t.translate===0&&t.scale===1}function Ww(t){return Qm(t.x)&&Qm(t.y)}function Zm(t,e){return t.min===e.min&&t.max===e.max}function KI(t,e){return Zm(t.x,e.x)&&Zm(t.y,e.y)}function ep(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function zw(t,e){return ep(t.x,e.x)&&ep(t.y,e.y)}function tp(t){return ot(t.x)/ot(t.y)}function sp(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class GI{constructor(){this.members=[]}add(e){vu(this.members,e),e.scheduleRender()}remove(e){if(wu(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(i=>e===i);if(s===0)return!1;let n;for(let i=s;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){n=r;break}}return n?(this.promote(n),!0):!1}promote(e,s){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,s&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:n}=e;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YI(t,e,s){let n="";const i=t.x.translate/e.x,r=t.y.translate/e.y,o=s?.z||0;if((i||r||o)&&(n=`translate3d(${i}px, ${r}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:f,skewX:m,skewY:g}=s;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),g&&(n+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const Wl=["","X","Y","Z"],XI=1e3;let JI=0;function zl(t,e,s,n){const{latestValues:i}=e;i[t]&&(s[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function Hw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=Aw(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",Ce,!(i||r))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&Hw(n)}function qw({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},a=e?.()){this.id=JI++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eM),this.nodes.forEach(iM),this.nodes.forEach(rM),this.nodes.forEach(tM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new $I)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Tu),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=aw(o)&&!q1(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u,h=0;const f=()=>this.root.updateBlockedByResize=!1;Ce.read(()=>{h=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,u&&u(),u=FI(f,250),Fo.hasAnimatedSinceResize&&(Fo.hasAnimatedSinceResize=!1,this.nodes.forEach(rp)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||dM,{onLayoutAnimationStart:p,onLayoutAnimationComplete:y}=c.getProps(),v=!this.targetLayout||!zw(this.targetLayout,m),x=!h&&f;if(this.options.layoutRoot||this.resumeFrom||x||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...Lu(g,"layout"),onPlay:p,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(u,x)}else h||rp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ns(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oM),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Hw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(np);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ip);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nM),this.nodes.forEach(QI),this.nodes.forEach(ZI)):this.nodes.forEach(ip),this.clearAllSnapshots();const a=ft.now();Ge.delta=fs(0,1e3/60,a-Ge.timestamp),Ge.timestamp=a,Ge.isProcessing=!0,Rl.update.process(Ge),Rl.preRender.process(Ge),Rl.render.process(Ge),Ge.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fu.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sM),this.sharedNodes.forEach(aM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ot(this.snapshot.measuredBox.x)&&!ot(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Ww(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ys(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),uM(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Re();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(hM))){const{scroll:c}=this.root;c&&(Hn(a.x,c.offset.x),Hn(a.y,c.offset.y))}return a}removeElementScroll(o){const a=Re();if(vt(a,o),this.scroll?.wasRoot)return a;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:h}=c;c!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&vt(a,o),Hn(a.x,u.offset.x),Hn(a.y,u.offset.y))}return a}applyTransform(o,a=!1){const l=Re();vt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&qn(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ys(u.latestValues)&&qn(l,u.latestValues)}return Ys(this.latestValues)&&qn(l,this.latestValues),l}removeTransform(o){const a=Re();vt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ys(c.latestValues))continue;td(c.latestValues)&&c.updateSnapshot();const u=Re(),h=c.measurePageBox();vt(u,h),Jm(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Ys(this.latestValues)&&Jm(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ge.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Ge.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),nr(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),vt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Re(),this.targetWithTransforms=Re()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vt(this.target,this.layout.layoutBox),Tw(this.target,this.targetDelta)):vt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),nr(this.relativeTargetOrigin,this.target,f.target),vt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||td(this.parent.latestValues)||Sw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ge.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;vt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;AR(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Re());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Gm(this.prevProjectionDelta.x,this.projectionDelta.x),Gm(this.prevProjectionDelta.y,this.projectionDelta.y)),sr(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!sp(this.projectionDelta.x,this.prevProjectionDelta.x)||!sp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kn(),this.projectionDelta=Kn(),this.projectionDeltaWithTransform=Kn()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=Kn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Re(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,p=m!==g,y=this.getStack(),v=!y||y.members.length<=1,x=!!(p&&!v&&this.options.crossfade===!0&&!this.path.some(cM));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const _=S/1e3;op(h.x,o.x,_),op(h.y,o.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nr(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lM(this.relativeTarget,this.relativeTargetOrigin,f,_),w&&KI(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Re()),vt(w,this.relativeTarget)),p&&(this.animationValues=u,VI(u,c,this.latestValues,_,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ns(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ce.update(()=>{Fo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ri(0)),this.currentAnimation=DI(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(XI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Kw(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Re();const h=ot(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=ot(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}vt(a,l),qn(a,u),sr(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new GI),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&zl("z",o,c,this.animationValues);for(let u=0;u<Wl.length;u++)zl(`rotate${Wl[u]}`,o,c,this.animationValues),zl(`skew${Wl[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=$o(a?.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=$o(a?.pointerEvents)||""),this.hasProjected&&!Ys(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=YI(this.projectionDeltaWithTransform,this.treeScale,u);l&&(h=l(u,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in yr){if(u[g]===void 0)continue;const{correct:p,applyTo:y,isCSSVariable:v}=yr[g],x=h==="none"?u[g]:p(u[g],c);if(y){const w=y.length;for(let S=0;S<w;S++)o[y[S]]=x}else v?this.options.visualElement.renderState.vars[g]=x:o[g]=x}this.options.layoutId&&(o.pointerEvents=c===this?$o(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(np),this.root.sharedNodes.clear()}}}function QI(t){t.updateLayout()}function ZI(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:n}=t.layout,{animationType:i}=t.options,r=e.source!==t.layout.source;i==="size"?St(u=>{const h=r?e.measuredBox[u]:e.layoutBox[u],f=ot(h);h.min=s[u].min,h.max=h.min+f}):Kw(i,e.layoutBox,s)&&St(u=>{const h=r?e.measuredBox[u]:e.layoutBox[u],f=ot(s[u]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[u].max=t.relativeTarget[u].min+f)});const o=Kn();sr(o,s,e.layoutBox);const a=Kn();r?sr(a,t.applyTransform(n,!0),e.measuredBox):sr(a,s,e.layoutBox);const l=!Ww(o);let c=!1;if(!t.resumeFrom){const u=t.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:f}=u;if(h&&f){const m=Re();nr(m,e.layoutBox,h.layoutBox);const g=Re();nr(g,s,f.layoutBox),zw(m,g)||(c=!0),u.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=u)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function eM(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function tM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sM(t){t.clearSnapshot()}function np(t){t.clearMeasurements()}function ip(t){t.isLayoutDirty=!1}function nM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function rp(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function iM(t){t.resolveTargetDelta()}function rM(t){t.calcProjection()}function oM(t){t.resetSkewAndRotation()}function aM(t){t.removeLeadSnapshot()}function op(t,e,s){t.translate=ke(e.translate,0,s),t.scale=ke(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function ap(t,e,s,n){t.min=ke(e.min,s.min,n),t.max=ke(e.max,s.max,n)}function lM(t,e,s,n){ap(t.x,e.x,s.x,n),ap(t.y,e.y,s.y,n)}function cM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const dM={duration:.45,ease:[.4,0,.1,1]},lp=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),cp=lp("applewebkit/")&&!lp("chrome/")?Math.round:kt;function dp(t){t.min=cp(t.min),t.max=cp(t.max)}function uM(t){dp(t.x),dp(t.y)}function Kw(t,e,s){return t==="position"||t==="preserve-aspect"&&!yI(tp(e),tp(s),.2)}function hM(t){return t!==t.root&&t.scroll?.wasRoot}const fM=qw({attachResizeListener:(t,e)=>xr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hl={current:void 0},Gw=qw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Hl.current){const t=new fM({});t.mount(window),t.setOptions({layoutScroll:!0}),Hl.current=t}return Hl.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),mM={pan:{Feature:RI},drag:{Feature:NI,ProjectionNode:Gw,MeasureLayout:Bw}};function up(t,e,s){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,r=n[i];r&&Ce.postRender(()=>r(e,Vr(e)))}class pM extends Ds{mount(){const{current:e}=this.node;e&&(this.unmount=V1(e,(s,n)=>(up(this.node,n,"Start"),i=>up(this.node,i,"End"))))}unmount(){}}class gM extends Ds{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$r(xr(this.node.current,"focus",()=>this.onFocus()),xr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hp(t,e,s){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),r=n[i];r&&Ce.postRender(()=>r(e,Vr(e)))}class yM extends Ds{mount(){const{current:e}=this.node;e&&(this.unmount=H1(e,(s,n)=>(hp(this.node,n,"Start"),(i,{success:r})=>hp(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ld=new WeakMap,ql=new WeakMap,xM=t=>{const e=ld.get(t.target);e&&e(t)},bM=t=>{t.forEach(xM)};function vM({root:t,...e}){const s=t||document;ql.has(s)||ql.set(s,{});const n=ql.get(s),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(bM,{root:t,...e})),n[i]}function wM(t,e,s){const n=vM(e);return ld.set(t,s),n.observe(t),()=>{ld.delete(t),n.unobserve(t)}}const _M={some:0,all:1};class SM extends Ds{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:n,amount:i="some",once:r}=e,o={root:s?s.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:_M[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=c?u:h;f&&f(l)};return wM(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(TM(e,s))&&this.startObserver()}unmount(){}}function TM({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const CM={inView:{Feature:SM},tap:{Feature:yM},focus:{Feature:gM},hover:{Feature:pM}},jM={layout:{ProjectionNode:Gw,MeasureLayout:Bw}},kM={...uI,...CM,...mM,...jM},B=kR(kM,BR),PM="/assets/hero-bg-B7KnPagd.jpg",EM=()=>d.jsxs("div",{className:"min-h-screen",children:[d.jsxs("section",{className:"relative min-h-screen h-screen flex items-center justify-center text-center bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${PM})`},children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 to-black/40"}),d.jsxs(B.div,{className:"relative z-10 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-20 safe-area-top",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[d.jsxs(B.h1,{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-white mb-4 sm:mb-6 leading-tight",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:["Sustainable Tourism",d.jsx("span",{className:"block text-nature-accent mt-2",children:"& Climate Change"})]}),d.jsx(B.p,{className:"text-base sm:text-lg md:text-xl lg:text-2xl text-gray-200 mb-6 sm:mb-8 max-w-3xl mx-auto px-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:"Discover how climate change is impacting tourism worldwide and learn to travel responsibly."}),d.jsxs(B.div,{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center max-w-2xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:[d.jsx(J,{asChild:!0,size:"lg",className:"bg-nature-accent hover:bg-nature-accent/90 text-white px-6 sm:px-8 py-3 text-base sm:text-lg shadow-glow w-full sm:w-auto touch-target",children:d.jsxs(it,{to:"/calculator",className:"flex items-center justify-center",children:[d.jsx(Wo,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),"Calculate Your Impact"]})}),d.jsx(J,{asChild:!0,variant:"outline",size:"lg",className:"border-white text-green-800 hover:bg-white hover:text-primary px-6 sm:px-8 py-3 text-base sm:text-lg w-full sm:w-auto touch-target",children:d.jsxs(it,{to:"/destinations",className:"flex items-center justify-center",children:[d.jsx(Cd,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),"Explore Destinations"]})})]})]})]}),d.jsx("section",{className:"py-12 sm:py-16 lg:py-20 px-4 sm:px-6 lg:px-8 bg-gradient-card",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsx(B.h2,{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-center mb-8 sm:mb-12 text-foreground px-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:"Start Your Sustainable Journey"}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:[d.jsx(B.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:d.jsx(se,{className:"h-full shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-card",children:d.jsxs(re,{className:"p-4 sm:p-6 lg:p-8",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center mb-4 gap-3",children:[d.jsx(Wo,{className:"h-6 w-6 sm:h-8 sm:w-8 text-nature-accent flex-shrink-0"}),d.jsx("h3",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-card-foreground",children:"Carbon Footprint Calculator"})]}),d.jsx("p",{className:"text-muted-foreground mb-4 sm:mb-6 text-sm sm:text-base lg:text-lg",children:"Calculate the environmental impact of your travels and discover greener alternatives."}),d.jsx(J,{asChild:!0,className:"bg-primary hover:bg-primary/90 w-full sm:w-auto touch-target",children:d.jsxs(it,{to:"/calculator",className:"flex items-center justify-center",children:["Calculate Now ",d.jsx(Rh,{className:"ml-2 h-4 w-4"})]})})]})})}),d.jsx(B.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:d.jsx(se,{className:"h-full shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-card",children:d.jsxs(re,{className:"p-4 sm:p-6 lg:p-8",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center mb-4 gap-3",children:[d.jsx(Ut,{className:"h-6 w-6 sm:h-8 sm:w-8 text-nature-success flex-shrink-0"}),d.jsx("h3",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-card-foreground",children:"Eco-Friendly Destinations"})]}),d.jsx("p",{className:"text-muted-foreground mb-4 sm:mb-6 text-sm sm:text-base lg:text-lg",children:"Explore beautiful destinations committed to sustainable tourism practices."}),d.jsx(J,{asChild:!0,className:"bg-nature-success hover:bg-nature-success/90 text-white w-full sm:w-auto touch-target",children:d.jsxs(it,{to:"/destinations",className:"flex items-center justify-center",children:["Explore Destinations ",d.jsx(Rh,{className:"ml-2 h-4 w-4"})]})})]})})})]})]})})]}),AM=()=>{const t=[{icon:oc,title:"Rising Temperatures",description:"Global temperatures have increased by 1.1°C since pre-industrial times, affecting seasonal patterns and destination weather.",color:"text-red-500"},{icon:zo,title:"Sea Level Rise",description:"Ocean levels are rising at 3.3mm per year, threatening coastal destinations and island nations worldwide.",color:"text-blue-500"},{icon:kS,title:"Extreme Weather",description:"Increased frequency of hurricanes, droughts, and floods disrupts travel plans and damages tourism infrastructure.",color:"text-purple-500"}],e=[{location:"The Himalayas",issue:"Melting Glaciers",description:"Rising temperatures are causing rapid glacier retreat, affecting trekking routes and water sources for mountain communities.",icon:To},{location:"Maldives",issue:"Coral Bleaching",description:"Ocean warming and acidification are causing widespread coral bleaching, threatening marine tourism and local ecosystems.",icon:zo},{location:"Europe",issue:"Heat Waves",description:"Record-breaking temperatures make summer travel uncomfortable and increase energy costs for tourism facilities.",icon:oc}];return d.jsxs("div",{className:"min-h-screen pt-16",children:[d.jsx("section",{className:"py-20 px-6 bg-gradient-hero text-white",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx(B.h1,{className:"text-5xl md:text-6xl font-bold mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:"Climate Change & Tourism"}),d.jsx(B.p,{className:"text-xl md:text-2xl text-gray-200 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Understanding the complex relationship between our changing climate and the tourism industry that connects us to the world's most beautiful destinations."})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Understanding Climate Change"}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Climate change encompasses several interconnected phenomena that directly impact tourism destinations and travel experiences."})]}),d.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:t.map((s,n)=>{const i=s.icon;return d.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:n*.2},children:d.jsxs(se,{className:"h-full shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-gradient-card",children:[d.jsxs(_e,{className:"text-center",children:[d.jsx(i,{className:`h-16 w-16 mx-auto mb-4 ${s.color}`}),d.jsx(Te,{className:"text-2xl",children:s.title})]}),d.jsx(re,{children:d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:s.description})})]})},s.title)})})]})}),d.jsx("section",{className:"py-20 px-6 bg-muted/30",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Real-World Examples"}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Climate change is already affecting some of the world's most beloved travel destinations."})]}),d.jsx("div",{className:"space-y-8",children:e.map((s,n)=>{const i=s.icon;return d.jsx(B.div,{initial:{opacity:0,x:n%2===0?-20:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:n*.1},children:d.jsx(se,{className:"shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-card",children:d.jsxs(re,{className:"flex items-center p-8",children:[d.jsx("div",{className:"flex-shrink-0 mr-8",children:d.jsx(i,{className:"h-16 w-16 text-nature-secondary"})}),d.jsxs("div",{className:"flex-grow",children:[d.jsx("h3",{className:"text-2xl font-bold text-card-foreground mb-2",children:s.location}),d.jsx("h4",{className:"text-lg font-semibold text-nature-accent mb-3",children:s.issue}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:s.description})]})]})})},s.location)})})]})}),d.jsx("section",{className:"py-20 px-6 bg-primary text-primary-foreground",children:d.jsx("div",{className:"max-w-4xl mx-auto text-center",children:d.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx(ac,{className:"h-16 w-16 mx-auto mb-6 text-nature-accent"}),d.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Together We Can Make a Difference"}),d.jsx("p",{className:"text-xl text-primary-foreground/90 leading-relaxed",children:"By understanding climate change and its impacts on tourism, we can make informed decisions that help preserve the destinations we love for future generations. Every sustainable choice counts."})]})})})]})};var za="Collapsible",[NM,Yw]=Ms(za),[RM,Xu]=NM(za),Xw=b.forwardRef((t,e)=>{const{__scopeCollapsible:s,open:n,defaultOpen:i,disabled:r,onOpenChange:o,...a}=t,[l,c]=Zn({prop:n,defaultProp:i??!1,onChange:o,caller:za});return d.jsx(RM,{scope:s,disabled:r,contentId:Er(),open:l,onOpenToggle:b.useCallback(()=>c(u=>!u),[c]),children:d.jsx(ce.div,{"data-state":Qu(l),"data-disabled":r?"":void 0,...a,ref:e})})});Xw.displayName=za;var Jw="CollapsibleTrigger",Qw=b.forwardRef((t,e)=>{const{__scopeCollapsible:s,...n}=t,i=Xu(Jw,s);return d.jsx(ce.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Qu(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:Z(t.onClick,i.onOpenToggle)})});Qw.displayName=Jw;var Ju="CollapsibleContent",Zw=b.forwardRef((t,e)=>{const{forceMount:s,...n}=t,i=Xu(Ju,t.__scopeCollapsible);return d.jsx(pn,{present:s||i.open,children:({present:r})=>d.jsx(IM,{...n,ref:e,present:r})})});Zw.displayName=Ju;var IM=b.forwardRef((t,e)=>{const{__scopeCollapsible:s,present:n,children:i,...r}=t,o=Xu(Ju,s),[a,l]=b.useState(n),c=b.useRef(null),u=Ne(e,c),h=b.useRef(0),f=h.current,m=b.useRef(0),g=m.current,p=o.open||a,y=b.useRef(p),v=b.useRef(void 0);return b.useEffect(()=>{const x=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(x)},[]),mt(()=>{const x=c.current;if(x){v.current=v.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const w=x.getBoundingClientRect();h.current=w.height,m.current=w.width,y.current||(x.style.transitionDuration=v.current.transitionDuration,x.style.animationName=v.current.animationName),l(n)}},[o.open,n]),d.jsx(ce.div,{"data-state":Qu(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...r,ref:u,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style},children:p&&i})});function Qu(t){return t?"open":"closed"}var MM=Xw,OM=Qw,DM=Zw,Wt="Accordion",LM=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Zu,$M,FM]=_d(Wt),[Ha]=Ms(Wt,[FM,Yw]),eh=Yw(),e0=I.forwardRef((t,e)=>{const{type:s,...n}=t,i=n,r=n;return d.jsx(Zu.Provider,{scope:t.__scopeAccordion,children:s==="multiple"?d.jsx(WM,{...r,ref:e}):d.jsx(UM,{...i,ref:e})})});e0.displayName=Wt;var[t0,BM]=Ha(Wt),[s0,VM]=Ha(Wt,{collapsible:!1}),UM=I.forwardRef((t,e)=>{const{value:s,defaultValue:n,onValueChange:i=()=>{},collapsible:r=!1,...o}=t,[a,l]=Zn({prop:s,defaultProp:n??"",onChange:i,caller:Wt});return d.jsx(t0,{scope:t.__scopeAccordion,value:I.useMemo(()=>a?[a]:[],[a]),onItemOpen:l,onItemClose:I.useCallback(()=>r&&l(""),[r,l]),children:d.jsx(s0,{scope:t.__scopeAccordion,collapsible:r,children:d.jsx(n0,{...o,ref:e})})})}),WM=I.forwardRef((t,e)=>{const{value:s,defaultValue:n,onValueChange:i=()=>{},...r}=t,[o,a]=Zn({prop:s,defaultProp:n??[],onChange:i,caller:Wt}),l=I.useCallback(u=>a((h=[])=>[...h,u]),[a]),c=I.useCallback(u=>a((h=[])=>h.filter(f=>f!==u)),[a]);return d.jsx(t0,{scope:t.__scopeAccordion,value:o,onItemOpen:l,onItemClose:c,children:d.jsx(s0,{scope:t.__scopeAccordion,collapsible:!0,children:d.jsx(n0,{...r,ref:e})})})}),[zM,qa]=Ha(Wt),n0=I.forwardRef((t,e)=>{const{__scopeAccordion:s,disabled:n,dir:i,orientation:r="vertical",...o}=t,a=I.useRef(null),l=Ne(a,e),c=$M(s),h=Td(i)==="ltr",f=Z(t.onKeyDown,m=>{if(!LM.includes(m.key))return;const g=m.target,p=c().filter(j=>!j.ref.current?.disabled),y=p.findIndex(j=>j.ref.current===g),v=p.length;if(y===-1)return;m.preventDefault();let x=y;const w=0,S=v-1,_=()=>{x=y+1,x>S&&(x=w)},T=()=>{x=y-1,x<w&&(x=S)};switch(m.key){case"Home":x=w;break;case"End":x=S;break;case"ArrowRight":r==="horizontal"&&(h?_():T());break;case"ArrowDown":r==="vertical"&&_();break;case"ArrowLeft":r==="horizontal"&&(h?T():_());break;case"ArrowUp":r==="vertical"&&T();break}const C=x%v;p[C].ref.current?.focus()});return d.jsx(zM,{scope:s,disabled:n,direction:i,orientation:r,children:d.jsx(Zu.Slot,{scope:s,children:d.jsx(ce.div,{...o,"data-orientation":r,ref:l,onKeyDown:n?void 0:f})})})}),ua="AccordionItem",[HM,th]=Ha(ua),i0=I.forwardRef((t,e)=>{const{__scopeAccordion:s,value:n,...i}=t,r=qa(ua,s),o=BM(ua,s),a=eh(s),l=Er(),c=n&&o.value.includes(n)||!1,u=r.disabled||t.disabled;return d.jsx(HM,{scope:s,open:c,disabled:u,triggerId:l,children:d.jsx(MM,{"data-orientation":r.orientation,"data-state":d0(c),...a,...i,ref:e,disabled:u,open:c,onOpenChange:h=>{h?o.onItemOpen(n):o.onItemClose(n)}})})});i0.displayName=ua;var r0="AccordionHeader",o0=I.forwardRef((t,e)=>{const{__scopeAccordion:s,...n}=t,i=qa(Wt,s),r=th(r0,s);return d.jsx(ce.h3,{"data-orientation":i.orientation,"data-state":d0(r.open),"data-disabled":r.disabled?"":void 0,...n,ref:e})});o0.displayName=r0;var cd="AccordionTrigger",a0=I.forwardRef((t,e)=>{const{__scopeAccordion:s,...n}=t,i=qa(Wt,s),r=th(cd,s),o=VM(cd,s),a=eh(s);return d.jsx(Zu.ItemSlot,{scope:s,children:d.jsx(OM,{"aria-disabled":r.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:r.triggerId,...a,...n,ref:e})})});a0.displayName=cd;var l0="AccordionContent",c0=I.forwardRef((t,e)=>{const{__scopeAccordion:s,...n}=t,i=qa(Wt,s),r=th(l0,s),o=eh(s);return d.jsx(DM,{role:"region","aria-labelledby":r.triggerId,"data-orientation":i.orientation,...o,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});c0.displayName=l0;function d0(t){return t?"open":"closed"}var qM=e0,KM=i0,GM=o0,u0=a0,h0=c0;const YM=qM,f0=b.forwardRef(({className:t,...e},s)=>d.jsx(KM,{ref:s,className:K("border-b",t),...e}));f0.displayName="AccordionItem";const m0=b.forwardRef(({className:t,children:e,...s},n)=>d.jsx(GM,{className:"flex",children:d.jsxs(u0,{ref:n,className:K("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...s,children:[e,d.jsx(jd,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));m0.displayName=u0.displayName;const p0=b.forwardRef(({className:t,children:e,...s},n)=>d.jsx(h0,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...s,children:d.jsx("div",{className:K("pb-4 pt-0",t),children:e})}));p0.displayName=h0.displayName;const XM=()=>{const t=[{id:"environment",title:"Environmental Impact",icon:Ut,color:"text-green-500",impacts:[{title:"Rising Temperatures",description:"Global warming is changing seasonal patterns and making some destinations uncomfortably hot during traditional peak seasons.",severity:"High"},{title:"Extreme Weather Events",description:"Increased frequency of hurricanes, floods, and droughts disrupts travel plans and damages tourism infrastructure.",severity:"High"},{title:"Ecosystem Disruption",description:"Climate change affects wildlife migration patterns and breeding cycles, impacting eco-tourism experiences.",severity:"Medium"},{title:"Water Scarcity",description:"Changing precipitation patterns and increased temperatures lead to water shortages in popular destinations.",severity:"High"}]},{id:"industry",title:"Tourism Industry Impact",icon:PS,color:"text-blue-500",impacts:[{title:"Destination Loss",description:"Sea level rise and extreme weather threaten iconic destinations like coral reefs and ski resorts.",severity:"High"},{title:"Increased Operational Costs",description:"Higher energy costs for cooling, heating, and infrastructure protection due to climate changes.",severity:"Medium"},{title:"Seasonal Disruption",description:"Traditional travel seasons are shifting, affecting booking patterns and revenue streams.",severity:"Medium"},{title:"Insurance Costs",description:"Rising insurance premiums due to increased climate-related risks and damages.",severity:"Medium"}]},{id:"communities",title:"Local Communities Impact",icon:kd,color:"text-purple-500",impacts:[{title:"Job Displacement",description:"Tourism-dependent communities face unemployment as destinations become less viable due to climate change.",severity:"High"},{title:"Cultural Heritage at Risk",description:"Rising sea levels and extreme weather threaten historical sites and cultural landmarks.",severity:"High"},{title:"Economic Instability",description:"Communities heavily reliant on tourism face economic uncertainty as visitor patterns change.",severity:"Medium"},{title:"Forced Migration",description:"Some communities may need to relocate due to sea level rise or extreme weather events.",severity:"High"}]}],e=s=>{switch(s){case"High":return"text-red-500 bg-red-50";case"Medium":return"text-orange-500 bg-orange-50";case"Low":return"text-green-500 bg-green-50";default:return"text-gray-500 bg-gray-50"}};return d.jsxs("div",{className:"min-h-screen pt-16",children:[d.jsx("section",{className:"py-20 px-6 bg-gradient-hero text-white",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx(B.h1,{className:"text-5xl md:text-6xl font-bold mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:"Climate Change Impacts"}),d.jsx(B.p,{className:"text-xl md:text-2xl text-gray-200 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Explore how climate change affects the environment, tourism industry, and local communities worldwide."})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Understanding the Impact"}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Climate change affects tourism through multiple interconnected pathways, creating challenges for destinations, businesses, and communities."})]}),d.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:t.map((s,n)=>{const i=s.icon;return d.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:n*.2},children:d.jsxs(se,{className:"h-full shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-gradient-card",children:[d.jsxs(_e,{className:"text-center",children:[d.jsx(i,{className:`h-16 w-16 mx-auto mb-4 ${s.color}`}),d.jsx(Te,{className:"text-2xl",children:s.title})]}),d.jsx(re,{children:d.jsx("div",{className:"text-center",children:d.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.impacts.length," key impacts"]})})})]})},s.id)})})]})}),d.jsx("section",{className:"py-20 px-6 bg-muted/30",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Detailed Impact Analysis"}),d.jsx("p",{className:"text-xl text-muted-foreground",children:"Explore specific impacts within each category to understand the full scope of climate change effects on tourism."})]}),d.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:d.jsx(YM,{type:"single",collapsible:!0,className:"space-y-4",children:t.map(s=>{const n=s.icon;return d.jsx(f0,{value:s.id,className:"border-none",children:d.jsxs(se,{className:"shadow-card-eco border-none bg-card",children:[d.jsx(m0,{className:"px-6 py-4 hover:no-underline",children:d.jsxs("div",{className:"flex items-center text-left",children:[d.jsx(n,{className:`h-8 w-8 mr-4 ${s.color}`}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold text-card-foreground",children:s.title}),d.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Click to explore ",s.impacts.length," specific impacts"]})]})]})}),d.jsx(p0,{className:"px-6 pb-6",children:d.jsx("div",{className:"space-y-4 mt-4",children:s.impacts.map((i,r)=>d.jsxs("div",{className:"p-4 rounded-lg bg-muted/50",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsx("h4",{className:"font-semibold text-card-foreground",children:i.title}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e(i.severity)}`,children:i.severity})]}),d.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:i.description})]},r))})})]})},s.id)})})})]})}),d.jsx("section",{className:"py-20 px-6 bg-primary text-primary-foreground",children:d.jsx("div",{className:"max-w-4xl mx-auto text-center",children:d.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx(ES,{className:"h-16 w-16 mx-auto mb-6 text-nature-warning"}),d.jsx("h2",{className:"text-4xl font-bold mb-6",children:"The Time to Act is Now"}),d.jsx("p",{className:"text-xl text-primary-foreground/90 leading-relaxed mb-8",children:"Understanding these impacts is the first step toward sustainable tourism. By making informed choices and supporting climate-conscious travel practices, we can help mitigate these effects and protect the destinations we love."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsx(B.a,{href:"/calculator",className:"inline-flex items-center px-6 py-3 bg-nature-accent hover:bg-nature-accent/90 text-white rounded-md font-medium transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Calculate Your Impact"}),d.jsx(B.a,{href:"/tips",className:"inline-flex items-center px-6 py-3 border border-primary-foreground/20 hover:bg-primary-foreground/10 text-primary-foreground rounded-md font-medium transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Learn Sustainable Practices"})]})]})})})]})};var JM="Label",g0=b.forwardRef((t,e)=>d.jsx(ce.label,{...t,ref:e,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(t.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));g0.displayName=JM;var y0=g0;const QM=Nr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qe=b.forwardRef(({className:t,...e},s)=>d.jsx(y0,{ref:s,className:K(QM(),t),...e}));qe.displayName=y0.displayName;function ZM(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var eO=[" ","Enter","ArrowUp","ArrowDown"],tO=[" ","Enter"],un="Select",[Ka,Ga,sO]=_d(un),[pi]=Ms(un,[sO,wa]),Ya=wa(),[nO,Ls]=pi(un),[iO,rO]=pi(un),x0=t=>{const{__scopeSelect:e,children:s,open:n,defaultOpen:i,onOpenChange:r,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:f,required:m,form:g}=t,p=Ya(e),[y,v]=b.useState(null),[x,w]=b.useState(null),[S,_]=b.useState(!1),T=Td(c),[C,j]=Zn({prop:n,defaultProp:i??!1,onChange:r,caller:un}),[E,k]=Zn({prop:o,defaultProp:a,onChange:l,caller:un}),A=b.useRef(null),N=y?g||!!y.closest("form"):!0,[G,F]=b.useState(new Set),M=Array.from(G).map(D=>D.props.value).join(";");return d.jsx(OS,{...p,children:d.jsxs(nO,{required:m,scope:e,trigger:y,onTriggerChange:v,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:Er(),value:E,onValueChange:k,open:C,onOpenChange:j,dir:T,triggerPointerDownPosRef:A,disabled:f,children:[d.jsx(Ka.Provider,{scope:e,children:d.jsx(iO,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(D=>{F($=>new Set($).add(D))},[]),onNativeOptionRemove:b.useCallback(D=>{F($=>{const L=new Set($);return L.delete(D),L})},[]),children:s})}),N?d.jsxs(U0,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:h,value:E,onChange:D=>k(D.target.value),disabled:f,form:g,children:[E===void 0?d.jsx("option",{value:""}):null,Array.from(G)]},M):null]})})};x0.displayName=un;var b0="SelectTrigger",v0=b.forwardRef((t,e)=>{const{__scopeSelect:s,disabled:n=!1,...i}=t,r=Ya(s),o=Ls(b0,s),a=o.disabled||n,l=Ne(e,o.onTriggerChange),c=Ga(s),u=b.useRef("touch"),[h,f,m]=z0(p=>{const y=c().filter(w=>!w.disabled),v=y.find(w=>w.value===o.value),x=H0(y,p,v);x!==void 0&&o.onValueChange(x.value)}),g=p=>{a||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return d.jsx(Ig,{asChild:!0,...r,children:d.jsx(ce.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":W0(o.value)?"":void 0,...i,ref:l,onClick:Z(i.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&g(p)}),onPointerDown:Z(i.onPointerDown,p=>{u.current=p.pointerType;const y=p.target;y.hasPointerCapture(p.pointerId)&&y.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Z(i.onKeyDown,p=>{const y=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(y&&p.key===" ")&&eO.includes(p.key)&&(g(),p.preventDefault())})})})});v0.displayName=b0;var w0="SelectValue",_0=b.forwardRef((t,e)=>{const{__scopeSelect:s,className:n,style:i,children:r,placeholder:o="",...a}=t,l=Ls(w0,s),{onValueNodeHasChildrenChange:c}=l,u=r!==void 0,h=Ne(e,l.onValueNodeChange);return mt(()=>{c(u)},[c,u]),d.jsx(ce.span,{...a,ref:h,style:{pointerEvents:"none"},children:W0(l.value)?d.jsx(d.Fragment,{children:o}):r})});_0.displayName=w0;var oO="SelectIcon",S0=b.forwardRef((t,e)=>{const{__scopeSelect:s,children:n,...i}=t;return d.jsx(ce.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});S0.displayName=oO;var aO="SelectPortal",T0=t=>d.jsx(Ag,{asChild:!0,...t});T0.displayName=aO;var hn="SelectContent",C0=b.forwardRef((t,e)=>{const s=Ls(hn,t.__scopeSelect),[n,i]=b.useState();if(mt(()=>{i(new DocumentFragment)},[]),!s.open){const r=n;return r?Ed.createPortal(d.jsx(j0,{scope:t.__scopeSelect,children:d.jsx(Ka.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),r):null}return d.jsx(k0,{...t,ref:e})});C0.displayName=hn;var Dt=10,[j0,$s]=pi(hn),lO="SelectContentImpl",cO=IS("SelectContent.RemoveScroll"),k0=b.forwardRef((t,e)=>{const{__scopeSelect:s,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:r,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:y,...v}=t,x=Ls(hn,s),[w,S]=b.useState(null),[_,T]=b.useState(null),C=Ne(e,V=>S(V)),[j,E]=b.useState(null),[k,A]=b.useState(null),N=Ga(s),[G,F]=b.useState(!1),M=b.useRef(!1);b.useEffect(()=>{if(w)return AS(w)},[w]),NS();const D=b.useCallback(V=>{const[je,...$e]=N().map(Pe=>Pe.ref.current),[pe]=$e.slice(-1),ge=document.activeElement;for(const Pe of V)if(Pe===ge||(Pe?.scrollIntoView({block:"nearest"}),Pe===je&&_&&(_.scrollTop=0),Pe===pe&&_&&(_.scrollTop=_.scrollHeight),Pe?.focus(),document.activeElement!==ge))return},[N,_]),$=b.useCallback(()=>D([j,w]),[D,j,w]);b.useEffect(()=>{G&&$()},[G,$]);const{onOpenChange:L,triggerPointerDownPosRef:R}=x;b.useEffect(()=>{if(w){let V={x:0,y:0};const je=pe=>{V={x:Math.abs(Math.round(pe.pageX)-(R.current?.x??0)),y:Math.abs(Math.round(pe.pageY)-(R.current?.y??0))}},$e=pe=>{V.x<=10&&V.y<=10?pe.preventDefault():w.contains(pe.target)||L(!1),document.removeEventListener("pointermove",je),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",$e,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",$e,{capture:!0})}}},[w,L,R]),b.useEffect(()=>{const V=()=>L(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[L]);const[ne,he]=z0(V=>{const je=N().filter(ge=>!ge.disabled),$e=je.find(ge=>ge.ref.current===document.activeElement),pe=H0(je,V,$e);pe&&setTimeout(()=>pe.ref.current.focus())}),Q=b.useCallback((V,je,$e)=>{const pe=!M.current&&!$e;(x.value!==void 0&&x.value===je||pe)&&(E(V),pe&&(M.current=!0))},[x.value]),ie=b.useCallback(()=>w?.focus(),[w]),ee=b.useCallback((V,je,$e)=>{const pe=!M.current&&!$e;(x.value!==void 0&&x.value===je||pe)&&A(V)},[x.value]),be=n==="popper"?dd:P0,Me=be===dd?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:y}:{};return d.jsx(j0,{scope:s,content:w,viewport:_,onViewportChange:T,itemRefCallback:Q,selectedItem:j,onItemLeave:ie,itemTextRefCallback:ee,focusSelectedItem:$,selectedItemText:k,position:n,isPositioned:G,searchRef:ne,children:d.jsx(RS,{as:cO,allowPinchZoom:!0,children:d.jsx(MS,{asChild:!0,trapped:x.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:Z(i,V=>{x.trigger?.focus({preventScroll:!0}),V.preventDefault()}),children:d.jsx(Ng,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:d.jsx(be,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:V=>V.preventDefault(),...v,...Me,onPlaced:()=>F(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Z(v.onKeyDown,V=>{const je=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!je&&V.key.length===1&&he(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let pe=N().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(V.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const ge=V.target,Pe=pe.indexOf(ge);pe=pe.slice(Pe+1)}setTimeout(()=>D(pe)),V.preventDefault()}})})})})})})});k0.displayName=lO;var dO="SelectItemAlignedPosition",P0=b.forwardRef((t,e)=>{const{__scopeSelect:s,onPlaced:n,...i}=t,r=Ls(hn,s),o=$s(hn,s),[a,l]=b.useState(null),[c,u]=b.useState(null),h=Ne(e,C=>u(C)),f=Ga(s),m=b.useRef(!1),g=b.useRef(!0),{viewport:p,selectedItem:y,selectedItemText:v,focusSelectedItem:x}=o,w=b.useCallback(()=>{if(r.trigger&&r.valueNode&&a&&c&&p&&y&&v){const C=r.trigger.getBoundingClientRect(),j=c.getBoundingClientRect(),E=r.valueNode.getBoundingClientRect(),k=v.getBoundingClientRect();if(r.dir!=="rtl"){const ge=k.left-j.left,Pe=E.left-ge,zt=C.left-Pe,ns=C.width+zt,yi=Math.max(ns,j.width),xn=window.innerWidth-Dt,xi=Pc(Pe,[Dt,Math.max(Dt,xn-yi)]);a.style.minWidth=ns+"px",a.style.left=xi+"px"}else{const ge=j.right-k.right,Pe=window.innerWidth-E.right-ge,zt=window.innerWidth-C.right-Pe,ns=C.width+zt,yi=Math.max(ns,j.width),xn=window.innerWidth-Dt,xi=Pc(Pe,[Dt,Math.max(Dt,xn-yi)]);a.style.minWidth=ns+"px",a.style.right=xi+"px"}const A=f(),N=window.innerHeight-Dt*2,G=p.scrollHeight,F=window.getComputedStyle(c),M=parseInt(F.borderTopWidth,10),D=parseInt(F.paddingTop,10),$=parseInt(F.borderBottomWidth,10),L=parseInt(F.paddingBottom,10),R=M+D+G+L+$,ne=Math.min(y.offsetHeight*5,R),he=window.getComputedStyle(p),Q=parseInt(he.paddingTop,10),ie=parseInt(he.paddingBottom,10),ee=C.top+C.height/2-Dt,be=N-ee,Me=y.offsetHeight/2,V=y.offsetTop+Me,je=M+D+V,$e=R-je;if(je<=ee){const ge=A.length>0&&y===A[A.length-1].ref.current;a.style.bottom="0px";const Pe=c.clientHeight-p.offsetTop-p.offsetHeight,zt=Math.max(be,Me+(ge?ie:0)+Pe+$),ns=je+zt;a.style.height=ns+"px"}else{const ge=A.length>0&&y===A[0].ref.current;a.style.top="0px";const zt=Math.max(ee,M+p.offsetTop+(ge?Q:0)+Me)+$e;a.style.height=zt+"px",p.scrollTop=je-ee+p.offsetTop}a.style.margin=`${Dt}px 0`,a.style.minHeight=ne+"px",a.style.maxHeight=N+"px",n?.(),requestAnimationFrame(()=>m.current=!0)}},[f,r.trigger,r.valueNode,a,c,p,y,v,r.dir,n]);mt(()=>w(),[w]);const[S,_]=b.useState();mt(()=>{c&&_(window.getComputedStyle(c).zIndex)},[c]);const T=b.useCallback(C=>{C&&g.current===!0&&(w(),x?.(),g.current=!1)},[w,x]);return d.jsx(hO,{scope:s,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:T,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:d.jsx(ce.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});P0.displayName=dO;var uO="SelectPopperPosition",dd=b.forwardRef((t,e)=>{const{__scopeSelect:s,align:n="start",collisionPadding:i=Dt,...r}=t,o=Ya(s);return d.jsx(Rg,{...o,...r,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...r.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dd.displayName=uO;var[hO,sh]=pi(hn,{}),ud="SelectViewport",E0=b.forwardRef((t,e)=>{const{__scopeSelect:s,nonce:n,...i}=t,r=$s(ud,s),o=sh(ud,s),a=Ne(e,r.onViewportChange),l=b.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),d.jsx(Ka.Slot,{scope:s,children:d.jsx(ce.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Z(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f?.current&&h){const m=Math.abs(l.current-u.scrollTop);if(m>0){const g=window.innerHeight-Dt*2,p=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),v=Math.max(p,y);if(v<g){const x=v+m,w=Math.min(g,x),S=x-w;h.style.height=w+"px",h.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});E0.displayName=ud;var A0="SelectGroup",[fO,mO]=pi(A0),pO=b.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t,i=Er();return d.jsx(fO,{scope:s,id:i,children:d.jsx(ce.div,{role:"group","aria-labelledby":i,...n,ref:e})})});pO.displayName=A0;var N0="SelectLabel",R0=b.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t,i=mO(N0,s);return d.jsx(ce.div,{id:i.id,...n,ref:e})});R0.displayName=N0;var ha="SelectItem",[gO,I0]=pi(ha),M0=b.forwardRef((t,e)=>{const{__scopeSelect:s,value:n,disabled:i=!1,textValue:r,...o}=t,a=Ls(ha,s),l=$s(ha,s),c=a.value===n,[u,h]=b.useState(r??""),[f,m]=b.useState(!1),g=Ne(e,x=>l.itemRefCallback?.(x,n,i)),p=Er(),y=b.useRef("touch"),v=()=>{i||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(gO,{scope:s,value:n,disabled:i,textId:p,isSelected:c,onItemTextChange:b.useCallback(x=>{h(w=>w||(x?.textContent??"").trim())},[]),children:d.jsx(Ka.ItemSlot,{scope:s,value:n,disabled:i,textValue:u,children:d.jsx(ce.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:g,onFocus:Z(o.onFocus,()=>m(!0)),onBlur:Z(o.onBlur,()=>m(!1)),onClick:Z(o.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:Z(o.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:Z(o.onPointerDown,x=>{y.current=x.pointerType}),onPointerMove:Z(o.onPointerMove,x=>{y.current=x.pointerType,i?l.onItemLeave?.():y.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Z(o.onPointerLeave,x=>{x.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:Z(o.onKeyDown,x=>{l.searchRef?.current!==""&&x.key===" "||(tO.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});M0.displayName=ha;var Vi="SelectItemText",O0=b.forwardRef((t,e)=>{const{__scopeSelect:s,className:n,style:i,...r}=t,o=Ls(Vi,s),a=$s(Vi,s),l=I0(Vi,s),c=rO(Vi,s),[u,h]=b.useState(null),f=Ne(e,v=>h(v),l.onItemTextChange,v=>a.itemTextRefCallback?.(v,l.value,l.disabled)),m=u?.textContent,g=b.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:y}=c;return mt(()=>(p(g),()=>y(g)),[p,y,g]),d.jsxs(d.Fragment,{children:[d.jsx(ce.span,{id:l.textId,...r,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ed.createPortal(r.children,o.valueNode):null]})});O0.displayName=Vi;var D0="SelectItemIndicator",L0=b.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t;return I0(D0,s).isSelected?d.jsx(ce.span,{"aria-hidden":!0,...n,ref:e}):null});L0.displayName=D0;var hd="SelectScrollUpButton",$0=b.forwardRef((t,e)=>{const s=$s(hd,t.__scopeSelect),n=sh(hd,t.__scopeSelect),[i,r]=b.useState(!1),o=Ne(e,n.onScrollButtonChange);return mt(()=>{if(s.viewport&&s.isPositioned){let a=function(){const c=l.scrollTop>0;r(c)};const l=s.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[s.viewport,s.isPositioned]),i?d.jsx(B0,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=s;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});$0.displayName=hd;var fd="SelectScrollDownButton",F0=b.forwardRef((t,e)=>{const s=$s(fd,t.__scopeSelect),n=sh(fd,t.__scopeSelect),[i,r]=b.useState(!1),o=Ne(e,n.onScrollButtonChange);return mt(()=>{if(s.viewport&&s.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;r(u)};const l=s.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[s.viewport,s.isPositioned]),i?d.jsx(B0,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=s;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});F0.displayName=fd;var B0=b.forwardRef((t,e)=>{const{__scopeSelect:s,onAutoScroll:n,...i}=t,r=$s("SelectScrollButton",s),o=b.useRef(null),a=Ga(s),l=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),mt(()=>{a().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),d.jsx(ce.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Z(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Z(i.onPointerMove,()=>{r.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Z(i.onPointerLeave,()=>{l()})})}),yO="SelectSeparator",V0=b.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t;return d.jsx(ce.div,{"aria-hidden":!0,...n,ref:e})});V0.displayName=yO;var md="SelectArrow",xO=b.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t,i=Ya(s),r=Ls(md,s),o=$s(md,s);return r.open&&o.position==="popper"?d.jsx(Mg,{...i,...n,ref:e}):null});xO.displayName=md;var bO="SelectBubbleInput",U0=b.forwardRef(({__scopeSelect:t,value:e,...s},n)=>{const i=b.useRef(null),r=Ne(n,i),o=ZM(e);return b.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const h=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(h)}},[o,e]),d.jsx(ce.select,{...s,style:{...ey,...s.style},ref:r,defaultValue:e})});U0.displayName=bO;function W0(t){return t===""||t===void 0}function z0(t){const e=xt(t),s=b.useRef(""),n=b.useRef(0),i=b.useCallback(o=>{const a=s.current+o;e(a),(function l(c){s.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))})(a)},[e]),r=b.useCallback(()=>{s.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[s,i,r]}function H0(t,e,s){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,r=s?t.indexOf(s):-1;let o=vO(t,Math.max(r,0));i.length===1&&(o=o.filter(c=>c!==s));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==s?l:void 0}function vO(t,e){return t.map((s,n)=>t[(e+n)%t.length])}var wO=x0,q0=v0,_O=_0,SO=S0,TO=T0,K0=C0,CO=E0,G0=R0,Y0=M0,jO=O0,kO=L0,X0=$0,J0=F0,Q0=V0;const PO=wO,EO=_O,Z0=b.forwardRef(({className:t,children:e,...s},n)=>d.jsxs(q0,{ref:n,className:K("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[e,d.jsx(SO,{asChild:!0,children:d.jsx(jd,{className:"h-4 w-4 opacity-50"})})]}));Z0.displayName=q0.displayName;const e_=b.forwardRef(({className:t,...e},s)=>d.jsx(X0,{ref:s,className:K("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(DS,{className:"h-4 w-4"})}));e_.displayName=X0.displayName;const t_=b.forwardRef(({className:t,...e},s)=>d.jsx(J0,{ref:s,className:K("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(jd,{className:"h-4 w-4"})}));t_.displayName=J0.displayName;const s_=b.forwardRef(({className:t,children:e,position:s="popper",...n},i)=>d.jsx(TO,{children:d.jsxs(K0,{ref:i,className:K("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...n,children:[d.jsx(e_,{}),d.jsx(CO,{className:K("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(t_,{})]})}));s_.displayName=K0.displayName;const AO=b.forwardRef(({className:t,...e},s)=>d.jsx(G0,{ref:s,className:K("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));AO.displayName=G0.displayName;const n_=b.forwardRef(({className:t,children:e,...s},n)=>d.jsxs(Y0,{ref:n,className:K("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...s,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(kO,{children:d.jsx(ct,{className:"h-4 w-4"})})}),d.jsx(jO,{children:e})]}));n_.displayName=Y0.displayName;const NO=b.forwardRef(({className:t,...e},s)=>d.jsx(Q0,{ref:s,className:K("-mx-1 my-1 h-px bg-muted",t),...e}));NO.displayName=Q0.displayName;const RO=Nr("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),br=b.forwardRef(({className:t,variant:e,...s},n)=>d.jsx("div",{ref:n,role:"alert",className:K(RO({variant:e}),t),...s}));br.displayName="Alert";const IO=b.forwardRef(({className:t,...e},s)=>d.jsx("h5",{ref:s,className:K("mb-1 font-medium leading-none tracking-tight",t),...e}));IO.displayName="AlertTitle";const vr=b.forwardRef(({className:t,...e},s)=>d.jsx("div",{ref:s,className:K("text-sm [&_p]:leading-relaxed",t),...e}));vr.displayName="AlertDescription";const MO=()=>{const[t,e]=b.useState(""),[s,n]=b.useState(""),[i,r]=b.useState(null),o=[{value:"flight",label:"Flight",icon:qg,factor:.15,color:"text-red-500"},{value:"train",label:"Train",icon:LS,factor:.04,color:"text-green-500"},{value:"car",label:"Car",icon:$S,factor:.12,color:"text-orange-500"}],a=()=>{if(!t||!s)return;const u=o.find(m=>m.value===t);if(!u)return;const h=parseFloat(s)*u.factor,f=l(t);r({emissions:Math.round(h*100)/100,mode:u.label,suggestions:f})},l=(u,h)=>{const f=["Offset your carbon footprint through verified carbon offset programs","Choose eco-friendly accommodations with green certifications","Support local businesses and communities at your destination"];switch(u){case"flight":return["Consider train travel for shorter distances (under 1000km)","Choose direct flights when flying is necessary","Pack light to reduce fuel consumption",...f];case"car":return["Consider carpooling or ride-sharing to reduce per-person emissions","Choose electric or hybrid vehicles when available","Combine multiple destinations in one trip",...f];case"train":return["Great choice! Trains are one of the most eco-friendly travel options","Look for trains powered by renewable energy",...f.slice(1)];default:return f}},c=u=>u<50?{level:"Low",color:"text-green-500",bg:"bg-green-50"}:u<150?{level:"Medium",color:"text-orange-500",bg:"bg-orange-50"}:{level:"High",color:"text-red-500",bg:"bg-red-50"};return d.jsxs("div",{className:"min-h-screen pt-16",children:[d.jsx("section",{className:"py-20 px-6 bg-gradient-hero text-white",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx(B.h1,{className:"text-5xl md:text-6xl font-bold mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:"Carbon Footprint Calculator"}),d.jsx(B.p,{className:"text-xl md:text-2xl text-gray-200 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Calculate the environmental impact of your travels and discover ways to reduce your carbon footprint."})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsx("div",{className:"max-w-4xl mx-auto",children:d.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[d.jsx(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:d.jsxs(se,{className:"shadow-card-eco border-none bg-gradient-card",children:[d.jsx(_e,{children:d.jsxs(Te,{className:"flex items-center text-2xl",children:[d.jsx(Wo,{className:"mr-3 h-8 w-8 text-nature-accent"}),"Calculate Your Impact"]})}),d.jsxs(re,{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx(qe,{htmlFor:"transport-mode",className:"text-base font-medium",children:"Travel Mode"}),d.jsxs(PO,{value:t,onValueChange:e,children:[d.jsx(Z0,{className:"mt-2",children:d.jsx(EO,{placeholder:"Select your mode of transport"})}),d.jsx(s_,{children:o.map(u=>{const h=u.icon;return d.jsx(n_,{value:u.value,children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(h,{className:`mr-2 h-4 w-4 ${u.color}`}),u.label]})},u.value)})})]})]}),d.jsxs("div",{children:[d.jsx(qe,{htmlFor:"distance",className:"text-base font-medium",children:"Distance (km)"}),d.jsx(tt,{id:"distance",type:"number",placeholder:"Enter distance in kilometers",value:s,onChange:u=>n(u.target.value),className:"mt-2"})]}),d.jsx(J,{onClick:a,disabled:!t||!s,className:"w-full bg-nature-accent hover:bg-nature-accent/90 text-white",size:"lg",children:"Calculate Emissions"})]})]})}),d.jsx(B.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:i?d.jsxs(se,{className:"shadow-card-eco border-none bg-card",children:[d.jsx(_e,{children:d.jsxs(Te,{className:"flex items-center text-2xl",children:[d.jsx(Ut,{className:"mr-3 h-8 w-8 text-nature-success"}),"Your Carbon Footprint"]})}),d.jsxs(re,{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"text-4xl font-bold text-foreground mb-2",children:[i.emissions," kg CO₂"]}),d.jsxs("div",{className:"text-lg text-muted-foreground",children:["for ",s,"km by ",i.mode]}),d.jsxs("div",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium mt-3 ${c(i.emissions).bg} ${c(i.emissions).color}`,children:[c(i.emissions).level," Impact"]})]}),d.jsxs(br,{children:[d.jsx(FS,{className:"h-4 w-4"}),d.jsxs(vr,{children:[d.jsx("strong",{children:"Context:"})," The average person's annual carbon footprint is about 4,000 kg CO₂. Your trip represents ",(i.emissions/4e3*100).toFixed(1),"% of that."]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-lg mb-3 text-foreground",children:"Sustainable Alternatives:"}),d.jsx("ul",{className:"space-y-2",children:i.suggestions.map((u,h)=>d.jsxs("li",{className:"flex items-start",children:[d.jsx(Ut,{className:"h-4 w-4 text-nature-success mr-2 mt-0.5 flex-shrink-0"}),d.jsx("span",{className:"text-muted-foreground text-sm",children:u})]},h))})]})]})]}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsxs("div",{className:"text-center text-muted-foreground",children:[d.jsx(Wo,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),d.jsx("p",{className:"text-lg",children:"Select your travel mode and distance to calculate your carbon footprint."})]})})})]})})}),d.jsx("section",{className:"py-20 px-6 bg-muted/30",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Transport Comparison"}),d.jsx("p",{className:"text-xl text-muted-foreground",children:"CO₂ emissions per kilometer by transport mode"})]}),d.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:o.map((u,h)=>{const f=u.icon;return d.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:h*.2},children:d.jsx(se,{className:"text-center shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-card",children:d.jsxs(re,{className:"p-8",children:[d.jsx(f,{className:`h-16 w-16 mx-auto mb-4 ${u.color}`}),d.jsx("h3",{className:"text-2xl font-bold text-card-foreground mb-2",children:u.label}),d.jsxs("div",{className:"text-3xl font-bold text-foreground mb-2",children:[u.factor," kg"]}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"CO₂ per km"})]})})},u.value)})})]})})]})},OO=Nr("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ln({className:t,variant:e,...s}){return d.jsx("div",{className:K(OO({variant:e}),t),...s})}const DO=()=>{const t=[{name:"Costa Rica",location:"Central America",icon:ll,color:"text-green-500",rating:4.9,bestSeason:"Dec - Apr",whyEcoFriendly:"Leader in renewable energy and biodiversity conservation",practices:["100% renewable electricity by 2025","25% of land protected as national parks","Carbon neutral tourism certification program","Local community-based tourism initiatives"],highlights:["Cloud forests","Wildlife reserves","Eco-lodges","Carbon neutral goal"]},{name:"Norway",location:"Northern Europe",icon:To,color:"text-blue-500",rating:4.8,bestSeason:"May - Sep",whyEcoFriendly:"Sustainable transportation and renewable energy leadership",practices:["Electric vehicle infrastructure nationwide","Hydroelectric power for most energy needs","Sustainable seafood and agriculture practices","Green building standards for hotels"],highlights:["Fjords","Northern lights","Electric ferries","Clean energy"]},{name:"New Zealand",location:"Oceania",icon:zo,color:"text-teal-500",rating:4.7,bestSeason:"Oct - Apr",whyEcoFriendly:"Conservation-focused tourism and pristine nature protection",practices:["Predator-free islands conservation program","Sustainable tourism certification (Qualmark)","Marine protected areas expansion","Indigenous Māori sustainable practices"],highlights:["Marine sanctuaries","Conservation projects","Eco-tours","Native species protection"]},{name:"Bhutan",location:"South Asia",icon:To,color:"text-purple-500",rating:4.9,bestSeason:"Sep - Nov, Mar - May",whyEcoFriendly:"Carbon negative country with constitutional environmental protection",practices:["Carbon negative status (absorbs more CO2 than it produces)","60% forest coverage mandated by constitution","High-value, low-impact tourism policy","Gross National Happiness over GDP focus"],highlights:["Carbon negative","Forest preservation","Sustainable tourism fees","Cultural preservation"]},{name:"Iceland",location:"Northern Europe",icon:To,color:"text-cyan-500",rating:4.6,bestSeason:"Jun - Aug",whyEcoFriendly:"Geothermal energy and responsible tourism practices",practices:["Nearly 100% renewable energy from geothermal and hydro","Strict environmental regulations for tourism","Sustainable fishing and agriculture","Reforestation and land restoration projects"],highlights:["Geothermal energy","Glacier protection","Responsible whale watching","Land restoration"]},{name:"Kenya",location:"East Africa",icon:ll,color:"text-orange-500",rating:4.5,bestSeason:"Jun - Oct",whyEcoFriendly:"Community-based conservation and wildlife protection",practices:["Community-owned conservancies","Anti-poaching initiatives","Renewable energy projects in rural areas","Sustainable wildlife tourism practices"],highlights:["Wildlife conservancies","Community tourism","Solar power projects","Anti-poaching efforts"]},{name:"Slovenia",location:"Central Europe",icon:ll,color:"text-green-600",rating:4.4,bestSeason:"Apr - Oct",whyEcoFriendly:"First country to be declared a Green Destination of the world",practices:["Green Scheme of Slovenian Tourism certification","Extensive protected natural areas","Sustainable mobility initiatives","Local food and wine tourism focus"],highlights:["Green certification","Protected areas","Sustainable mobility","Local cuisine focus"]},{name:"Palau",location:"Micronesia",icon:zo,color:"text-blue-400",rating:4.8,bestSeason:"Nov - Apr",whyEcoFriendly:"Marine sanctuary and sustainable tourism pioneers",practices:["80% of waters designated as marine sanctuary","Palau Pledge for responsible tourism","Shark sanctuary protection","Visitor environmental education programs"],highlights:["Marine sanctuary","Shark protection","Visitor pledge","Coral conservation"]}];return d.jsxs("div",{className:"min-h-screen pt-16",children:[d.jsx("section",{className:"py-20 px-6 bg-gradient-hero text-white",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx(B.h1,{className:"text-5xl md:text-6xl font-bold mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:"Eco-Friendly Destinations"}),d.jsx(B.p,{className:"text-xl md:text-2xl text-gray-200 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Discover beautiful destinations committed to sustainable tourism practices and environmental conservation."})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Sustainable Travel Destinations"}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"These destinations lead the way in environmental protection, sustainable practices, and responsible tourism."})]}),d.jsx("div",{className:"grid lg:grid-cols-2 gap-8",children:t.map((e,s)=>{const n=e.icon;return d.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:s*.1},whileHover:{y:-5},className:"group",children:d.jsxs(se,{className:"h-full shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-gradient-card group-hover:bg-card",children:[d.jsxs(_e,{children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(n,{className:`h-8 w-8 mr-3 ${e.color}`}),d.jsxs("div",{children:[d.jsx(Te,{className:"text-2xl text-card-foreground",children:e.name}),d.jsxs("p",{className:"text-muted-foreground flex items-center mt-1",children:[d.jsx(Cd,{className:"h-4 w-4 mr-1"}),e.location]})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Kg,{className:"h-4 w-4 text-yellow-500 mr-1"}),d.jsx("span",{className:"text-sm font-semibold",children:e.rating})]})]}),d.jsx("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(Pd,{className:"h-4 w-4 mr-1"}),"Best: ",e.bestSeason]})})]}),d.jsxs(re,{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold text-card-foreground mb-2 flex items-center",children:[d.jsx(Ut,{className:"h-4 w-4 mr-2 text-nature-success"}),"Why It's Eco-Friendly"]}),d.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:e.whyEcoFriendly})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-card-foreground mb-3",children:"Sustainable Practices"}),d.jsx("ul",{className:"space-y-2",children:e.practices.map((i,r)=>d.jsxs("li",{className:"flex items-start text-sm text-muted-foreground",children:[d.jsx(Gg,{className:"h-3 w-3 mr-2 mt-1 text-nature-accent flex-shrink-0"}),i]},r))})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-card-foreground mb-3",children:"Key Highlights"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:e.highlights.map((i,r)=>d.jsx(ln,{variant:"secondary",className:"text-xs",children:i},r))})]})]})]})},e.name)})})]})}),d.jsx("section",{className:"py-20 px-6 bg-primary text-primary-foreground",children:d.jsx("div",{className:"max-w-4xl mx-auto text-center",children:d.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx(Ut,{className:"h-16 w-16 mx-auto mb-6 text-nature-accent"}),d.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Choose Sustainable Destinations"}),d.jsx("p",{className:"text-xl text-primary-foreground/90 leading-relaxed mb-8",children:"By choosing eco-friendly destinations, you support conservation efforts, local communities, and sustainable tourism practices that help preserve our planet's most beautiful places."}),d.jsx(B.a,{href:"/tips",className:"inline-flex items-center px-8 py-3 bg-nature-accent hover:bg-nature-accent/90 text-white rounded-md font-medium transition-colors text-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Learn Sustainable Travel Tips"})]})})})]})};var nh="Progress",ih=100,[LO]=Ms(nh),[$O,FO]=LO(nh),i_=b.forwardRef((t,e)=>{const{__scopeProgress:s,value:n=null,max:i,getValueLabel:r=BO,...o}=t;(i||i===0)&&!fp(i)&&console.error(VO(`${i}`,"Progress"));const a=fp(i)?i:ih;n!==null&&!mp(n,a)&&console.error(UO(`${n}`,"Progress"));const l=mp(n,a)?n:null,c=fa(l)?r(l,a):void 0;return d.jsx($O,{scope:s,value:l,max:a,children:d.jsx(ce.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":fa(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":a_(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});i_.displayName=nh;var r_="ProgressIndicator",o_=b.forwardRef((t,e)=>{const{__scopeProgress:s,...n}=t,i=FO(r_,s);return d.jsx(ce.div,{"data-state":a_(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});o_.displayName=r_;function BO(t,e){return`${Math.round(t/e*100)}%`}function a_(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function fa(t){return typeof t=="number"}function fp(t){return fa(t)&&!isNaN(t)&&t>0}function mp(t,e){return fa(t)&&!isNaN(t)&&t<=e&&t>=0}function VO(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ih}\`.`}function UO(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ih} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var l_=i_,WO=o_;const c_=b.forwardRef(({className:t,value:e,...s},n)=>d.jsx(l_,{ref:n,className:K("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...s,children:d.jsx(WO,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));c_.displayName=l_.displayName;const zO=()=>{const[t,e]=b.useState([]),[s,n]=b.useState(0),i=[{title:"Before You Travel",icon:qg,color:"text-blue-500",tips:["Choose direct flights when possible to reduce fuel consumption","Pack light to minimize aircraft weight and fuel usage","Research eco-friendly accommodations with green certifications","Plan longer stays to reduce frequency of flights","Consider train or bus travel for shorter distances"]},{title:"Accommodation",icon:BS,color:"text-green-500",tips:["Stay in eco-certified hotels or sustainable accommodations","Reuse towels and bed linens during your stay","Turn off lights, AC, and electronics when leaving your room","Choose accommodations that use renewable energy","Support locally-owned boutique hotels over large chains"]},{title:"Water & Waste",icon:VS,color:"text-cyan-500",tips:["Bring a reusable water bottle and refill it","Avoid single-use plastics and disposable items","Properly dispose of waste and recycle when possible","Take shorter showers to conserve water","Use reef-safe sunscreen to protect marine ecosystems"]},{title:"Local Engagement",icon:Yg,color:"text-red-500",tips:["Eat at local restaurants and try regional cuisine","Buy souvenirs from local artisans and markets","Learn basic phrases in the local language","Respect local customs, traditions, and dress codes","Support community-based tourism initiatives"]},{title:"Transportation",icon:US,color:"text-purple-500",tips:["Use public transportation, walk, or bike when exploring","Choose electric or hybrid rental vehicles","Participate in group tours to reduce per-person impact","Offset your carbon footprint through verified programs","Avoid unnecessary domestic flights within your destination"]}],r=i.flatMap((l,c)=>l.tips.map((u,h)=>({id:c*100+h,text:u,category:l.title,points:10}))),o=l=>{e(c=>{const u=c.includes(l)?c.filter(f=>f!==l):[...c,l],h=u.length*10;return n(h),u})},a=t.length/r.length*100;return d.jsxs("div",{className:"min-h-screen pt-16",children:[d.jsx("section",{className:"py-20 px-6 bg-gradient-hero text-white",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx(B.h1,{className:"text-5xl md:text-6xl font-bold mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:"Sustainable Travel Tips"}),d.jsx(B.p,{className:"text-xl md:text-2xl text-gray-200 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Practical tips to reduce your environmental impact and travel more sustainably."})]})}),d.jsx("section",{className:"py-12 px-6 bg-muted/30",children:d.jsx("div",{className:"max-w-4xl mx-auto",children:d.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:d.jsx(se,{className:"shadow-card-eco border-none bg-gradient-card",children:d.jsxs(re,{className:"p-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold text-card-foreground mb-2",children:"Your Green Journey"}),d.jsx("p",{className:"text-muted-foreground",children:"Check off tips as you implement them in your travels"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-nature-accent mb-1",children:s}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Green Points"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsxs("span",{className:"text-muted-foreground",children:["Progress: ",t.length," of ",r.length," tips completed"]}),d.jsxs("span",{className:"font-semibold text-foreground",children:[Math.round(a),"%"]})]}),d.jsx(c_,{value:a,className:"h-3"})]}),a>=100&&d.jsxs(B.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"mt-6 p-4 bg-nature-success/10 border border-nature-success/20 rounded-lg text-center",children:[d.jsx(Gg,{className:"h-8 w-8 text-nature-success mx-auto mb-2"}),d.jsx("h4",{className:"font-bold text-nature-success mb-1",children:"Eco-Warrior Achievement Unlocked!"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"You've completed all sustainable travel tips!"})]})]})})})})}),d.jsx("section",{className:"py-20 px-6",children:d.jsx("div",{className:"max-w-6xl mx-auto space-y-12",children:i.map((l,c)=>{const u=l.icon;return d.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:c*.1},children:d.jsxs(se,{className:"shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-card",children:[d.jsx(_e,{children:d.jsxs(Te,{className:"flex items-center text-2xl",children:[d.jsx(u,{className:`h-8 w-8 mr-3 ${l.color}`}),l.title]})}),d.jsx(re,{children:d.jsx("div",{className:"grid gap-4",children:l.tips.map((h,f)=>{const m=c*100+f,g=t.includes(m);return d.jsxs(B.div,{className:`flex items-start p-4 rounded-lg cursor-pointer transition-all duration-200 ${g?"bg-nature-success/10 border border-nature-success/20":"bg-muted/50 hover:bg-muted/70"}`,onClick:()=>o(m),whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx("div",{className:"flex-shrink-0 mr-3 mt-0.5",children:g?d.jsx(Xg,{className:"h-5 w-5 text-nature-success"}):d.jsx(Ug,{className:"h-5 w-5 text-muted-foreground"})}),d.jsxs("div",{className:"flex-grow",children:[d.jsx("p",{className:`text-sm leading-relaxed ${g?"text-nature-success font-medium":"text-muted-foreground"}`,children:h}),g&&d.jsx(B.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 text-xs text-nature-success font-medium",children:"+10 Green Points ✓"})]})]},f)})})})]})},l.title)})})}),d.jsx("section",{className:"py-20 px-6 bg-primary text-primary-foreground",children:d.jsx("div",{className:"max-w-4xl mx-auto text-center",children:d.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx(Ut,{className:"h-16 w-16 mx-auto mb-6 text-nature-accent"}),d.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Every Action Counts"}),d.jsx("p",{className:"text-xl text-primary-foreground/90 leading-relaxed mb-8",children:"Small changes in how we travel can have a big impact on our planet. Start implementing these tips on your next journey and inspire others to travel sustainably."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsx(J,{asChild:!0,size:"lg",className:"bg-nature-accent hover:bg-nature-accent/90 text-white",children:d.jsx("a",{href:"/calculator",children:"Calculate Your Impact"})}),d.jsx(J,{asChild:!0,variant:"outline",size:"lg",className:"border-primary-foreground/20 text-primary-foreground hover:bg-primary-foreground/10",children:d.jsx("a",{href:"/community",children:"Share Your Experience"})})]})]})})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ur(t){return t+.5|0}const ks=(t,e,s)=>Math.max(Math.min(t,s),e);function Ui(t){return ks(Ur(t*2.55),0,255)}function As(t){return ks(Ur(t*255),0,255)}function us(t){return ks(Ur(t/2.55)/100,0,1)}function pp(t){return ks(Ur(t*100),0,100)}const wt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},pd=[..."0123456789ABCDEF"],HO=t=>pd[t&15],qO=t=>pd[(t&240)>>4]+pd[t&15],lo=t=>(t&240)>>4===(t&15),KO=t=>lo(t.r)&&lo(t.g)&&lo(t.b)&&lo(t.a);function GO(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&wt[t[1]]*17,g:255&wt[t[2]]*17,b:255&wt[t[3]]*17,a:e===5?wt[t[4]]*17:255}:(e===7||e===9)&&(s={r:wt[t[1]]<<4|wt[t[2]],g:wt[t[3]]<<4|wt[t[4]],b:wt[t[5]]<<4|wt[t[6]],a:e===9?wt[t[7]]<<4|wt[t[8]]:255})),s}const YO=(t,e)=>t<255?e(t):"";function XO(t){var e=KO(t)?HO:qO;return t?"#"+e(t.r)+e(t.g)+e(t.b)+YO(t.a,e):void 0}const JO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function d_(t,e,s){const n=e*Math.min(s,1-s),i=(r,o=(r+t/30)%12)=>s-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function QO(t,e,s){const n=(i,r=(i+t/60)%6)=>s-s*e*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function ZO(t,e,s){const n=d_(t,1,.5);let i;for(e+s>1&&(i=1/(e+s),e*=i,s*=i),i=0;i<3;i++)n[i]*=1-e-s,n[i]+=e;return n}function e2(t,e,s,n,i){return t===i?(e-s)/n+(e<s?6:0):e===i?(s-t)/n+2:(t-e)/n+4}function rh(t){const s=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(s,n,i),o=Math.min(s,n,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=e2(s,n,i,u,r),l=l*60+.5),[l|0,c||0,a]}function oh(t,e,s,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,n)).map(As)}function ah(t,e,s){return oh(d_,t,e,s)}function t2(t,e,s){return oh(ZO,t,e,s)}function s2(t,e,s){return oh(QO,t,e,s)}function u_(t){return(t%360+360)%360}function n2(t){const e=JO.exec(t);let s=255,n;if(!e)return;e[5]!==n&&(s=e[6]?Ui(+e[5]):As(+e[5]));const i=u_(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=t2(i,r,o):e[1]==="hsv"?n=s2(i,r,o):n=ah(i,r,o),{r:n[0],g:n[1],b:n[2],a:s}}function i2(t,e){var s=rh(t);s[0]=u_(s[0]+e),s=ah(s),t.r=s[0],t.g=s[1],t.b=s[2]}function r2(t){if(!t)return;const e=rh(t),s=e[0],n=pp(e[1]),i=pp(e[2]);return t.a<255?`hsla(${s}, ${n}%, ${i}%, ${us(t.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const gp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},yp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function o2(){const t={},e=Object.keys(yp),s=Object.keys(gp);let n,i,r,o,a;for(n=0;n<e.length;n++){for(o=a=e[n],i=0;i<s.length;i++)r=s[i],a=a.replace(r,gp[r]);r=parseInt(yp[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let co;function a2(t){co||(co=o2(),co.transparent=[0,0,0,0]);const e=co[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const l2=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function c2(t){const e=l2.exec(t);let s=255,n,i,r;if(e){if(e[7]!==n){const o=+e[7];s=e[8]?Ui(o):ks(o*255,0,255)}return n=+e[1],i=+e[3],r=+e[5],n=255&(e[2]?Ui(n):ks(n,0,255)),i=255&(e[4]?Ui(i):ks(i,0,255)),r=255&(e[6]?Ui(r):ks(r,0,255)),{r:n,g:i,b:r,a:s}}}function d2(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${us(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Kl=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,On=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function u2(t,e,s){const n=On(us(t.r)),i=On(us(t.g)),r=On(us(t.b));return{r:As(Kl(n+s*(On(us(e.r))-n))),g:As(Kl(i+s*(On(us(e.g))-i))),b:As(Kl(r+s*(On(us(e.b))-r))),a:t.a+s*(e.a-t.a)}}function uo(t,e,s){if(t){let n=rh(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*s,e===0?360:1)),n=ah(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function h_(t,e){return t&&Object.assign(e||{},t)}function xp(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=As(t[3]))):(e=h_(t,{r:0,g:0,b:0,a:1}),e.a=As(e.a)),e}function h2(t){return t.charAt(0)==="r"?c2(t):n2(t)}class wr{constructor(e){if(e instanceof wr)return e;const s=typeof e;let n;s==="object"?n=xp(e):s==="string"&&(n=GO(e)||a2(e)||h2(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=h_(this._rgb);return e&&(e.a=us(e.a)),e}set rgb(e){this._rgb=xp(e)}rgbString(){return this._valid?d2(this._rgb):void 0}hexString(){return this._valid?XO(this._rgb):void 0}hslString(){return this._valid?r2(this._rgb):void 0}mix(e,s){if(e){const n=this.rgb,i=e.rgb;let r;const o=s===r?.5:s,a=2*o-1,l=n.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,n.r=255&c*n.r+r*i.r+.5,n.g=255&c*n.g+r*i.g+.5,n.b=255&c*n.b+r*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(e,s){return e&&(this._rgb=u2(this._rgb,e._rgb,s)),this}clone(){return new wr(this.rgb)}alpha(e){return this._rgb.a=As(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=Ur(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return uo(this._rgb,2,e),this}darken(e){return uo(this._rgb,2,-e),this}saturate(e){return uo(this._rgb,1,e),this}desaturate(e){return uo(this._rgb,1,-e),this}rotate(e){return i2(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function os(){}const f2=(()=>{let t=0;return()=>t++})();function ue(t){return t==null}function Ue(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function de(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Pt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function qt(t,e){return Pt(t)?t:e}function oe(t,e){return typeof t>"u"?e:t}const m2=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,f_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function we(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function fe(t,e,s,n){let i,r,o;if(Ue(t))for(r=t.length,i=0;i<r;i++)e.call(s,t[i],i);else if(de(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(s,t[o[i]],o[i])}function ma(t,e){let s,n,i,r;if(!t||!e||t.length!==e.length)return!1;for(s=0,n=t.length;s<n;++s)if(i=t[s],r=e[s],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function pa(t){if(Ue(t))return t.map(pa);if(de(t)){const e=Object.create(null),s=Object.keys(t),n=s.length;let i=0;for(;i<n;++i)e[s[i]]=pa(t[s[i]]);return e}return t}function m_(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function p2(t,e,s,n){if(!m_(t))return;const i=e[t],r=s[t];de(i)&&de(r)?_r(i,r,n):e[t]=pa(r)}function _r(t,e,s){const n=Ue(e)?e:[e],i=n.length;if(!de(t))return t;s=s||{};const r=s.merger||p2;let o;for(let a=0;a<i;++a){if(o=n[a],!de(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],t,o,s)}return t}function ir(t,e){return _r(t,e,{merger:g2})}function g2(t,e,s){if(!m_(t))return;const n=e[t],i=s[t];de(n)&&de(i)?ir(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=pa(i))}const bp={"":t=>t,x:t=>t.x,y:t=>t.y};function y2(t){const e=t.split("."),s=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function x2(t){const e=y2(t);return s=>{for(const n of e){if(n==="")break;s=s&&s[n]}return s}}function fn(t,e){return(bp[e]||(bp[e]=x2(e)))(t)}function lh(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Sr=t=>typeof t<"u",Is=t=>typeof t=="function",vp=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function b2(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const me=Math.PI,Ae=2*me,v2=Ae+me,ga=Number.POSITIVE_INFINITY,w2=me/180,We=me/2,zs=me/4,wp=me*2/3,p_=Math.log10,ts=Math.sign;function rr(t,e,s){return Math.abs(t-e)<s}function _p(t){const e=Math.round(t);t=rr(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(p_(t))),n=t/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function _2(t){const e=[],s=Math.sqrt(t);let n;for(n=1;n<s;n++)t%n===0&&(e.push(n),e.push(t/n));return s===(s|0)&&e.push(s),e.sort((i,r)=>i-r).pop(),e}function S2(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Tr(t){return!S2(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function T2(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function C2(t,e,s){let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n][s],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function hs(t){return t*(me/180)}function j2(t){return t*(180/me)}function Sp(t){if(!Pt(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function g_(t,e){const s=e.x-t.x,n=e.y-t.y,i=Math.sqrt(s*s+n*n);let r=Math.atan2(n,s);return r<-.5*me&&(r+=Ae),{angle:r,distance:i}}function gd(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function k2(t,e){return(t-e+v2)%Ae-me}function Bt(t){return(t%Ae+Ae)%Ae}function Cr(t,e,s,n){const i=Bt(t),r=Bt(e),o=Bt(s),a=Bt(r-i),l=Bt(o-i),c=Bt(i-r),u=Bt(i-o);return i===r||i===o||n&&r===o||a>l&&c<u}function Ze(t,e,s){return Math.max(e,Math.min(s,t))}function P2(t){return Ze(t,-32768,32767)}function Ps(t,e,s,n=1e-6){return t>=Math.min(e,s)-n&&t<=Math.max(e,s)+n}function ch(t,e,s){s=s||(o=>t[o]<e);let n=t.length-1,i=0,r;for(;n-i>1;)r=i+n>>1,s(r)?i=r:n=r;return{lo:i,hi:n}}const rn=(t,e,s,n)=>ch(t,s,n?i=>{const r=t[i][e];return r<s||r===s&&t[i+1][e]===s}:i=>t[i][e]<s),E2=(t,e,s)=>ch(t,s,n=>t[n][e]>=s);function A2(t,e,s){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>s;)i--;return n>0||i<t.length?t.slice(n,i):t}const y_=["push","pop","shift","splice","unshift"];function N2(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),y_.forEach(s=>{const n="_onData"+lh(s),i=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...r)}),o}})})}function Tp(t,e){const s=t._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(y_.forEach(r=>{delete t[r]}),delete t._chartjs)}function x_(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const b_=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function v_(t,e){let s=[],n=!1;return function(...i){s=i,n||(n=!0,b_.call(window,()=>{n=!1,t.apply(e,s)}))}}function R2(t,e){let s;return function(...n){return e?(clearTimeout(s),s=setTimeout(t,e,n)):t.apply(this,n),e}}const dh=t=>t==="start"?"left":t==="end"?"right":"center",Je=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,I2=(t,e,s,n)=>t===(n?"left":"right")?s:t==="center"?(e+s)/2:e;function M2(t,e,s){const n=e.length;let i=0,r=n;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:m,maxDefined:g}=o.getUserBounds();if(m){if(i=Math.min(rn(l,u,h).lo,s?n:rn(e,u,o.getPixelForValue(h)).lo),c){const p=l.slice(0,i+1).reverse().findIndex(y=>!ue(y[a.axis]));i-=Math.max(0,p)}i=Ze(i,0,n-1)}if(g){let p=Math.max(rn(l,o.axis,f,!0).hi+1,s?0:rn(e,u,o.getPixelForValue(f),!0).hi+1);if(c){const y=l.slice(p-1).findIndex(v=>!ue(v[a.axis]));p+=Math.max(0,y)}r=Ze(p,i,n)-i}else r=n-i}return{start:i,count:r}}function O2(t){const{xScale:e,yScale:s,_scaleRanges:n}=t,i={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!n)return t._scaleRanges=i,!0;const r=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,i),r}const ho=t=>t===0||t===1,Cp=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ae/s)),jp=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ae/s)+1,or={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*We)+1,easeOutSine:t=>Math.sin(t*We),easeInOutSine:t=>-.5*(Math.cos(me*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>ho(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ho(t)?t:Cp(t,.075,.3),easeOutElastic:t=>ho(t)?t:jp(t,.075,.3),easeInOutElastic(t){return ho(t)?t:t<.5?.5*Cp(t*2,.1125,.45):.5+.5*jp(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-or.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?or.easeInBounce(t*2)*.5:or.easeOutBounce(t*2-1)*.5+.5};function uh(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function kp(t){return uh(t)?t:new wr(t)}function Gl(t){return uh(t)?t:new wr(t).saturate(.5).darken(.1).hexString()}const D2=["x","y","borderWidth","radius","tension"],L2=["color","borderColor","backgroundColor"];function $2(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:L2},numbers:{type:"number",properties:D2}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function F2(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Pp=new Map;function B2(t,e){e=e||{};const s=t+JSON.stringify(e);let n=Pp.get(s);return n||(n=new Intl.NumberFormat(t,e),Pp.set(s,n)),n}function hh(t,e,s){return B2(e,s).format(t)}const V2={values(t){return Ue(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const n=this.chart.options.locale;let i,r=t;if(s.length>1){const c=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=U2(t,s)}const o=p_(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),hh(t,n,l)}};function U2(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var w_={formatters:V2};function W2(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:w_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const mn=Object.create(null),yd=Object.create(null);function ar(t,e){if(!e)return t;const s=e.split(".");for(let n=0,i=s.length;n<i;++n){const r=s[n];t=t[r]||(t[r]=Object.create(null))}return t}function Yl(t,e,s){return typeof e=="string"?_r(ar(t,e),s):_r(ar(t,""),e)}class z2{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Gl(i.backgroundColor),this.hoverBorderColor=(n,i)=>Gl(i.borderColor),this.hoverColor=(n,i)=>Gl(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return Yl(this,e,s)}get(e){return ar(this,e)}describe(e,s){return Yl(yd,e,s)}override(e,s){return Yl(mn,e,s)}route(e,s,n,i){const r=ar(this,e),o=ar(this,n),a="_"+s;Object.defineProperties(r,{[a]:{value:r[s],writable:!0},[s]:{enumerable:!0,get(){const l=this[a],c=o[i];return de(l)?Object.assign({},c,l):oe(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(s=>s(this))}}var Ie=new z2({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[$2,F2,W2]);function H2(t){return!t||ue(t.size)||ue(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ep(t,e,s,n,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,s.push(i)),r>n&&(n=r),n}function Hs(t,e,s){const n=t.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((e-i)*n)/n+i}function Ap(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function xd(t,e,s,n){__(t,e,s,n,null)}function __(t,e,s,n,i){let r,o,a,l,c,u,h,f;const m=e.pointStyle,g=e.rotation,p=e.radius;let y=(g||0)*w2;if(m&&typeof m=="object"&&(r=m.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(s,n),t.rotate(y),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),m){default:i?t.ellipse(s,n,i/2,p,0,0,Ae):t.arc(s,n,p,0,Ae),t.closePath();break;case"triangle":u=i?i/2:p,t.moveTo(s+Math.sin(y)*u,n-Math.cos(y)*p),y+=wp,t.lineTo(s+Math.sin(y)*u,n-Math.cos(y)*p),y+=wp,t.lineTo(s+Math.sin(y)*u,n-Math.cos(y)*p),t.closePath();break;case"rectRounded":c=p*.516,l=p-c,o=Math.cos(y+zs)*l,h=Math.cos(y+zs)*(i?i/2-c:l),a=Math.sin(y+zs)*l,f=Math.sin(y+zs)*(i?i/2-c:l),t.arc(s-h,n-a,c,y-me,y-We),t.arc(s+f,n-o,c,y-We,y),t.arc(s+h,n+a,c,y,y+We),t.arc(s-f,n+o,c,y+We,y+me),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*p,u=i?i/2:l,t.rect(s-u,n-l,2*u,2*l);break}y+=zs;case"rectRot":h=Math.cos(y)*(i?i/2:p),o=Math.cos(y)*p,a=Math.sin(y)*p,f=Math.sin(y)*(i?i/2:p),t.moveTo(s-h,n-a),t.lineTo(s+f,n-o),t.lineTo(s+h,n+a),t.lineTo(s-f,n+o),t.closePath();break;case"crossRot":y+=zs;case"cross":h=Math.cos(y)*(i?i/2:p),o=Math.cos(y)*p,a=Math.sin(y)*p,f=Math.sin(y)*(i?i/2:p),t.moveTo(s-h,n-a),t.lineTo(s+h,n+a),t.moveTo(s+f,n-o),t.lineTo(s-f,n+o);break;case"star":h=Math.cos(y)*(i?i/2:p),o=Math.cos(y)*p,a=Math.sin(y)*p,f=Math.sin(y)*(i?i/2:p),t.moveTo(s-h,n-a),t.lineTo(s+h,n+a),t.moveTo(s+f,n-o),t.lineTo(s-f,n+o),y+=zs,h=Math.cos(y)*(i?i/2:p),o=Math.cos(y)*p,a=Math.sin(y)*p,f=Math.sin(y)*(i?i/2:p),t.moveTo(s-h,n-a),t.lineTo(s+h,n+a),t.moveTo(s+f,n-o),t.lineTo(s-f,n+o);break;case"line":o=i?i/2:Math.cos(y)*p,a=Math.sin(y)*p,t.moveTo(s-o,n-a),t.lineTo(s+o,n+a);break;case"dash":t.moveTo(s,n),t.lineTo(s+Math.cos(y)*(i?i/2:p),n+Math.sin(y)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function jr(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function fh(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function mh(t){t.restore()}function q2(t,e,s,n,i){if(!e)return t.lineTo(s.x,s.y);if(i==="middle"){const r=(e.x+s.x)/2;t.lineTo(r,e.y),t.lineTo(r,s.y)}else i==="after"!=!!n?t.lineTo(e.x,s.y):t.lineTo(s.x,e.y);t.lineTo(s.x,s.y)}function K2(t,e,s,n){if(!e)return t.lineTo(s.x,s.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function G2(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ue(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Y2(t,e,s,n,i){if(i.strikethrough||i.underline){const r=t.measureText(n),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=s-r.actualBoundingBoxAscent,c=s+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function X2(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function kr(t,e,s,n,i,r={}){const o=Ue(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,G2(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&X2(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),ue(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,s,n,r.maxWidth)),t.fillText(c,s,n,r.maxWidth),Y2(t,s,n,c,r),n+=Number(i.lineHeight);t.restore()}function ya(t,e){const{x:s,y:n,w:i,h:r,radius:o}=e;t.arc(s+o.topLeft,n+o.topLeft,o.topLeft,1.5*me,me,!0),t.lineTo(s,n+r-o.bottomLeft),t.arc(s+o.bottomLeft,n+r-o.bottomLeft,o.bottomLeft,me,We,!0),t.lineTo(s+i-o.bottomRight,n+r),t.arc(s+i-o.bottomRight,n+r-o.bottomRight,o.bottomRight,We,0,!0),t.lineTo(s+i,n+o.topRight),t.arc(s+i-o.topRight,n+o.topRight,o.topRight,0,-We,!0),t.lineTo(s+o.topLeft,n)}const J2=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Q2=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Z2(t,e){const s=(""+t).match(J2);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const eD=t=>+t||0;function ph(t,e){const s={},n=de(e),i=n?Object.keys(e):e,r=de(t)?n?o=>oe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)s[o]=eD(r(o));return s}function S_(t){return ph(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Jn(t){return ph(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Et(t){const e=S_(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function et(t,e){t=t||{},e=e||Ie.font;let s=oe(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let n=oe(t.style,e.style);n&&!(""+n).match(Q2)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:oe(t.family,e.family),lineHeight:Z2(oe(t.lineHeight,e.lineHeight),s),size:s,style:n,weight:oe(t.weight,e.weight),string:""};return i.string=H2(i),i}function fo(t,e,s,n){let i,r,o;for(i=0,r=t.length;i<r;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function tD(t,e,s){const{min:n,max:i}=t,r=f_(e,(i-n)/2),o=(a,l)=>s&&a===0?0:a+l;return{min:o(n,-Math.abs(r)),max:o(i,r)}}function yn(t,e){return Object.assign(Object.create(t),e)}function gh(t,e=[""],s,n,i=()=>t[0]){const r=s||t;typeof n>"u"&&(n=k_("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:n,_getTarget:i,override:a=>gh([a,...t],e,r,n)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return C_(a,l,()=>cD(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Rp(a).includes(l)},ownKeys(a){return Rp(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function ai(t,e,s,n){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:T_(t,n),setContext:r=>ai(t,r,s,n),override:r=>ai(t.override(r),e,s,n)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return C_(r,o,()=>nD(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function T_(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:s,indexable:n,isScriptable:Is(s)?s:()=>s,isIndexable:Is(n)?n:()=>n}}const sD=(t,e)=>t?t+lh(e):e,yh=(t,e)=>de(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function C_(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=s();return t[e]=n,n}function nD(t,e,s){const{_proxy:n,_context:i,_subProxy:r,_descriptors:o}=t;let a=n[e];return Is(a)&&o.isScriptable(e)&&(a=iD(e,a,t,s)),Ue(a)&&a.length&&(a=rD(e,a,t,o.isIndexable)),yh(e,a)&&(a=ai(a,i,r&&r[e],o)),a}function iD(t,e,s,n){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=s;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||n);return a.delete(t),yh(t,l)&&(l=xh(i._scopes,i,t,l)),l}function rD(t,e,s,n){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=s;if(typeof r.index<"u"&&n(t))return e[r.index%e.length];if(de(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=xh(c,i,t,u);e.push(ai(h,r,o&&o[t],a))}}return e}function j_(t,e,s){return Is(t)?t(e,s):t}const oD=(t,e)=>t===!0?e:typeof t=="string"?fn(e,t):void 0;function aD(t,e,s,n,i){for(const r of e){const o=oD(s,r);if(o){t.add(o);const a=j_(o._fallback,s,i);if(typeof a<"u"&&a!==s&&a!==n)return a}else if(o===!1&&typeof n<"u"&&s!==n)return null}return!1}function xh(t,e,s,n){const i=e._rootScopes,r=j_(e._fallback,s,n),o=[...t,...i],a=new Set;a.add(n);let l=Np(a,o,s,r||s,n);return l===null||typeof r<"u"&&r!==s&&(l=Np(a,o,r,l,n),l===null)?!1:gh(Array.from(a),[""],i,r,()=>lD(e,s,n))}function Np(t,e,s,n,i){for(;s;)s=aD(t,e,s,n,i);return s}function lD(t,e,s){const n=t._getTarget();e in n||(n[e]={});const i=n[e];return Ue(i)&&de(s)?s:i||{}}function cD(t,e,s,n){let i;for(const r of e)if(i=k_(sD(r,t),s),typeof i<"u")return yh(t,i)?xh(s,n,t,i):i}function k_(t,e){for(const s of e){if(!s)continue;const n=s[t];if(typeof n<"u")return n}}function Rp(t){let e=t._keys;return e||(e=t._keys=dD(t._scopes)),e}function dD(t){const e=new Set;for(const s of t)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}const uD=Number.EPSILON||1e-14,li=(t,e)=>e<t.length&&!t[e].skip&&t[e],P_=t=>t==="x"?"y":"x";function hD(t,e,s,n){const i=t.skip?e:t,r=e,o=s.skip?e:s,a=gd(r,i),l=gd(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=n*c,f=n*u;return{previous:{x:r.x-h*(o.x-i.x),y:r.y-h*(o.y-i.y)},next:{x:r.x+f*(o.x-i.x),y:r.y+f*(o.y-i.y)}}}function fD(t,e,s){const n=t.length;let i,r,o,a,l,c=li(t,0);for(let u=0;u<n-1;++u)if(l=c,c=li(t,u+1),!(!l||!c)){if(rr(e[u],0,uD)){s[u]=s[u+1]=0;continue}i=s[u]/e[u],r=s[u+1]/e[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),s[u]=i*o*e[u],s[u+1]=r*o*e[u])}}function mD(t,e,s="x"){const n=P_(s),i=t.length;let r,o,a,l=li(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=li(t,c+1),!a)continue;const u=a[s],h=a[n];o&&(r=(u-o[s])/3,a[`cp1${s}`]=u-r,a[`cp1${n}`]=h-r*e[c]),l&&(r=(l[s]-u)/3,a[`cp2${s}`]=u+r,a[`cp2${n}`]=h+r*e[c])}}function pD(t,e="x"){const s=P_(e),n=t.length,i=Array(n).fill(0),r=Array(n);let o,a,l,c=li(t,0);for(o=0;o<n;++o)if(a=l,l=c,c=li(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[s]-l[s])/u:0}r[o]=a?c?ts(i[o-1])!==ts(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}fD(t,i,r),mD(t,r,e)}function mo(t,e,s){return Math.max(Math.min(t,s),e)}function gD(t,e){let s,n,i,r,o,a=jr(t[0],e);for(s=0,n=t.length;s<n;++s)o=r,r=a,a=s<n-1&&jr(t[s+1],e),r&&(i=t[s],o&&(i.cp1x=mo(i.cp1x,e.left,e.right),i.cp1y=mo(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=mo(i.cp2x,e.left,e.right),i.cp2y=mo(i.cp2y,e.top,e.bottom)))}function yD(t,e,s,n,i){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")pD(t,i);else{let c=n?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=hD(c,a,t[Math.min(r+1,o-(n?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&gD(t,s)}function bh(){return typeof window<"u"&&typeof document<"u"}function vh(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function xa(t,e,s){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[s])):n=t,n}const Xa=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function xD(t,e){return Xa(t).getPropertyValue(e)}const bD=["top","right","bottom","left"];function cn(t,e,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const r=bD[i];n[r]=parseFloat(t[e+"-"+r+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const vD=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function wD(t,e){const s=t.touches,n=s&&s.length?s[0]:t,{offsetX:i,offsetY:r}=n;let o=!1,a,l;if(vD(i,r,t.target))a=i,l=r;else{const c=e.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Xs(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:n}=e,i=Xa(s),r=i.boxSizing==="border-box",o=cn(i,"padding"),a=cn(i,"border","width"),{x:l,y:c,box:u}=wD(t,s),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:m,height:g}=e;return r&&(m-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/m*s.width/n),y:Math.round((c-f)/g*s.height/n)}}function _D(t,e,s){let n,i;if(e===void 0||s===void 0){const r=t&&vh(t);if(!r)e=t.clientWidth,s=t.clientHeight;else{const o=r.getBoundingClientRect(),a=Xa(r),l=cn(a,"border","width"),c=cn(a,"padding");e=o.width-c.width-l.width,s=o.height-c.height-l.height,n=xa(a.maxWidth,r,"clientWidth"),i=xa(a.maxHeight,r,"clientHeight")}}return{width:e,height:s,maxWidth:n||ga,maxHeight:i||ga}}const po=t=>Math.round(t*10)/10;function SD(t,e,s,n){const i=Xa(t),r=cn(i,"margin"),o=xa(i.maxWidth,t,"clientWidth")||ga,a=xa(i.maxHeight,t,"clientHeight")||ga,l=_D(t,e,s);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=cn(i,"border","width"),m=cn(i,"padding");c-=m.width+f.width,u-=m.height+f.height}return c=Math.max(0,c-r.width),u=Math.max(0,n?c/n:u-r.height),c=po(Math.min(c,o,l.maxWidth)),u=po(Math.min(u,a,l.maxHeight)),c&&!u&&(u=po(c/2)),(e!==void 0||s!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=po(Math.floor(u*n))),{width:c,height:u}}function Ip(t,e,s){const n=e||1,i=Math.floor(t.height*n),r=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=n,o.height=i,o.width=r,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const TD=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};bh()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function Mp(t,e){const s=xD(t,e),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Js(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function CD(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:n==="middle"?s<.5?t.y:e.y:n==="after"?s<1?t.y:e.y:s>0?e.y:t.y}}function jD(t,e,s,n){const i={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Js(t,i,s),a=Js(i,r,s),l=Js(r,e,s),c=Js(o,a,s),u=Js(a,l,s);return Js(c,u,s)}const kD=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},PD=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Qn(t,e,s){return t?kD(e,s):PD()}function E_(t,e){let s,n;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=n)}function A_(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function N_(t){return t==="angle"?{between:Cr,compare:k2,normalize:Bt}:{between:Ps,compare:(e,s)=>e-s,normalize:e=>e}}function Op({start:t,end:e,count:s,loop:n,style:i}){return{start:t%s,end:e%s,loop:n&&(e-t+1)%s===0,style:i}}function ED(t,e,s){const{property:n,start:i,end:r}=s,{between:o,normalize:a}=N_(n),l=e.length;let{start:c,end:u,loop:h}=t,f,m;if(h){for(c+=l,u+=l,f=0,m=l;f<m&&o(a(e[c%l][n]),i,r);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function AD(t,e,s){if(!s)return[t];const{property:n,start:i,end:r}=s,o=e.length,{compare:a,between:l,normalize:c}=N_(n),{start:u,end:h,loop:f,style:m}=ED(t,e,s),g=[];let p=!1,y=null,v,x,w;const S=()=>l(i,w,v)&&a(i,w)!==0,_=()=>a(r,v)===0||l(r,w,v),T=()=>p||S(),C=()=>!p||_();for(let j=u,E=u;j<=h;++j)x=e[j%o],!x.skip&&(v=c(x[n]),v!==w&&(p=l(v,i,r),y===null&&T()&&(y=a(v,i)===0?j:E),y!==null&&C()&&(g.push(Op({start:y,end:j,loop:f,count:o,style:m})),y=null),E=j,w=v));return y!==null&&g.push(Op({start:y,end:h,loop:f,count:o,style:m})),g}function ND(t,e){const s=[],n=t.segments;for(let i=0;i<n.length;i++){const r=AD(n[i],t.points,e);r.length&&s.push(...r)}return s}function RD(t,e,s,n){let i=0,r=e-1;if(s&&!n)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,s&&(r+=i);r>i&&t[r%e].skip;)r--;return r%=e,{start:i,end:r}}function ID(t,e,s,n){const i=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=s;++l){const c=t[l%i];c.skip||c.stop?a.skip||(n=!1,r.push({start:e%i,end:(l-1)%i,loop:n}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%i,end:o%i,loop:n}),r}function MD(t,e){const s=t.points,n=t.options.spanGaps,i=s.length;if(!i)return[];const r=!!t._loop,{start:o,end:a}=RD(s,i,r,n);if(n===!0)return Dp(t,[{start:o,end:a,loop:r}],s,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return Dp(t,ID(s,o,l,c),s,e)}function Dp(t,e,s,n){return!n||!n.setContext||!s?e:OD(t,e,s,n)}function OD(t,e,s,n){const i=t._chart.getContext(),r=Lp(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=s.length,c=[];let u=r,h=e[0].start,f=h;function m(g,p,y,v){const x=a?-1:1;if(g!==p){for(g+=l;s[g%l].skip;)g-=x;for(;s[p%l].skip;)p+=x;g%l!==p%l&&(c.push({start:g%l,end:p%l,loop:y,style:v}),u=v,h=p%l)}}for(const g of e){h=a?h:g.start;let p=s[h%l],y;for(f=h+1;f<=g.end;f++){const v=s[f%l];y=Lp(n.setContext(yn(i,{type:"segment",p0:p,p1:v,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),DD(y,u)&&m(h,f-1,g.loop,u),p=v,u=y}h<f-1&&m(h,f-1,g.loop,u)}return c}function Lp(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function DD(t,e){if(!e)return!1;const s=[],n=function(i,r){return uh(r)?(s.includes(r)||s.push(r),s.indexOf(r)):r};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function go(t,e,s){return t.options.clip?t[s]:e[s]}function LD(t,e){const{xScale:s,yScale:n}=t;return s&&n?{left:go(s,e,"left"),right:go(s,e,"right"),top:go(n,e,"top"),bottom:go(n,e,"bottom")}:e}function $D(t,e){const s=e._clip;if(s.disabled)return!1;const n=LD(e,t.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class FD{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,n,i){const r=s.listeners[i],o=s.duration;r.forEach(a=>a({chart:e,initial:s.initial,numSteps:o,currentStep:Math.min(n-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=b_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,e,"progress")),r.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),s+=r.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let n=s.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,n)),n}listen(e,s,n){this._getAnims(e).listeners[s].push(n)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ls=new FD;const $p="transparent",BD={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const n=kp(t||$p),i=n.valid&&kp(e||$p);return i&&i.valid?i.mix(n,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class VD{constructor(e,s,n,i){const r=s[n];i=fo([e.to,i,r,e.from]);const o=fo([e.from,r,i]);this._active=!0,this._fn=e.fn||BD[e.type||typeof o],this._easing=or[e.easing]||or.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,o=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=fo([e.to,s,i,e.from]),this._from=fo([e.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,n=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||s<n),!this._active){this._target[i]=a,this._notify(!0);return}if(s<0){this._target[i]=r;return}l=s/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,n)=>{e.push({res:s,rej:n})})}_notify(e){const s=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class R_{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!de(e))return;const s=Object.keys(Ie.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!de(r))return;const o={};for(const a of s)o[a]=r[a];(Ue(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!n.has(a))&&n.set(a,o)})})}_animateOptions(e,s){const n=s.options,i=WD(e,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&UD(e.options.$animations,n).then(()=>{e.options=n},()=>{}),r}_createAnimations(e,s){const n=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(s),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,s));continue}const u=s[c];let h=r[c];const f=n.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){e[c]=u;continue}r[c]=h=new VD(f,e,c,u),i.push(h)}return i}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const n=this._createAnimations(e,s);if(n.length)return ls.add(this._chart,n),!0}}function UD(t,e){const s=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const r=t[n[i]];r&&r.active()&&s.push(r.wait())}return Promise.all(s)}function WD(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function Fp(t,e){const s=t&&t.options||{},n=s.reverse,i=s.min===void 0?e:0,r=s.max===void 0?e:0;return{start:n?r:i,end:n?i:r}}function zD(t,e,s){if(s===!1)return!1;const n=Fp(t,s),i=Fp(e,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function HD(t){let e,s,n,i;return de(t)?(e=t.top,s=t.right,n=t.bottom,i=t.left):e=s=n=i=t,{top:e,right:s,bottom:n,left:i,disabled:t===!1}}function I_(t,e){const s=[],n=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=n.length;i<r;++i)s.push(n[i].index);return s}function Bp(t,e,s,n={}){const i=t.keys,r=n.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===s){if(u=!0,n.all)continue;break}c=t.values[l],Pt(c)&&(r||e===0||ts(e)===ts(c))&&(e+=c)}return!u&&!n.all?0:e}function qD(t,e){const{iScale:s,vScale:n}=e,i=s.axis==="x"?"x":"y",r=n.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:t[u]};return a}function Xl(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function KD(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function GD(t){const{min:e,max:s,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function YD(t,e,s){const n=t[e]||(t[e]={});return n[s]||(n[s]={})}function Vp(t,e,s,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const r=t[i.index];if(s&&r>0||!s&&r<0)return i.index}return null}function Up(t,e){const{chart:s,_cachedMeta:n}=t,i=s._stacks||(s._stacks={}),{iScale:r,vScale:o,index:a}=n,l=r.axis,c=o.axis,u=KD(r,o,n),h=e.length;let f;for(let m=0;m<h;++m){const g=e[m],{[l]:p,[c]:y}=g,v=g._stacks||(g._stacks={});f=v[c]=YD(i,u,p),f[a]=y,f._top=Vp(f,o,!0,n.type),f._bottom=Vp(f,o,!1,n.type);const x=f._visualValues||(f._visualValues={});x[a]=y}}function Jl(t,e){const s=t.scales;return Object.keys(s).filter(n=>s[n].axis===e).shift()}function XD(t,e){return yn(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function JD(t,e,s){return yn(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function Ci(t,e){const s=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[n]===void 0||r[n][s]===void 0)return;delete r[n][s],r[n]._visualValues!==void 0&&r[n]._visualValues[s]!==void 0&&delete r[n]._visualValues[s]}}}const Ql=t=>t==="reset"||t==="none",Wp=(t,e)=>e?t:Object.assign({},t),QD=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:I_(s,!0),values:null};class Ja{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Xl(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ci(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(h,f,m,g)=>h==="x"?f:h==="r"?g:m,r=s.xAxisID=oe(n.xAxisID,Jl(e,"x")),o=s.yAxisID=oe(n.yAxisID,Jl(e,"y")),a=s.rAxisID=oe(n.rAxisID,Jl(e,"r")),l=s.indexAxis,c=s.iAxisID=i(l,r,o,a),u=s.vAxisID=i(l,o,r,a);s.xScale=this.getScaleForId(r),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(a),s.iScale=this.getScaleForId(c),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Tp(this._data,this),e._stacked&&Ci(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),n=this._data;if(de(s)){const i=this._cachedMeta;this._data=qD(s,i)}else if(n!==s){if(n){Tp(n,this);const i=this._cachedMeta;Ci(i),i._parsed=[]}s&&Object.isExtensible(s)&&N2(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=s._stacked;s._stacked=Xl(s.vScale,s),s.stack!==n.stack&&(i=!0,Ci(s),s.stack=n.stack),this._resyncElements(e),(i||r!==s._stacked)&&(Up(this,s._parsed),s._stacked=Xl(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:o}=n,a=r.axis;let l=e===0&&s===i.length?!0:n._sorted,c=e>0&&n._parsed[e-1],u,h,f;if(this._parsing===!1)n._parsed=i,n._sorted=!0,f=i;else{Ue(i[e])?f=this.parseArrayData(n,i,e,s):de(i[e])?f=this.parseObjectData(n,i,e,s):f=this.parsePrimitiveData(n,i,e,s);const m=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<s;++u)n._parsed[u+e]=h=f[u],l&&(m()&&(l=!1),c=h);n._sorted=l}o&&Up(this,f)}parsePrimitiveData(e,s,n,i){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(i);let f,m,g;for(f=0,m=i;f<m;++f)g=f+n,h[f]={[a]:u||r.parse(c[g],g),[l]:o.parse(s[g],g)};return h}parseArrayData(e,s,n,i){const{xScale:r,yScale:o}=e,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+n,h=s[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,s,n,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,f,m;for(u=0,h=i;u<h;++u)f=u+n,m=s[f],c[u]={x:r.parse(fn(m,a),f),y:o.parse(fn(m,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,n){const i=this.chart,r=this._cachedMeta,o=s[e.axis],a={keys:I_(i,!0),values:s._stacks[e.axis]._visualValues};return Bp(a,o,r.index,{mode:n})}updateRangeFromParsed(e,s,n,i){const r=n[s.axis];let o=r===null?NaN:r;const a=i&&n._stacks[s.axis];i&&a&&(i.values=a,o=Bp(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,s){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&e===n.iScale,o=i.length,a=this._getOtherScale(e),l=QD(s,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=GD(a);let f,m;function g(){m=i[f];const p=m[a.axis];return!Pt(m[e.axis])||u>p||h<p}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(c,e,m,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(c,e,m,l);break}}return c}getAllParsedValues(e){const s=this._cachedMeta._parsed,n=[];let i,r,o;for(i=0,r=s.length;i<r;++i)o=s[i][e.axis],Pt(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,n=s.iScale,i=s.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=HD(oe(this.options.clip,zD(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],r=s.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,s){const n=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,s,n){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=JD(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=XD(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!s,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",n){const i=s==="active",r=this._cachedDataOpts,o=e+"-"+s,a=r[o],l=this.enableOptionSharing&&Sr(n);if(a)return Wp(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),m=Object.keys(Ie.elements[e]),g=()=>this.getContext(n,i,s),p=c.resolveNamedOptions(f,m,g,h);return p.$shared&&(p.$shared=l,r[o]=Object.freeze(Wp(p,l))),p}_resolveAnimations(e,s,n){const i=this.chart,r=this._cachedDataOpts,o=`animation-${s}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,s),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(e,n,s))}const c=new R_(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||Ql(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const n=this.resolveDataElementOptions(e,s),i=this._sharedOptions,r=this.getSharedOptions(n),o=this.includeOptions(s,r)||r!==i;return this.updateSharedOptions(r,s,n),{sharedOptions:r,includeOptions:o}}updateElement(e,s,n,i){Ql(i)?Object.assign(e,n):this._resolveAnimations(s,i).update(e,n)}updateSharedOptions(e,s,n){e&&!Ql(s)&&this._resolveAnimations(void 0,s).update(e,n)}_setStyle(e,s,n,i){e.active=i;const r=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,s,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,s,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,n=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=n.length,r=s.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,s,n=!0){const i=this._cachedMeta,r=i.data,o=e+s;let a;const l=c=>{for(c.length+=s,a=c.length-1;a>=o;a--)c[a]=c[a-s]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,s),n&&this.updateElements(r,e,s,"reset")}updateElements(e,s,n,i){}_removeElements(e,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,s);n._stacked&&Ci(n,i)}n.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,n,i]=e;this[s](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function ZD(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let n=[];for(let i=0,r=s.length;i<r;i++)n=n.concat(s[i].controller.getAllParsedValues(t));t._cache.$bar=x_(n.sort((i,r)=>i-r))}return t._cache.$bar}function eL(t){const e=t.iScale,s=ZD(e,t.type);let n=e._length,i,r,o,a;const l=()=>{o===32767||o===-32768||(Sr(a)&&(n=Math.min(n,Math.abs(o-a)||n)),a=o)};for(i=0,r=s.length;i<r;++i)o=e.getPixelForValue(s[i]),l();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),l();return n}function tL(t,e,s,n){const i=s.barThickness;let r,o;return ue(i)?(r=e.min*s.categoryPercentage,o=s.barPercentage):(r=i*n,o=1),{chunk:r/n,ratio:o,start:e.pixels[t]-r/2}}function sL(t,e,s,n){const i=e.pixels,r=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=s.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/n,ratio:s.barPercentage,start:c}}function nL(t,e,s,n){const i=s.parse(t[0],n),r=s.parse(t[1],n),o=Math.min(i,r),a=Math.max(i,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[s.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:r,min:o,max:a}}function M_(t,e,s,n){return Ue(t)?nL(t,e,s,n):e[s.axis]=s.parse(t,n),e}function zp(t,e,s,n){const i=t.iScale,r=t.vScale,o=i.getLabels(),a=i===r,l=[];let c,u,h,f;for(c=s,u=s+n;c<u;++c)f=e[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(M_(f,h,r,c));return l}function Zl(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function iL(t,e,s){return t!==0?ts(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function rL(t){let e,s,n,i,r;return t.horizontal?(e=t.base>t.x,s="left",n="right"):(e=t.base<t.y,s="bottom",n="top"),e?(i="end",r="start"):(i="start",r="end"),{start:s,end:n,reverse:e,top:i,bottom:r}}function oL(t,e,s,n){let i=e.borderSkipped;const r={};if(!i){t.borderSkipped=r;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=rL(t);i==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===n?i=c:(s._bottom||0)===n?i=u:(r[Hp(u,o,a,l)]=!0,i=c)),r[Hp(i,o,a,l)]=!0,t.borderSkipped=r}function Hp(t,e,s,n){return n?(t=aL(t,e,s),t=qp(t,s,e)):t=qp(t,e,s),t}function aL(t,e,s){return t===e?s:t===s?e:t}function qp(t,e,s){return t==="start"?e:t==="end"?s:t}function lL(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class cL extends Ja{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,s,n,i){return zp(e,s,n,i)}parseArrayData(e,s,n,i){return zp(e,s,n,i)}parseObjectData(e,s,n,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let f,m,g,p;for(f=n,m=n+i;f<m;++f)p=s[f],g={},g[r.axis]=r.parse(fn(p,c),f),h.push(M_(fn(p,u),g,o,f));return h}updateRangeFromParsed(e,s,n,i){super.updateRangeFromParsed(e,s,n,i);const r=n._custom;r&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:n,vScale:i}=s,r=this.getParsed(e),o=r._custom,a=Zl(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,n,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(s,i);for(let m=s;m<s+n;m++){const g=this.getParsed(m),p=r||ue(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),y=this._calculateBarIndexPixels(m,u),v=(g._stacks||{})[a.axis],x={horizontal:c,base:p.base,enableBorderRadius:!v||Zl(g._custom)||o===v._top||o===v._bottom,x:c?p.head:y.center,y:c?y.center:p.head,height:c?y.size:Math.abs(p.size),width:c?Math.abs(p.size):y.size};f&&(x.options=h||this.resolveDataElementOptions(m,e[m].active?"active":i));const w=x.options||e[m].options;oL(x,w,v,o),lL(x,w,u.ratio),this.updateElement(e[m],m,x,i)}}_getStacks(e,s){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=n.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(s),l=a&&a[n.axis],c=u=>{const h=u._parsed.find(m=>m[n.axis]===l),f=h&&h[u.vScale.axis];if(ue(f)||isNaN(f))return!0};for(const u of i)if(!(s!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===s).shift()}_getAxis(){const e={},s=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[oe(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,s)]=!0;return Object.keys(e)}_getStackIndex(e,s,n){const i=this._getStacks(e,n),r=s!==void 0?i.indexOf(s):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,s=this._cachedMeta,n=s.iScale,i=[];let r,o;for(r=0,o=s.data.length;r<o;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const a=e.barThickness;return{min:a||eL(s),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:n,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,u=Zl(c);let h=l[s.axis],f=0,m=n?this.applyStack(s,l,n):h,g,p;m!==h&&(f=m-h,m=h),u&&(h=c.barStart,m=c.barEnd-c.barStart,h!==0&&ts(h)!==ts(c.barEnd)&&(f=0),f+=h);const y=!ue(r)&&!u?r:f;let v=s.getPixelForValue(y);if(this.chart.getDataVisibility(e)?g=s.getPixelForValue(f+m):g=v,p=g-v,Math.abs(p)<o){p=iL(p,s,a)*o,h===a&&(v-=p/2);const x=s.getPixelForDecimal(0),w=s.getPixelForDecimal(1),S=Math.min(x,w),_=Math.max(x,w);v=Math.max(Math.min(v,_),S),g=v+p,n&&!u&&(l._stacks[s.axis]._visualValues[i]=s.getValueForPixel(g)-s.getValueForPixel(v))}if(v===s.getPixelForValue(a)){const x=ts(p)*s.getLineWidthForValue(a)/2;v+=x,p-=x}return{size:p,base:v,head:g,center:g+p/2}}_calculateBarIndexPixels(e,s){const n=s.scale,i=this.options,r=i.skipNull,o=oe(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(s.grouped){const u=r?this._getStackCount(e):s.stackCount,h=i.barThickness==="flex"?sL(e,s,i,u*c):tL(e,s,i,u*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(oe(f,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+m;a=h.start+h.chunk*g+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(o,s.min*s.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,s=e.vScale,n=e.data,i=n.length;let r=0;for(;r<i;++r)this.getParsed(r)[s.axis]!==null&&!n[r].hidden&&n[r].draw(this._ctx)}}function dL(t,e,s){let n=1,i=1,r=0,o=0;if(e<Ae){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),f=Math.sin(l),m=(w,S,_)=>Cr(w,a,l,!0)?1:Math.max(S,S*s,_,_*s),g=(w,S,_)=>Cr(w,a,l,!0)?-1:Math.min(S,S*s,_,_*s),p=m(0,c,h),y=m(We,u,f),v=g(me,c,h),x=g(me+We,u,f);n=(p-v)/2,i=(y-x)/2,r=-(p+v)/2,o=-(y+x)/2}return{ratioX:n,ratioY:i,offsetX:r,offsetY:o}}class uL extends Ja{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return s.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}};constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let r=l=>+n[l];if(de(n[e])){const{key:l="value"}=this._parsing;r=c=>+fn(n[c],l)}let o,a;for(o=e,a=e+s;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return hs(this.options.rotation-90)}_getCircumference(){return hs(this.options.circumference)}_getRotationExtents(){let e=Ae,s=-Ae;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),s=Math.max(s,r+o)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:n}=s,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-o)/2,0),l=Math.min(m2(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:g,offsetY:p}=dL(h,u,l),y=(n.width-o)/f,v=(n.height-o)/m,x=Math.max(Math.min(y,v)/2,0),w=f_(this.options.radius,x),S=Math.max(w*l,0),_=(w-S)/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=p*w,i.total=this.calculateTotal(),this.outerRadius=w-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,s){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/Ae)}updateElements(e,s,n,i){const r=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=r&&c.animateScale,m=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(s,i);let v=this._getRotation(),x;for(x=0;x<s;++x)v+=this._circumference(x,r);for(x=s;x<s+n;++x){const w=this._circumference(x,r),S=e[x],_={x:u+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+w,circumference:w,outerRadius:g,innerRadius:m};y&&(_.options=p||this.resolveDataElementOptions(x,S.active?"active":i)),v+=w,this.updateElement(S,x,_,i)}}calculateTotal(){const e=this._cachedMeta,s=e.data;let n=0,i;for(i=0;i<s.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!s[i].hidden&&(n+=Math.abs(r))}return n}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?Ae*(Math.abs(e)/s):0}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=hh(s._parsed[e],n.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let s=0;const n=this.chart;let i,r,o,a,l;if(!e){for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(s=Math.max(s,l.borderWidth||0,l.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let n=0,i=e.length;n<i;++n){const r=this.resolveDataElementOptions(n);s=Math.max(s,r.offset||0,r.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(e){return Math.max(oe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class hL extends Ja{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=s,o=this.chart._animationsDisabled;let{start:a,count:l}=M2(s,i,o);this._drawStart=a,this._drawCount=l,O2(s)&&(a=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,s,n,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(s,i),f=o.axis,m=a.axis,{spanGaps:g,segment:p}=this.options,y=Tr(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||i==="none",x=s+n,w=e.length;let S=s>0&&this.getParsed(s-1);for(let _=0;_<w;++_){const T=e[_],C=v?T:{};if(_<s||_>=x){C.skip=!0;continue}const j=this.getParsed(_),E=ue(j[m]),k=C[f]=o.getPixelForValue(j[f],_),A=C[m]=r||E?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,j,l):j[m],_);C.skip=isNaN(k)||isNaN(A)||E,C.stop=_>0&&Math.abs(j[f]-S[f])>y,p&&(C.parsed=j,C.raw=c.data[_]),h&&(C.options=u||this.resolveDataElementOptions(_,T.active?"active":i)),v||this.updateElement(T,_,C,i),S=j}}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,n=s.options&&s.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function qs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class wh{static override(e){Object.assign(wh.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return qs()}parse(){return qs()}format(){return qs()}add(){return qs()}diff(){return qs()}startOf(){return qs()}endOf(){return qs()}}var fL={_date:wh};function mL(t,e,s,n){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const c=a._reversePixels?E2:rn;if(n){if(i._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const f=c(r,e,s-h),m=c(r,e,s+h);return{lo:f.lo,hi:m.hi}}}}else{const u=c(r,e,s);if(l){const{vScale:h}=i._cachedMeta,{_parsed:f}=t,m=f.slice(0,u.lo+1).reverse().findIndex(p=>!ue(p[h.axis]));u.lo-=Math.max(0,m);const g=f.slice(u.hi).findIndex(p=>!ue(p[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:r.length-1}}function Qa(t,e,s,n,i){const r=t.getSortedVisibleDatasetMetas(),o=s[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:f}=mL(r[a],e,o,i);for(let m=h;m<=f;++m){const g=u[m];g.skip||n(g,c,m)}}}function pL(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(n,i){const r=e?Math.abs(n.x-i.x):0,o=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function ec(t,e,s,n,i){const r=[];return!i&&!t.isPointInArea(e)||Qa(t,s,e,function(a,l,c){!i&&!jr(a,t.chartArea,0)||a.inRange(e.x,e.y,n)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function gL(t,e,s,n){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:h}=g_(o,{x:e.x,y:e.y});Cr(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Qa(t,s,e,r),i}function yL(t,e,s,n,i,r){let o=[];const a=pL(s);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const m=u.inRange(e.x,e.y,i);if(n&&!m)return;const g=u.getCenterPoint(i);if(!(!!r||t.isPointInArea(g))&&!m)return;const y=a(e,g);y<l?(o=[{element:u,datasetIndex:h,index:f}],l=y):y===l&&o.push({element:u,datasetIndex:h,index:f})}return Qa(t,s,e,c),o}function tc(t,e,s,n,i,r){return!r&&!t.isPointInArea(e)?[]:s==="r"&&!n?gL(t,e,s,i):yL(t,e,s,n,i,r)}function Kp(t,e,s,n,i){const r=[],o=s==="x"?"inXRange":"inYRange";let a=!1;return Qa(t,s,e,(l,c,u)=>{l[o]&&l[o](e[s],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),n&&!a?[]:r}var xL={modes:{index(t,e,s,n){const i=Xs(e,t),r=s.axis||"x",o=s.includeInvisible||!1,a=s.intersect?ec(t,i,r,n,o):tc(t,i,r,!1,n,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,s,n){const i=Xs(e,t),r=s.axis||"xy",o=s.includeInvisible||!1;let a=s.intersect?ec(t,i,r,n,o):tc(t,i,r,!1,n,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,s,n){const i=Xs(e,t),r=s.axis||"xy",o=s.includeInvisible||!1;return ec(t,i,r,n,o)},nearest(t,e,s,n){const i=Xs(e,t),r=s.axis||"xy",o=s.includeInvisible||!1;return tc(t,i,r,s.intersect,n,o)},x(t,e,s,n){const i=Xs(e,t);return Kp(t,i,"x",s.intersect,n)},y(t,e,s,n){const i=Xs(e,t);return Kp(t,i,"y",s.intersect,n)}}};const O_=["left","top","right","bottom"];function ji(t,e){return t.filter(s=>s.pos===e)}function Gp(t,e){return t.filter(s=>O_.indexOf(s.pos)===-1&&s.box.axis===e)}function ki(t,e){return t.sort((s,n)=>{const i=e?n:s,r=e?s:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function bL(t){const e=[];let s,n,i,r,o,a;for(s=0,n=(t||[]).length;s<n;++s)i=t[s],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:s,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function vL(t){const e={};for(const s of t){const{stack:n,pos:i,stackWeight:r}=s;if(!n||!O_.includes(i))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function wL(t,e){const s=vL(t),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=s[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*n:l&&e.availableWidth,a.height=i):(a.width=n,a.height=u?u*i:l&&e.availableHeight)}return s}function _L(t){const e=bL(t),s=ki(e.filter(c=>c.box.fullSize),!0),n=ki(ji(e,"left"),!0),i=ki(ji(e,"right")),r=ki(ji(e,"top"),!0),o=ki(ji(e,"bottom")),a=Gp(e,"x"),l=Gp(e,"y");return{fullSize:s,leftAndTop:n.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:ji(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function Yp(t,e,s,n){return Math.max(t[s],e[s])+Math.max(t[n],e[n])}function D_(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function SL(t,e,s,n){const{pos:i,box:r}=s,o=t.maxPadding;if(!de(i)){s.size&&(t[i]-=s.size);const h=n[s.stack]||{size:0,count:1};h.size=Math.max(h.size,s.horizontal?r.height:r.width),s.size=h.size/h.count,t[i]+=s.size}r.getPadding&&D_(o,r.getPadding());const a=Math.max(0,e.outerWidth-Yp(o,t,"left","right")),l=Math.max(0,e.outerHeight-Yp(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,s.horizontal?{same:c,other:u}:{same:u,other:c}}function TL(t){const e=t.maxPadding;function s(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function CL(t,e){const s=e.maxPadding;function n(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],s[o])}),r}return n(t?["left","right"]:["top","bottom"])}function Wi(t,e,s,n){const i=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,CL(a.horizontal,e));const{same:h,other:f}=SL(e,s,a,n);c|=h&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&Wi(i,e,s,n)||u}function yo(t,e,s,n,i){t.top=s,t.left=e,t.right=e+n,t.bottom=s+i,t.width=n,t.height=i}function Xp(t,e,s,n){const i=s.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=n[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,f=c.size||l.height;Sr(c.start)&&(o=c.start),l.fullSize?yo(l,i.left,o,s.outerWidth-i.right-i.left,f):yo(l,e.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,f=c.size||l.width;Sr(c.start)&&(r=c.start),l.fullSize?yo(l,r,i.top,f,s.outerHeight-i.bottom-i.top):yo(l,r,e.top+c.placed,f,h),c.start=r,c.placed+=h,r=l.right}}e.x=r,e.y=o}var jt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,n){if(!t)return;const i=Et(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(s-i.height,0),a=_L(t.boxes),l=a.vertical,c=a.horizontal;fe(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=l.reduce((p,y)=>y.box.options&&y.box.options.display===!1?p:p+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:s,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);D_(f,Et(n));const m=Object.assign({maxPadding:f,w:r,h:o,x:i.left,y:i.top},i),g=wL(l.concat(c),h);Wi(a.fullSize,m,h,g),Wi(l,m,h,g),Wi(c,m,h,g)&&Wi(l,m,h,g),TL(m),Xp(a.leftAndTop,m,h,g),m.x+=m.w,m.y+=m.h,Xp(a.rightAndBottom,m,h,g),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},fe(a.chartArea,p=>{const y=p.box;Object.assign(y,t.chartArea),y.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class L_{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,n){}removeEventListener(e,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,n,i){return s=Math.max(0,s||e.width),n=n||e.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(e){return!0}updateConfig(e){}}class jL extends L_{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Bo="$chartjs",kL={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Jp=t=>t===null||t==="";function PL(t,e){const s=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t[Bo]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Jp(i)){const r=Mp(t,"width");r!==void 0&&(t.width=r)}if(Jp(n))if(t.style.height==="")t.height=t.width/(e||2);else{const r=Mp(t,"height");r!==void 0&&(t.height=r)}return t}const $_=TD?{passive:!0}:!1;function EL(t,e,s){t&&t.addEventListener(e,s,$_)}function AL(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,$_)}function NL(t,e){const s=kL[t.type]||t.type,{x:n,y:i}=Xs(t,e);return{type:s,chart:e,native:t,x:n!==void 0?n:null,y:i!==void 0?i:null}}function ba(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function RL(t,e,s){const n=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||ba(a.addedNodes,n),o=o&&!ba(a.removedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function IL(t,e,s){const n=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||ba(a.removedNodes,n),o=o&&!ba(a.addedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const Pr=new Map;let Qp=0;function F_(){const t=window.devicePixelRatio;t!==Qp&&(Qp=t,Pr.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function ML(t,e){Pr.size||window.addEventListener("resize",F_),Pr.set(t,e)}function OL(t){Pr.delete(t),Pr.size||window.removeEventListener("resize",F_)}function DL(t,e,s){const n=t.canvas,i=n&&vh(n);if(!i)return;const r=v_((a,l)=>{const c=i.clientWidth;s(a,l),c<i.clientWidth&&s()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),ML(t,r),o}function sc(t,e,s){s&&s.disconnect(),e==="resize"&&OL(t)}function LL(t,e,s){const n=t.canvas,i=v_(r=>{t.ctx!==null&&s(NL(r,t))},t);return EL(n,e,i),i}class $L extends L_{acquireContext(e,s){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(PL(e,s),n):null}releaseContext(e){const s=e.canvas;if(!s[Bo])return!1;const n=s[Bo].initial;["height","width"].forEach(r=>{const o=n[r];ue(o)?s.removeAttribute(r):s.setAttribute(r,o)});const i=n.style||{};return Object.keys(i).forEach(r=>{s.style[r]=i[r]}),s.width=s.width,delete s[Bo],!0}addEventListener(e,s,n){this.removeEventListener(e,s);const i=e.$proxies||(e.$proxies={}),o={attach:RL,detach:IL,resize:DL}[s]||LL;i[s]=o(e,s,n)}removeEventListener(e,s){const n=e.$proxies||(e.$proxies={}),i=n[s];if(!i)return;({attach:sc,detach:sc,resize:sc}[s]||AL)(e,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,n,i){return SD(e,s,n,i)}isAttached(e){const s=e&&vh(e);return!!(s&&s.isConnected)}}function FL(t){return!bh()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?jL:$L}let ps=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}hasValue(){return Tr(this.x)&&Tr(this.y)}getProps(e,s){const n=this.$animations;if(!s||!n)return this;const i={};return e.forEach(r=>{i[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),i}};function BL(t,e){const s=t.options.ticks,n=VL(t),i=Math.min(s.maxTicksLimit||n,n),r=s.major.enabled?WL(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return zL(e,c,r,o/i),c;const u=UL(r,e,i);if(o>0){let h,f;const m=o>1?Math.round((l-a)/(o-1)):null;for(xo(e,c,u,ue(m)?0:a-m,a),h=0,f=o-1;h<f;h++)xo(e,c,u,r[h],r[h+1]);return xo(e,c,u,l,ue(m)?e.length:l+m),c}return xo(e,c,u),c}function VL(t){const e=t.options.offset,s=t._tickSize(),n=t._length/s+(e?0:1),i=t._maxLength/s;return Math.floor(Math.min(n,i))}function UL(t,e,s){const n=HL(t),i=e.length/s;if(!n)return Math.max(i,1);const r=_2(n);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function WL(t){const e=[];let s,n;for(s=0,n=t.length;s<n;s++)t[s].major&&e.push(s);return e}function zL(t,e,s,n){let i=0,r=s[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=s[i*n])}function xo(t,e,s,n,i){const r=oe(n,0),o=Math.min(oe(i,t.length),t.length);let a=0,l,c,u;for(s=Math.ceil(s),i&&(l=i-n,s=l/Math.floor(l/s)),u=r;u<0;)a++,u=Math.round(r+a*s);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*s))}function HL(t){const e=t.length;let s,n;if(e<2)return!1;for(n=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==n)return!1;return n}const qL=t=>t==="left"?"right":t==="right"?"left":t,Zp=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,eg=(t,e)=>Math.min(e||t,t);function tg(t,e){const s=[],n=t.length/e,i=t.length;let r=0;for(;r<i;r+=n)s.push(t[Math.floor(r)]);return s}function KL(t,e,s){const n=t.ticks.length,i=Math.min(e,n-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(s&&(n===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<r-a||l>o+a)))return l}function GL(t,e){fe(t,s=>{const n=s.gc,i=n.length/2;let r;if(i>e){for(r=0;r<i;++r)delete s.data[n[r]];n.splice(0,i)}})}function Pi(t){return t.drawTicks?t.tickLength:0}function sg(t,e){if(!t.display)return 0;const s=et(t.font,e),n=Et(t.padding);return(Ue(t.text)?t.text.length:1)*s.lineHeight+n.height}function YL(t,e){return yn(t,{scale:e,type:"scale"})}function XL(t,e,s){return yn(t,{tick:s,index:e,type:"tick"})}function JL(t,e,s){let n=dh(t);return(s&&e!=="right"||!s&&e==="right")&&(n=qL(n)),n}function QL(t,e,s,n){const{top:i,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,f,m,g;const p=o-i,y=a-r;if(t.isHorizontal()){if(m=Je(n,r,a),de(s)){const v=Object.keys(s)[0],x=s[v];g=u[v].getPixelForValue(x)+p-e}else s==="center"?g=(c.bottom+c.top)/2+p-e:g=Zp(t,s,e);f=a-r}else{if(de(s)){const v=Object.keys(s)[0],x=s[v];m=u[v].getPixelForValue(x)-y+e}else s==="center"?m=(c.left+c.right)/2-y+e:m=Zp(t,s,e);g=Je(n,o,i),h=s==="left"?-We:We}return{titleX:m,titleY:g,maxWidth:f,rotation:h}}class gi extends ps{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return e=qt(e,Number.POSITIVE_INFINITY),s=qt(s,Number.NEGATIVE_INFINITY),n=qt(n,Number.POSITIVE_INFINITY),i=qt(i,Number.NEGATIVE_INFINITY),{min:qt(e,n),max:qt(s,i),minDefined:Pt(e),maxDefined:Pt(s)}}getMinMax(e){let{min:s,max:n,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:s,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(s=Math.min(s,o.min)),r||(n=Math.max(n,o.max));return s=r&&s>n?n:s,n=i&&s>n?s:n,{min:qt(s,qt(n,s)),max:qt(n,qt(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){we(this.options.beforeUpdate,[this])}update(e,s,n){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tD(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?tg(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=BL(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,e=!e),this._startPixel=s,this._endPixel=n,this._reversePixels=e,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){we(this.options.afterUpdate,[this])}beforeSetDimensions(){we(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){we(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),we(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){we(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n],r.label=we(s.callback,[r.value,n,e],this)}afterTickToLabelConversion(){we(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){we(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,n=eg(this.ticks.length,e.ticks.maxTicksLimit),i=s.minRotation||0,r=s.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!s.display||i>=r||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,m=Ze(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/n:m/(n-1),h+6>a&&(a=m/(n-(e.offset?.5:1)),l=this.maxHeight-Pi(e.grid)-s.padding-sg(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=j2(Math.min(Math.asin(Ze((u.highest.height+6)/a,-1,1)),Math.asin(Ze(l/c,-1,1))-Math.asin(Ze(f/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){we(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){we(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=sg(i,s.options.font);if(a?(e.width=this.maxWidth,e.height=Pi(r)+l):(e.height=this.maxHeight,e.width=Pi(r)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),m=n.padding*2,g=hs(this.labelRotation),p=Math.cos(g),y=Math.sin(g);if(a){const v=n.mirror?0:y*h.width+p*f.height;e.height=Math.min(this.maxHeight,e.height+v+m)}else{const v=n.mirror?0:p*h.width+y*f.height;e.width=Math.min(this.maxWidth,e.width+v+m)}this._calculatePadding(c,u,y,p)}}this._handleMargins(),a?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,n,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;l?c?(f=i*e.width,m=n*s.height):(f=n*e.height,m=i*s.width):r==="start"?m=s.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,m=s.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-h+o)*this.width/(this.width-h),0)}else{let u=s.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=s.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){we(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,n;for(s=0,n=e.length;s<n;s++)ue(e[s].label)&&(e.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=tg(n,s)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,n){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(s/eg(s,n));let c=0,u=0,h,f,m,g,p,y,v,x,w,S,_;for(h=0;h<s;h+=l){if(g=e[h].label,p=this._resolveTickFontOptions(h),i.font=y=p.string,v=r[y]=r[y]||{data:{},gc:[]},x=p.lineHeight,w=S=0,!ue(g)&&!Ue(g))w=Ep(i,v.data,v.gc,w,g),S=x;else if(Ue(g))for(f=0,m=g.length;f<m;++f)_=g[f],!ue(_)&&!Ue(_)&&(w=Ep(i,v.data,v.gc,w,_),S+=x);o.push(w),a.push(S),c=Math.max(w,c),u=Math.max(S,u)}GL(r,s);const T=o.indexOf(c),C=a.indexOf(u),j=E=>({width:o[E]||0,height:a[E]||0});return{first:j(0),last:j(s-1),widest:j(T),highest:j(C),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return P2(this._alignToPixels?Hs(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const n=s[e];return n.$context||(n.$context=XL(this.getContext(),e,n))}return this.$context||(this.$context=YL(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=hs(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*n>a*i?a/n:l/i:l*i<a*n?l/n:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,n=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=Pi(r),m=[],g=a.setContext(this.getContext()),p=g.display?g.width:0,y=p/2,v=function(D){return Hs(n,D,p)};let x,w,S,_,T,C,j,E,k,A,N,G;if(o==="top")x=v(this.bottom),C=this.bottom-f,E=x-y,A=v(e.top)+y,G=e.bottom;else if(o==="bottom")x=v(this.top),A=e.top,G=v(e.bottom)-y,C=x+y,E=this.top+f;else if(o==="left")x=v(this.right),T=this.right-f,j=x-y,k=v(e.left)+y,N=e.right;else if(o==="right")x=v(this.left),k=e.left,N=v(e.right)-y,T=x+y,j=this.left+f;else if(s==="x"){if(o==="center")x=v((e.top+e.bottom)/2+.5);else if(de(o)){const D=Object.keys(o)[0],$=o[D];x=v(this.chart.scales[D].getPixelForValue($))}A=e.top,G=e.bottom,C=x+y,E=C+f}else if(s==="y"){if(o==="center")x=v((e.left+e.right)/2);else if(de(o)){const D=Object.keys(o)[0],$=o[D];x=v(this.chart.scales[D].getPixelForValue($))}T=x-y,j=T-f,k=e.left,N=e.right}const F=oe(i.ticks.maxTicksLimit,h),M=Math.max(1,Math.ceil(h/F));for(w=0;w<h;w+=M){const D=this.getContext(w),$=r.setContext(D),L=a.setContext(D),R=$.lineWidth,ne=$.color,he=L.dash||[],Q=L.dashOffset,ie=$.tickWidth,ee=$.tickColor,be=$.tickBorderDash||[],Me=$.tickBorderDashOffset;S=KL(this,w,l),S!==void 0&&(_=Hs(n,S,R),c?T=j=k=N=_:C=E=A=G=_,m.push({tx1:T,ty1:C,tx2:j,ty2:E,x1:k,y1:A,x2:N,y2:G,width:R,color:ne,borderDash:he,borderDashOffset:Q,tickWidth:ie,tickColor:ee,tickBorderDash:be,tickBorderDashOffset:Me}))}return this._ticksLength=h,this._borderValue=x,m}_computeLabelItems(e){const s=this.axis,n=this.options,{position:i,ticks:r}=n,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,f=Pi(n.grid),m=f+u,g=h?-u:m,p=-hs(this.labelRotation),y=[];let v,x,w,S,_,T,C,j,E,k,A,N,G="middle";if(i==="top")T=this.bottom-g,C=this._getXAxisLabelAlignment();else if(i==="bottom")T=this.top+g,C=this._getXAxisLabelAlignment();else if(i==="left"){const M=this._getYAxisLabelAlignment(f);C=M.textAlign,_=M.x}else if(i==="right"){const M=this._getYAxisLabelAlignment(f);C=M.textAlign,_=M.x}else if(s==="x"){if(i==="center")T=(e.top+e.bottom)/2+m;else if(de(i)){const M=Object.keys(i)[0],D=i[M];T=this.chart.scales[M].getPixelForValue(D)+m}C=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")_=(e.left+e.right)/2-m;else if(de(i)){const M=Object.keys(i)[0],D=i[M];_=this.chart.scales[M].getPixelForValue(D)}C=this._getYAxisLabelAlignment(f).textAlign}s==="y"&&(l==="start"?G="top":l==="end"&&(G="bottom"));const F=this._getLabelSizes();for(v=0,x=a.length;v<x;++v){w=a[v],S=w.label;const M=r.setContext(this.getContext(v));j=this.getPixelForTick(v)+r.labelOffset,E=this._resolveTickFontOptions(v),k=E.lineHeight,A=Ue(S)?S.length:1;const D=A/2,$=M.color,L=M.textStrokeColor,R=M.textStrokeWidth;let ne=C;o?(_=j,C==="inner"&&(v===x-1?ne=this.options.reverse?"left":"right":v===0?ne=this.options.reverse?"right":"left":ne="center"),i==="top"?c==="near"||p!==0?N=-A*k+k/2:c==="center"?N=-F.highest.height/2-D*k+k:N=-F.highest.height+k/2:c==="near"||p!==0?N=k/2:c==="center"?N=F.highest.height/2-D*k:N=F.highest.height-A*k,h&&(N*=-1),p!==0&&!M.showLabelBackdrop&&(_+=k/2*Math.sin(p))):(T=j,N=(1-A)*k/2);let he;if(M.showLabelBackdrop){const Q=Et(M.backdropPadding),ie=F.heights[v],ee=F.widths[v];let be=N-Q.top,Me=0-Q.left;switch(G){case"middle":be-=ie/2;break;case"bottom":be-=ie;break}switch(C){case"center":Me-=ee/2;break;case"right":Me-=ee;break;case"inner":v===x-1?Me-=ee:v>0&&(Me-=ee/2);break}he={left:Me,top:be,width:ee+Q.width,height:ie+Q.height,color:M.backdropColor}}y.push({label:S,font:E,textOffset:N,options:{rotation:p,color:$,strokeColor:L,strokeWidth:R,textAlign:ne,textBaseline:G,translation:[_,T],backdrop:he}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-hs(this.labelRotation))return e==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return s==="left"?i?(u=this.right+r,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):s==="right"?i?(u=this.left+r,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:n,top:i,width:r,height:o}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(n,i,r,o),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(s.display)for(r=0,o=i.length;r<o;++r){const l=i[r];s.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),s.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),o=n.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=Hs(e,this.left,o)-o/2,u=Hs(e,this.right,a)+a/2,h=f=l):(h=Hs(e,this.top,o)-o/2,f=Hs(e,this.bottom,a)+a/2,c=u=l),s.save(),s.lineWidth=r.width,s.strokeStyle=r.color,s.beginPath(),s.moveTo(c,h),s.lineTo(u,f),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&fh(n,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;kr(n,c,0,u,l,a)}i&&mh(n)}drawTitle(){const{ctx:e,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const r=et(n.font),o=Et(n.padding),a=n.align;let l=r.lineHeight/2;s==="bottom"||s==="center"||de(s)?(l+=o.bottom,Ue(n.text)&&(l+=r.lineHeight*(n.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=QL(this,l,s,a);kr(e,n.text,0,0,r,{color:n.color,maxWidth:h,rotation:f,textAlign:JL(a,s,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,n=oe(e.grid&&e.grid.z,-1),i=oe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==gi.prototype.draw?[{z:s,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,o;for(r=0,o=s.length;r<o;++r){const a=s[r];a[n]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return et(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class bo{constructor(e,s,n){this.type=e,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let n;t$(s)&&(n=this.register(s));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,ZL(e,o,n),this.override&&Ie.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const s=this.items,n=e.id,i=this.scope;n in s&&delete s[n],i&&n in Ie[i]&&(delete Ie[i][n],this.override&&delete mn[n])}}function ZL(t,e,s){const n=_r(Object.create(null),[s?Ie.get(s):{},Ie.get(e),t.defaults]);Ie.set(e,n),t.defaultRoutes&&e$(e,t.defaultRoutes),t.descriptors&&Ie.describe(e,t.descriptors)}function e$(t,e){Object.keys(e).forEach(s=>{const n=s.split("."),i=n.pop(),r=[t].concat(n).join("."),o=e[s].split("."),a=o.pop(),l=o.join(".");Ie.route(r,i,l,a)})}function t$(t){return"id"in t&&"defaults"in t}class s${constructor(){this.controllers=new bo(Ja,"datasets",!0),this.elements=new bo(ps,"elements"),this.plugins=new bo(Object,"plugins"),this.scales=new bo(gi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,n){[...s].forEach(i=>{const r=n||this._getRegistryForType(i);n||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):fe(i,o=>{const a=n||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,s,n){const i=lh(e);we(n["before"+i],[],n),s[e](n),we(n["after"+i],[],n)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(e))return n}return this.plugins}_get(e,s,n){const i=s.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var Xt=new s$;class n${constructor(){this._init=[]}notify(e,s,n,i){s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,s,n);return s==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,s,n,i){i=i||{};for(const r of e){const o=r.plugin,a=o[n],l=[s,i,r.options];if(we(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){ue(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const n=e&&e.config,i=oe(n.options&&n.options.plugins,{}),r=i$(n);return i===!1&&!s?[]:o$(e,r,i,s)}_notifyStateChanges(e){const s=this._oldCache||[],n=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(s,n),e,"stop"),this._notify(i(n,s),e,"start")}}function i$(t){const e={},s=[],n=Object.keys(Xt.plugins.items);for(let r=0;r<n.length;r++)s.push(Xt.getPlugin(n[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];s.indexOf(o)===-1&&(s.push(o),e[o.id]=!0)}return{plugins:s,localIds:e}}function r$(t,e){return!e&&t===!1?null:t===!0?{}:t}function o$(t,{plugins:e,localIds:s},n,i){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=r$(n[l],i);c!==null&&r.push({plugin:a,options:a$(t.config,{plugin:a,local:s[l]},c,o)})}return r}function a$(t,{plugin:e,local:s},n,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(n,r);return s&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function bd(t,e){const s=Ie.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function l$(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function c$(t,e){return t===e?"_index_":"_value_"}function ng(t){if(t==="x"||t==="y"||t==="r")return t}function d$(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function vd(t,...e){if(ng(t))return t;for(const s of e){const n=s.axis||d$(s.position)||t.length>1&&ng(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function ig(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function u$(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(s.length)return ig(t,"x",s[0])||ig(t,"y",s[0])}return{}}function h$(t,e){const s=mn[t.type]||{scales:{}},n=e.scales||{},i=bd(t.type,e),r=Object.create(null);return Object.keys(n).forEach(o=>{const a=n[o];if(!de(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=vd(o,a,u$(o,t),Ie.scales[a.type]),c=c$(l,i),u=s.scales||{};r[o]=ir(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||bd(a,e),u=(mn[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=l$(h,l),m=o[f+"AxisID"]||f;r[m]=r[m]||Object.create(null),ir(r[m],[{axis:f},n[m],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];ir(a,[Ie.scales[a.type],Ie.scale])}),r}function B_(t){const e=t.options||(t.options={});e.plugins=oe(e.plugins,{}),e.scales=h$(t,e)}function V_(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function f$(t){return t=t||{},t.data=V_(t.data),B_(t),t}const rg=new Map,U_=new Set;function vo(t,e){let s=rg.get(t);return s||(s=e(),rg.set(t,s),U_.add(s)),s}const Ei=(t,e,s)=>{const n=fn(e,s);n!==void 0&&t.add(n)};class m${constructor(e){this._config=f$(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=V_(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),B_(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return vo(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return vo(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return vo(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,n=this.type;return vo(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const n=this._scopeCache;let i=n.get(e);return(!i||s)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,s,n){const{options:i,type:r}=this,o=this._cachedScopes(e,n),a=o.get(s);if(a)return a;const l=new Set;s.forEach(u=>{e&&(l.add(e),u.forEach(h=>Ei(l,e,h))),u.forEach(h=>Ei(l,i,h)),u.forEach(h=>Ei(l,mn[r]||{},h)),u.forEach(h=>Ei(l,Ie,h)),u.forEach(h=>Ei(l,yd,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),U_.has(s)&&o.set(s,c),c}chartOptionScopes(){const{options:e,type:s}=this;return[e,mn[s]||{},Ie.datasets[s]||{},{type:s},Ie,yd]}resolveNamedOptions(e,s,n,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=og(this._resolverCache,e,i);let l=o;if(g$(o,s)){r.$shared=!1,n=Is(n)?n():n;const c=this.createResolver(e,n,a);l=ai(o,n,c)}for(const c of s)r[c]=l[c];return r}createResolver(e,s,n=[""],i){const{resolver:r}=og(this._resolverCache,e,n);return de(s)?ai(r,s,void 0,i):r}}function og(t,e,s){let n=t.get(e);n||(n=new Map,t.set(e,n));const i=s.join();let r=n.get(i);return r||(r={resolver:gh(e,s),subPrefixes:s.filter(a=>!a.toLowerCase().includes("hover"))},n.set(i,r)),r}const p$=t=>de(t)&&Object.getOwnPropertyNames(t).some(e=>Is(t[e]));function g$(t,e){const{isScriptable:s,isIndexable:n}=T_(t);for(const i of e){const r=s(i),o=n(i),a=(o||r)&&t[i];if(r&&(Is(a)||p$(a))||o&&Ue(a))return!0}return!1}var y$="4.5.0";const x$=["top","bottom","left","right","chartArea"];function ag(t,e){return t==="top"||t==="bottom"||x$.indexOf(t)===-1&&e==="x"}function lg(t,e){return function(s,n){return s[t]===n[t]?s[e]-n[e]:s[t]-n[t]}}function cg(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),we(s&&s.onComplete,[t],e)}function b$(t){const e=t.chart,s=e.options.animation;we(s&&s.onProgress,[t],e)}function W_(t){return bh()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Vo={},dg=t=>{const e=W_(t);return Object.values(Vo).filter(s=>s.canvas===e).pop()};function v$(t,e,s){const n=Object.keys(t);for(const i of n){const r=+i;if(r>=e){const o=t[i];delete t[i],(s>0||r>e)&&(t[r+s]=o)}}}function w$(t,e,s,n){return!s||t.type==="mouseout"?null:n?e:t}let Za=class{static defaults=Ie;static instances=Vo;static overrides=mn;static registry=Xt;static version=y$;static getChart=dg;static register(...e){Xt.add(...e),ug()}static unregister(...e){Xt.remove(...e),ug()}constructor(e,s){const n=this.config=new m$(s),i=W_(e),r=dg(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||FL(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=f2(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new n$,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=R2(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Vo[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ls.listen(this,"complete",cg),ls.listen(this,"progress",b$),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:n,height:i,_aspectRatio:r}=this;return ue(e)?s&&r?r:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Xt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ip(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ap(this.canvas,this.ctx),this}stop(){return ls.stop(this),this}resize(e,s){ls.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,s,r),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Ip(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),we(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};fe(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,s=e.scales,n=this.scales,i=Object.keys(n).reduce((o,a)=>(o[a]=!1,o),{});let r=[];s&&(r=r.concat(Object.keys(s).map(o=>{const a=s[o],l=vd(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),fe(r,o=>{const a=o.options,l=a.id,c=vd(l,a),u=oe(a.type,o.dtype);(a.position===void 0||ag(a.position,c)!==ag(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in n&&n[l].type===u)h=n[l];else{const f=Xt.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(a,e)}),fe(i,(o,a)=>{o||delete n[a]}),fe(n,o=>{jt.configure(this,o,o.options),jt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,n=e.length;if(e.sort((i,r)=>i.index-r.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);e.splice(s,n-s)}this._sortedMetasets=e.slice(0).sort(lg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((n,i)=>{s.filter(r=>r===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const r=s[n];let o=this.getDatasetMeta(n);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=a,o.indexAxis=r.indexAxis||bd(a,this.options),o.order=r.order||0,o.index=n,o.label=""+r.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const l=Xt.getController(a),{datasetElementType:c,dataElementType:u}=Ie.datasets[a];Object.assign(l,{dataElementType:Xt.getElement(u),datasetElementType:c&&Xt.getElement(c)}),o.controller=new l(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){fe(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||fe(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(lg("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){fe(this.scales,e=>{jt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!vp(s,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of s){const o=n==="_removeElements"?-r:r;v$(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=n(0);for(let r=1;r<s;r++)if(!vp(i,n(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;jt.update(this,this.width,this.height,e);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],fe(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,Is(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ls.has(this)?this.attached&&!ls.running(this)&&ls.start(this):(this.draw(),cg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,n=[];let i,r;for(i=0,r=s.length;i<r;++i){const o=s[i];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=$D(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&fh(s,i),e.controller.draw(),i&&mh(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return jr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,n,i){const r=xL.modes[s];return typeof r=="function"?r(this,e,n,i):[]}getDatasetMeta(e){const s=this.data.datasets[e],n=this._metasets;let i=n.filter(r=>r&&r._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=yn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(e,s){const n=this.getDatasetMeta(e);n.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,n){const i=n?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);Sr(s)?(r.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(r,{visible:n}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),ls.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Ap(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Vo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,n=(r,o)=>{s.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};fe(this.options.events,r=>n(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,n=(l,c)=>{s.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(s.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",r),n("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",a)},s.isAttached(this.canvas)?a():o()}unbindEvents(){fe(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},fe(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,n){const i=n?"set":"remove";let r,o,a,l;for(s==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],n=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!ma(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(e,s,n){return this._plugins.notify(this,e,s,n)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,n){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(s,e),a=n?e:r(e,s);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,s){const n={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const r=this._handleEvent(e,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(e,s,n){const{_active:i=[],options:r}=this,o=s,a=this._getActiveElements(e,i,n,o),l=b2(e),c=w$(e,this._lastEvent,n,l);n&&(this._lastEvent=null,we(r.onHover,[e,a,this],this),l&&we(r.onClick,[e,a,this],this));const u=!ma(a,i);return(u||s)&&(this._active=a,this._updateHoverStyles(a,i,s)),this._lastEvent=c,u}_getActiveElements(e,s,n,i){if(e.type==="mouseout")return[];if(!n)return s;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}};function ug(){return fe(Za.instances,t=>t._plugins.invalidate())}function _$(t,e,s){const{startAngle:n,x:i,y:r,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/o,Bt(n-s));if(t.beginPath(),t.arc(i,r,o-c/2,n+h/2,s-h/2),a>0){const f=Math.min(c/a,Bt(n-s));t.arc(i,r,a+c/2,s-f/2,n+f/2,!0)}else{const f=Math.min(c/2,o*Bt(n-s));if(u==="round")t.arc(i,r,f,s-me/2,n+me/2,!0);else if(u==="bevel"){const m=2*f*f,g=-m*Math.cos(s+me/2)+i,p=-m*Math.sin(s+me/2)+r,y=m*Math.cos(n+me/2)+i,v=m*Math.sin(n+me/2)+r;t.lineTo(g,p),t.lineTo(y,v)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function S$(t,e,s){const{startAngle:n,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(r,o,a,n-c,s+c),l>i?(c=i/l,t.arc(r,o,l,s+c,n-c,!0)):t.arc(r,o,i,s+We,n-We),t.closePath(),t.clip()}function T$(t){return ph(t,["outerStart","outerEnd","innerStart","innerEnd"])}function C$(t,e,s,n){const i=T$(t.options.borderRadius),r=(s-e)/2,o=Math.min(r,n*e/2),a=l=>{const c=(s-Math.min(r,l))*n/2;return Ze(l,0,Math.min(r,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Ze(i.innerStart,0,o),innerEnd:Ze(i.innerEnd,0,o)}}function Dn(t,e,s,n){return{x:s+t*Math.cos(e),y:n+t*Math.sin(e)}}function va(t,e,s,n,i,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+n+s-c,0),f=u>0?u+n+s+c:0;let m=0;const g=i-l;if(n){const M=u>0?u-n:0,D=h>0?h-n:0,$=(M+D)/2,L=$!==0?g*$/($+n):g;m=(g-L)/2}const p=Math.max(.001,g*h-s/me)/h,y=(g-p)/2,v=l+y+m,x=i-y-m,{outerStart:w,outerEnd:S,innerStart:_,innerEnd:T}=C$(e,f,h,x-v),C=h-w,j=h-S,E=v+w/C,k=x-S/j,A=f+_,N=f+T,G=v+_/A,F=x-T/N;if(t.beginPath(),r){const M=(E+k)/2;if(t.arc(o,a,h,E,M),t.arc(o,a,h,M,k),S>0){const R=Dn(j,k,o,a);t.arc(R.x,R.y,S,k,x+We)}const D=Dn(N,x,o,a);if(t.lineTo(D.x,D.y),T>0){const R=Dn(N,F,o,a);t.arc(R.x,R.y,T,x+We,F+Math.PI)}const $=(x-T/f+(v+_/f))/2;if(t.arc(o,a,f,x-T/f,$,!0),t.arc(o,a,f,$,v+_/f,!0),_>0){const R=Dn(A,G,o,a);t.arc(R.x,R.y,_,G+Math.PI,v-We)}const L=Dn(C,v,o,a);if(t.lineTo(L.x,L.y),w>0){const R=Dn(C,E,o,a);t.arc(R.x,R.y,w,v-We,E)}}else{t.moveTo(o,a);const M=Math.cos(E)*h+o,D=Math.sin(E)*h+a;t.lineTo(M,D);const $=Math.cos(k)*h+o,L=Math.sin(k)*h+a;t.lineTo($,L)}t.closePath()}function j$(t,e,s,n,i){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){va(t,e,s,n,l,i);for(let c=0;c<r;++c)t.fill();isNaN(a)||(l=o+(a%Ae||Ae))}return va(t,e,s,n,l,i),t.fill(),l}function k$(t,e,s,n,i){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:f,borderRadius:m}=l,g=l.borderAlign==="inner";if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=f,g?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(r){va(t,e,s,n,p,i);for(let y=0;y<r;++y)t.stroke();isNaN(a)||(p=o+(a%Ae||Ae))}g&&S$(t,e,p),l.selfJoin&&p-o>=me&&m===0&&u!=="miter"&&_$(t,e,p),r||(va(t,e,s,n,p,i),t.stroke())}class P$ extends ps{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,s,n){const i=this.getProps(["x","y"],n),{angle:r,distance:o}=g_(i,{x:e,y:s}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),f=(this.options.spacing+this.options.borderWidth)/2,m=oe(h,l-a),g=Cr(r,a,l)&&a!==l,p=m>=Ae||g,y=Ps(o,c+f,u+f);return p&&y}getCenterPoint(e){const{x:s,y:n,startAngle:i,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,u=(i+r)/2,h=(o+a+c+l)/2;return{x:s+Math.cos(u)*h,y:n+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:s,circumference:n}=this,i=(s.offset||0)/4,r=(s.spacing||0)/2,o=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=n>Ae?Math.floor(n/Ae):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);const l=1-Math.sin(Math.min(me,n||0)),c=i*l;e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,j$(e,this,c,r,o),k$(e,this,c,r,o),e.restore()}}function z_(t,e,s=e){t.lineCap=oe(s.borderCapStyle,e.borderCapStyle),t.setLineDash(oe(s.borderDash,e.borderDash)),t.lineDashOffset=oe(s.borderDashOffset,e.borderDashOffset),t.lineJoin=oe(s.borderJoinStyle,e.borderJoinStyle),t.lineWidth=oe(s.borderWidth,e.borderWidth),t.strokeStyle=oe(s.borderColor,e.borderColor)}function E$(t,e,s){t.lineTo(s.x,s.y)}function A$(t){return t.stepped?q2:t.tension||t.cubicInterpolationMode==="monotone"?K2:E$}function H_(t,e,s={}){const n=t.length,{start:i=0,end:r=n-1}=s,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:n,start:l,loop:e.loop,ilen:c<l&&!u?n+c-l:c-l}}function N$(t,e,s,n){const{points:i,options:r}=e,{count:o,start:a,loop:l,ilen:c}=H_(i,s,n),u=A$(r);let{move:h=!0,reverse:f}=n||{},m,g,p;for(m=0;m<=c;++m)g=i[(a+(f?c-m:m))%o],!g.skip&&(h?(t.moveTo(g.x,g.y),h=!1):u(t,p,g,f,r.stepped),p=g);return l&&(g=i[(a+(f?c:0))%o],u(t,p,g,f,r.stepped)),!!l}function R$(t,e,s,n){const i=e.points,{count:r,start:o,ilen:a}=H_(i,s,n),{move:l=!0,reverse:c}=n||{};let u=0,h=0,f,m,g,p,y,v;const x=S=>(o+(c?a-S:S))%r,w=()=>{p!==y&&(t.lineTo(u,y),t.lineTo(u,p),t.lineTo(u,v))};for(l&&(m=i[x(0)],t.moveTo(m.x,m.y)),f=0;f<=a;++f){if(m=i[x(f)],m.skip)continue;const S=m.x,_=m.y,T=S|0;T===g?(_<p?p=_:_>y&&(y=_),u=(h*u+S)/++h):(w(),t.lineTo(S,_),g=T,h=0,p=y=_),v=_}w()}function wd(t){const e=t.options,s=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?R$:N$}function I$(t){return t.stepped?CD:t.tension||t.cubicInterpolationMode==="monotone"?jD:Js}function M$(t,e,s,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,s,n)&&i.closePath()),z_(t,e.options),t.stroke(i)}function O$(t,e,s,n){const{segments:i,options:r}=e,o=wd(e);for(const a of i)z_(t,r,a.style),t.beginPath(),o(t,e,a,{start:s,end:s+n-1})&&t.closePath(),t.stroke()}const D$=typeof Path2D=="function";function L$(t,e,s,n){D$&&!e.options.segment?M$(t,e,s,n):O$(t,e,s,n)}class $$ extends ps{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;yD(this._points,n,e,i,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=MD(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,n=e.length;return n&&s[e[n-1].end]}interpolate(e,s){const n=this.options,i=e[s],r=this.points,o=ND(this,{property:s,start:i,end:i});if(!o.length)return;const a=[],l=I$(n);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],m=r[h],g=r[f];if(m===g){a.push(m);continue}const p=Math.abs((i-m[s])/(g[s]-m[s])),y=l(m,g,p,n.stepped);y[s]=e[s],a.push(y)}return a.length===1?a[0]:a}pathSegment(e,s,n){return wd(this)(e,this,s,n)}path(e,s,n){const i=this.segments,r=wd(this);let o=this._loop;s=s||0,n=n||this.points.length-s;for(const a of i)o&=r(e,this,a,{start:s,end:s+n-1});return!!o}draw(e,s,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),L$(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function hg(t,e,s,n){const i=t.options,{[s]:r}=t.getProps([s],n);return Math.abs(e-r)<i.radius+i.hitRadius}class F$ extends ps{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,s,n){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],n);return Math.pow(e-r,2)+Math.pow(s-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,s){return hg(this,e,"x",s)}inYRange(e,s){return hg(this,e,"y",s)}getCenterPoint(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}size(e){e=e||this.options||{};let s=e.radius||0;s=Math.max(s,s&&e.hoverRadius||0);const n=s&&e.borderWidth||0;return(s+n)*2}draw(e,s){const n=this.options;this.skip||n.radius<.1||!jr(this,s,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,xd(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function q_(t,e){const{x:s,y:n,base:i,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(s,i),l=Math.max(s,i),c=n-h,u=n+h):(h=r/2,a=s-h,l=s+h,c=Math.min(n,i),u=Math.max(n,i)),{left:a,top:c,right:l,bottom:u}}function Es(t,e,s,n){return t?0:Ze(e,s,n)}function B$(t,e,s){const n=t.options.borderWidth,i=t.borderSkipped,r=S_(n);return{t:Es(i.top,r.top,0,s),r:Es(i.right,r.right,0,e),b:Es(i.bottom,r.bottom,0,s),l:Es(i.left,r.left,0,e)}}function V$(t,e,s){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,r=Jn(i),o=Math.min(e,s),a=t.borderSkipped,l=n||de(i);return{topLeft:Es(!l||a.top||a.left,r.topLeft,0,o),topRight:Es(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Es(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Es(!l||a.bottom||a.right,r.bottomRight,0,o)}}function U$(t){const e=q_(t),s=e.right-e.left,n=e.bottom-e.top,i=B$(t,s/2,n/2),r=V$(t,s/2,n/2);return{outer:{x:e.left,y:e.top,w:s,h:n,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:s-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function nc(t,e,s,n){const i=e===null,r=s===null,a=t&&!(i&&r)&&q_(t,n);return a&&(i||Ps(e,a.left,a.right))&&(r||Ps(s,a.top,a.bottom))}function W$(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function z$(t,e){t.rect(e.x,e.y,e.w,e.h)}function ic(t,e,s={}){const n=t.x!==s.x?-e:0,i=t.y!==s.y?-e:0,r=(t.x+t.w!==s.x+s.w?e:0)-n,o=(t.y+t.h!==s.y+s.h?e:0)-i;return{x:t.x+n,y:t.y+i,w:t.w+r,h:t.h+o,radius:t.radius}}class H$ extends ps{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:o}=U$(this),a=W$(o.radius)?ya:z$;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,ic(o,s,r)),e.clip(),a(e,ic(r,-s,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,ic(r,s)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,s,n){return nc(this,e,s,n)}inXRange(e,s){return nc(this,e,null,s)}inYRange(e,s){return nc(this,null,e,s)}getCenterPoint(e){const{x:s,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(s+i)/2:s,y:r?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const fg=(t,e)=>{let{boxHeight:s=e,boxWidth:n=e}=t;return t.usePointStyle&&(s=Math.min(s,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(e,s)}},q$=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class mg extends ps{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,n){this.maxWidth=e,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=we(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(n=>e.filter(n,this.chart.data))),e.sort&&(s=s.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=et(n.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=fg(n,r);let c,u;s.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,s,n,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=e;r.textAlign="left",r.textBaseline="middle";let f=-1,m=-u;return this.legendItems.forEach((g,p)=>{const y=n+s/2+r.measureText(g.text).width;(p===0||c[c.length-1]+y+2*a>o)&&(h+=u,c[c.length-(p>0?0:1)]=0,m+=u,f++),l[p]={left:0,top:m,row:f,width:y,height:i},c[c.length-1]+=y+a}),h}_fitCols(e,s,n,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,f=0,m=0,g=0,p=0;return this.legendItems.forEach((y,v)=>{const{itemWidth:x,itemHeight:w}=K$(n,s,r,y,i);v>0&&m+w+2*a>u&&(h+=f+a,c.push({width:f,height:m}),g+=f+a,p++,f=m=0),l[v]={left:g,top:m,col:p,width:x,height:w},f=Math.max(f,x),m+=w+a}),h+=f,c.push({width:f,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:r}}=this,o=Qn(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Je(n,this.left+i,this.right-this.lineWidths[a]);for(const c of s)a!==c.row&&(a=c.row,l=Je(n,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Je(n,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of s)c.col!==a&&(a=c.col,l=Je(n,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;fh(e,this),this._draw(),mh(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:n,ctx:i}=this,{align:r,labels:o}=e,a=Ie.color,l=Qn(e.rtl,this.left,this.width),c=et(o.font),{padding:u}=o,h=c.size,f=h/2;let m;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:p,itemHeight:y}=fg(o,h),v=function(T,C,j){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;i.save();const E=oe(j.lineWidth,1);if(i.fillStyle=oe(j.fillStyle,a),i.lineCap=oe(j.lineCap,"butt"),i.lineDashOffset=oe(j.lineDashOffset,0),i.lineJoin=oe(j.lineJoin,"miter"),i.lineWidth=E,i.strokeStyle=oe(j.strokeStyle,a),i.setLineDash(oe(j.lineDash,[])),o.usePointStyle){const k={radius:p*Math.SQRT2/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:E},A=l.xPlus(T,g/2),N=C+f;__(i,k,A,N,o.pointStyleWidth&&g)}else{const k=C+Math.max((h-p)/2,0),A=l.leftForLtr(T,g),N=Jn(j.borderRadius);i.beginPath(),Object.values(N).some(G=>G!==0)?ya(i,{x:A,y:k,w:g,h:p,radius:N}):i.rect(A,k,g,p),i.fill(),E!==0&&i.stroke()}i.restore()},x=function(T,C,j){kr(i,j.text,T,C+y/2,c,{strikethrough:j.hidden,textAlign:l.textAlign(j.textAlign)})},w=this.isHorizontal(),S=this._computeTitleHeight();w?m={x:Je(r,this.left+u,this.right-n[0]),y:this.top+u+S,line:0}:m={x:this.left+u,y:Je(r,this.top+S+u,this.bottom-s[0].height),line:0},E_(this.ctx,e.textDirection);const _=y+u;this.legendItems.forEach((T,C)=>{i.strokeStyle=T.fontColor,i.fillStyle=T.fontColor;const j=i.measureText(T.text).width,E=l.textAlign(T.textAlign||(T.textAlign=o.textAlign)),k=g+f+j;let A=m.x,N=m.y;l.setWidth(this.width),w?C>0&&A+k+u>this.right&&(N=m.y+=_,m.line++,A=m.x=Je(r,this.left+u,this.right-n[m.line])):C>0&&N+_>this.bottom&&(A=m.x=A+s[m.line].width+u,m.line++,N=m.y=Je(r,this.top+S+u,this.bottom-s[m.line].height));const G=l.x(A);if(v(G,N,T),A=I2(E,A+g+f,w?A+k:this.right,e.rtl),x(l.x(A),N,T),w)m.x+=k+u;else if(typeof T.text!="string"){const F=c.lineHeight;m.y+=K_(T,F)+u}else m.y+=_}),A_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,n=et(s.font),i=Et(s.padding);if(!s.display)return;const r=Qn(e.rtl,this.left,this.width),o=this.ctx,a=s.position,l=n.size/2,c=i.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=Je(e.align,h,this.right-f);else{const g=this.columnSizes.reduce((p,y)=>Math.max(p,y.height),0);u=c+Je(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const m=Je(a,h,h+f);o.textAlign=r.textAlign(dh(a)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=n.string,kr(o,s.text,m,u,n)}_computeTitleHeight(){const e=this.options.title,s=et(e.font),n=Et(e.padding);return e.display?s.lineHeight+n.height:0}_getLegendItemAt(e,s){let n,i,r;if(Ps(e,this.left,this.right)&&Ps(s,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],Ps(e,i.left,i.left+i.width)&&Ps(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const s=this.options;if(!X$(e.type,s))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=q$(i,n);i&&!r&&we(s.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!r&&we(s.onHover,[e,n,this],this)}else n&&we(s.onClick,[e,n,this],this)}}function K$(t,e,s,n,i){const r=G$(n,t,e,s),o=Y$(i,n,e.lineHeight);return{itemWidth:r,itemHeight:o}}function G$(t,e,s,n){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+s.size/2+n.measureText(i).width}function Y$(t,e,s){let n=t;return typeof e.text!="string"&&(n=K_(e,s)),n}function K_(t,e){const s=t.text?t.text.length:0;return e*s}function X$(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var J$={id:"legend",_element:mg,start(t,e,s){const n=t.legend=new mg({ctx:t.ctx,options:s,chart:t});jt.configure(t,n,s),jt.addBox(t,n)},stop(t){jt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const n=t.legend;jt.configure(t,n,s),n.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const n=e.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(s?0:void 0),u=Et(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class G_ extends ps{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const i=Ue(n.text)?n.text.length:1;this._padding=Et(n.padding);const r=i*et(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:n,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=Je(a,n,r),h=s+e,c=r-n):(o.position==="left"?(u=n+e,h=Je(a,i,s),l=me*-.5):(u=r-e,h=Je(a,s,i),l=me*.5),c=i-s),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const n=et(s.font),r=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);kr(e,s.text,0,0,n,{color:s.color,maxWidth:l,rotation:c,textAlign:dh(s.align),textBaseline:"middle",translation:[o,a]})}}function Q$(t,e){const s=new G_({ctx:t.ctx,options:e,chart:t});jt.configure(t,s,e),jt.addBox(t,s),t.titleBlock=s}var Z$={id:"title",_element:G_,start(t,e,s){Q$(t,s)},stop(t){const e=t.titleBlock;jt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const n=t.titleBlock;jt.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const zi={average(t){if(!t.length)return!1;let e,s,n=new Set,i=0,r=0;for(e=0,s=t.length;e<s;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),i+=l.y,++r}}return r===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let s=e.x,n=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=gd(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();s=l.x,n=l.y}return{x:s,y:n}}};function Gt(t,e){return e&&(Ue(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function cs(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function eF(t,e){const{element:s,datasetIndex:n,index:i}=e,r=t.getDatasetMeta(n).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[n].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function pg(t,e){const s=t.chart.ctx,{body:n,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=et(e.bodyFont),c=et(e.titleFont),u=et(e.footerFont),h=r.length,f=i.length,m=n.length,g=Et(e.padding);let p=g.height,y=0,v=n.reduce((S,_)=>S+_.before.length+_.lines.length+_.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(p+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){const S=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;p+=m*S+(v-m)*l.lineHeight+(v-1)*e.bodySpacing}f&&(p+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let x=0;const w=function(S){y=Math.max(y,s.measureText(S).width+x)};return s.save(),s.font=c.string,fe(t.title,w),s.font=l.string,fe(t.beforeBody.concat(t.afterBody),w),x=e.displayColors?o+2+e.boxPadding:0,fe(n,S=>{fe(S.before,w),fe(S.lines,w),fe(S.after,w)}),x=0,s.font=u.string,fe(t.footer,w),s.restore(),y+=g.width,{width:y,height:p}}function tF(t,e){const{y:s,height:n}=e;return s<n/2?"top":s>t.height-n/2?"bottom":"center"}function sF(t,e,s,n){const{x:i,width:r}=n,o=s.caretSize+s.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function nF(t,e,s,n){const{x:i,width:r}=s,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return n==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),sF(c,t,e,s)&&(c="center"),c}function gg(t,e,s){const n=s.yAlign||e.yAlign||tF(t,s);return{xAlign:s.xAlign||e.xAlign||nF(t,e,s,n),yAlign:n}}function iF(t,e){let{x:s,width:n}=t;return e==="right"?s-=n:e==="center"&&(s-=n/2),s}function rF(t,e,s){let{y:n,height:i}=t;return e==="top"?n+=s:e==="bottom"?n-=i+s:n-=i/2,n}function yg(t,e,s,n){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=s,c=i+r,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:m}=Jn(o);let g=iF(e,a);const p=rF(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,f)+i:a==="right"&&(g+=Math.max(h,m)+i),{x:Ze(g,0,n.width-e.width),y:Ze(p,0,n.height-e.height)}}function wo(t,e,s){const n=Et(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function xg(t){return Gt([],cs(t))}function oF(t,e,s){return yn(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function bg(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const Y_={beforeTitle:os,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return s[e.dataIndex]}return""},afterTitle:os,beforeBody:os,beforeLabel:os,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return ue(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:os,afterBody:os,beforeFooter:os,footer:os,afterFooter:os};function lt(t,e,s,n){const i=t[e].call(s,n);return typeof i>"u"?Y_[e].call(s,n):i}class vg extends ps{static positioners=zi;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,r=new R_(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=oF(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:n}=s,i=lt(n,"beforeTitle",this,e),r=lt(n,"title",this,e),o=lt(n,"afterTitle",this,e);let a=[];return a=Gt(a,cs(i)),a=Gt(a,cs(r)),a=Gt(a,cs(o)),a}getBeforeBody(e,s){return xg(lt(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:n}=s,i=[];return fe(e,r=>{const o={before:[],lines:[],after:[]},a=bg(n,r);Gt(o.before,cs(lt(a,"beforeLabel",this,r))),Gt(o.lines,lt(a,"label",this,r)),Gt(o.after,cs(lt(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,s){return xg(lt(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:n}=s,i=lt(n,"beforeFooter",this,e),r=lt(n,"footer",this,e),o=lt(n,"afterFooter",this,e);let a=[];return a=Gt(a,cs(i)),a=Gt(a,cs(r)),a=Gt(a,cs(o)),a}_createItems(e){const s=this._active,n=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=s.length;l<c;++l)a.push(eF(this.chart,s[l]));return e.filter&&(a=a.filter((u,h,f)=>e.filter(u,h,f,n))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,n))),fe(a,u=>{const h=bg(e.callbacks,u);i.push(lt(h,"labelColor",this,u)),r.push(lt(h,"labelPointStyle",this,u)),o.push(lt(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,s){const n=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=zi[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const l=this._size=pg(this,n),c=Object.assign({},a,l),u=gg(this.chart,n,c),h=yg(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,n,i){const r=this.getCaretPosition(e,n,i);s.lineTo(r.x1,r.y1),s.lineTo(r.x2,r.y2),s.lineTo(r.x3,r.y3)}getCaretPosition(e,s,n){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Jn(a),{x:f,y:m}=e,{width:g,height:p}=s;let y,v,x,w,S,_;return r==="center"?(S=m+p/2,i==="left"?(y=f,v=y-o,w=S+o,_=S-o):(y=f+g,v=y+o,w=S-o,_=S+o),x=y):(i==="left"?v=f+Math.max(l,u)+o:i==="right"?v=f+g-Math.max(c,h)-o:v=this.caretX,r==="top"?(w=m,S=w-o,y=v-o,x=v+o):(w=m+p,S=w+o,y=v+o,x=v-o),_=w),{x1:y,x2:v,x3:x,y1:w,y2:S,y3:_}}drawTitle(e,s,n){const i=this.title,r=i.length;let o,a,l;if(r){const c=Qn(n.rtl,this.x,this.width);for(e.x=wo(this,n.titleAlign,n),s.textAlign=c.textAlign(n.titleAlign),s.textBaseline="middle",o=et(n.titleFont),a=n.titleSpacing,s.fillStyle=n.titleColor,s.font=o.string,l=0;l<r;++l)s.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,s,n,i,r){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=r,u=et(r.bodyFont),h=wo(this,"left",r),f=i.x(h),m=l<u.lineHeight?(u.lineHeight-l)/2:0,g=s.y+m;if(r.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=i.leftForLtr(f,c)+c/2,v=g+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,xd(e,p,y,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,xd(e,p,y,v)}else{e.lineWidth=de(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const p=i.leftForLtr(f,c),y=i.leftForLtr(i.xPlus(f,1),c-2),v=Jn(o.borderRadius);Object.values(v).some(x=>x!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,ya(e,{x:p,y:g,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),ya(e,{x:y,y:g+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(p,g,c,l),e.strokeRect(p,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(y,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,s,n){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=n,h=et(n.bodyFont);let f=h.lineHeight,m=0;const g=Qn(n.rtl,this.x,this.width),p=function(j){s.fillText(j,g.x(e.x+m),e.y+f/2),e.y+=f+r},y=g.textAlign(o);let v,x,w,S,_,T,C;for(s.textAlign=o,s.textBaseline="middle",s.font=h.string,e.x=wo(this,y,n),s.fillStyle=n.bodyColor,fe(this.beforeBody,p),m=a&&y!=="right"?o==="center"?c/2+u:c+2+u:0,S=0,T=i.length;S<T;++S){for(v=i[S],x=this.labelTextColors[S],s.fillStyle=x,fe(v.before,p),w=v.lines,a&&w.length&&(this._drawColorBox(s,e,S,g,n),f=Math.max(h.lineHeight,l)),_=0,C=w.length;_<C;++_)p(w[_]),f=h.lineHeight;fe(v.after,p)}m=0,f=h.lineHeight,fe(this.afterBody,p),e.y-=r}drawFooter(e,s,n){const i=this.footer,r=i.length;let o,a;if(r){const l=Qn(n.rtl,this.x,this.width);for(e.x=wo(this,n.footerAlign,n),e.y+=n.footerMarginTop,s.textAlign=l.textAlign(n.footerAlign),s.textBaseline="middle",o=et(n.footerFont),s.fillStyle=n.footerColor,s.font=o.string,a=0;a<r;++a)s.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,s,n,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=n,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:g}=Jn(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(a+h,l),o==="top"&&this.drawCaret(e,s,n,i),s.lineTo(a+c-f,l),s.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(e,s,n,i),s.lineTo(a+c,l+u-g),s.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(e,s,n,i),s.lineTo(a+m,l+u),s.quadraticCurveTo(a,l+u,a,l+u-m),o==="center"&&r==="left"&&this.drawCaret(e,s,n,i),s.lineTo(a,l+h),s.quadraticCurveTo(a,l,a+h,l),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const o=zi[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=pg(this,e),l=Object.assign({},o,this._size),c=gg(s,e,l),u=yg(e,l,c,s);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Et(s.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,s),E_(e,s.textDirection),r.y+=o.top,this.drawTitle(r,e,s),this.drawBody(r,e,s),this.drawFooter(r,e,s),A_(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const n=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!ma(n,i),o=this._positionChanged(i,s);(r||o)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,s,n),a=this._positionChanged(o,e),l=s||!ma(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),l}_getActiveElements(e,s,n,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return s.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&o.reverse(),o}_positionChanged(e,s){const{caretX:n,caretY:i,options:r}=this,o=zi[r.position].call(this,e,s);return o!==!1&&(n!==o.x||i!==o.y)}}var aF={id:"tooltip",_element:vg,positioners:zi,afterInit(t,e,s){s&&(t.tooltip=new vg({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Y_},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const lF=(t,e,s,n)=>(typeof e=="string"?(s=t.push(e)-1,n.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function cF(t,e,s,n){const i=t.indexOf(e);if(i===-1)return lF(t,e,s,n);const r=t.lastIndexOf(e);return i!==r?s:i}const dF=(t,e)=>t===null?null:Ze(Math.round(t),0,e);function wg(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class uF extends gi{static id="category";static defaults={ticks:{callback:wg}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:r}of s)n[i]===r&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(ue(e))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===e?s:cF(n,e,oe(s,e),this._addedLabels),dF(s,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,s=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=e===0&&s===r.length-1?r:r.slice(e,s+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=s;o++)i.push({value:o});return i}getLabelForValue(e){return wg.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function hF(t,e){const s=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=t,m=r||1,g=u-1,{min:p,max:y}=e,v=!ue(o),x=!ue(a),w=!ue(c),S=(y-p)/(h+1);let _=_p((y-p)/g/m)*m,T,C,j,E;if(_<1e-14&&!v&&!x)return[{value:p},{value:y}];E=Math.ceil(y/_)-Math.floor(p/_),E>g&&(_=_p(E*_/g/m)*m),ue(l)||(T=Math.pow(10,l),_=Math.ceil(_*T)/T),i==="ticks"?(C=Math.floor(p/_)*_,j=Math.ceil(y/_)*_):(C=p,j=y),v&&x&&r&&T2((a-o)/r,_/1e3)?(E=Math.round(Math.min((a-o)/_,u)),_=(a-o)/E,C=o,j=a):w?(C=v?o:C,j=x?a:j,E=c-1,_=(j-C)/E):(E=(j-C)/_,rr(E,Math.round(E),_/1e3)?E=Math.round(E):E=Math.ceil(E));const k=Math.max(Sp(_),Sp(C));T=Math.pow(10,ue(l)?k:l),C=Math.round(C*T)/T,j=Math.round(j*T)/T;let A=0;for(v&&(f&&C!==o?(s.push({value:o}),C<o&&A++,rr(Math.round((C+A*_)*T)/T,o,_g(o,S,t))&&A++):C<o&&A++);A<E;++A){const N=Math.round((C+A*_)*T)/T;if(x&&N>a)break;s.push({value:N})}return x&&f&&j!==a?s.length&&rr(s[s.length-1].value,a,_g(a,S,t))?s[s.length-1].value=a:s.push({value:a}):(!x||j===a)&&s.push({value:j}),s}function _g(t,e,{horizontal:s,minRotation:n}){const i=hs(n),r=(s?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class fF extends gi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return ue(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=s?i:l,a=l=>r=n?r:l;if(e){const l=ts(i),c=ts(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(i-l)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},r=this._range||this,o=hF(i,r);return e.bounds==="ticks"&&C2(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-s)/Math.max(e.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(e){return hh(e,this.chart.options.locale,this.options.ticks.format)}}class mF extends fF{static id="linear";static defaults={ticks:{callback:w_.formatters.numeric}};determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=Pt(e)?e:0,this.max=Pt(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,n=hs(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const el={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ht=Object.keys(el);function Sg(t,e){return t-e}function Tg(t,e){if(ue(e))return null;const s=t._adapter,{parser:n,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),Pt(o)||(o=typeof n=="string"?s.parse(o,n):s.parse(o)),o===null?null:(i&&(o=i==="week"&&(Tr(r)||r===!0)?s.startOf(o,"isoWeek",r):s.startOf(o,i)),+o)}function Cg(t,e,s,n){const i=ht.length;for(let r=ht.indexOf(t);r<i-1;++r){const o=el[ht[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-e)/(a*o.size))<=n)return ht[r]}return ht[i-1]}function pF(t,e,s,n,i){for(let r=ht.length-1;r>=ht.indexOf(s);r--){const o=ht[r];if(el[o].common&&t._adapter.diff(i,n,o)>=e-1)return o}return ht[s?ht.indexOf(s):0]}function gF(t){for(let e=ht.indexOf(t)+1,s=ht.length;e<s;++e)if(el[ht[e]].common)return ht[e]}function jg(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:n,hi:i}=ch(s,e),r=s[n]>=e?s[n]:s[i];t[r]=!0}}function yF(t,e,s,n){const i=t._adapter,r=+i.startOf(e[0].value,n),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,n))l=s[a],l>=0&&(e[l].major=!0);return e}function kg(t,e,s){const n=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,n.push({value:a,major:!1});return r===0||!s?n:yF(t,n,i,s)}class Pg extends gi{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const n=e.time||(e.time={}),i=this._adapter=new fL._date(e.adapters.date);i.init(s),ir(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:Tg(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,n=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Pt(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),r=Pt(r)&&!isNaN(r)?r:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],n=e[e.length-1]),{min:s,max:n}}buildTicks(){const e=this.options,s=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=A2(i,r,o);return this._unit=s.unit||(n.autoSkip?Cg(s.minUnit,this.min,this.max,this._getLabelCapacity(r)):pF(this,a.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:gF(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),kg(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,n=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?s=1-i:s=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?n=r:n=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;s=Ze(s,0,o),n=Ze(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const e=this._adapter,s=this.min,n=this.max,i=this.options,r=i.time,o=r.unit||Cg(r.minUnit,s,n,this._getLabelCapacity(s)),a=oe(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Tr(l)||l===!0,u={};let h=s,f,m;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(n,s,o)>1e5*a)throw new Error(s+" and "+n+" are too far apart with stepSize of "+a+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,m=0;f<n;f=+e.add(f,a,o),m++)jg(u,f,g);return(f===n||i.bounds==="ticks"||m===1)&&jg(u,f,g),Object.keys(u).sort(Sg).map(p=>+p)}getLabelForValue(e){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(e,n.tooltipFormat):s.format(e,n.displayFormats.datetime)}format(e,s){const i=this.options.time.displayFormats,r=this._unit,o=s||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,s,n,i){const r=this.options,o=r.ticks.callback;if(o)return we(o,[e,s,n],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=n[s],m=c&&h&&f&&f.major;return this._adapter.format(e,i||(m?h:u))}generateTickLabels(e){let s,n,i;for(s=0,n=e.length;s<n;++s)i=e[s],i.label=this._tickFormatFunction(i.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,n=this.ctx.measureText(e).width,i=hs(this.isHorizontal()?s.maxRotation:s.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*r+a*o,h:n*o+a*r}}_getLabelCapacity(e){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,r=this._tickFormatFunction(e,0,kg(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],s,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)e=e.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,n;if(e.length)return e;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)e.push(Tg(this,i[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return x_(e.sort(Sg))}}function _o(t,e,s){let n=0,i=t.length-1,r,o,a,l;s?(e>=t[n].pos&&e<=t[i].pos&&({lo:n,hi:i}=rn(t,"pos",e)),{pos:r,time:a}=t[n],{pos:o,time:l}=t[i]):(e>=t[n].time&&e<=t[i].time&&({lo:n,hi:i}=rn(t,"time",e)),{time:r,pos:a}=t[n],{time:o,pos:l}=t[i]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class dB extends Pg{static id="timeseries";static defaults=Pg.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=_o(s,this.min),this._tableRange=_o(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:n}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=s&&c<=n&&i.push(c);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?e=this.normalize(s.concat(n)):e=s.length?s:n,e=this._cache.all=e,e}getDecimalForValue(e){return(_o(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return _o(this._table,n*this._tableRange+this._minPos,!0)}}const X_="label";function Eg(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function xF(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function J_(t,e){t.labels=e}function Q_(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:X_;const n=[];t.datasets=e.map(i=>{const r=t.datasets.find(o=>o[s]===i[s]);return!r||!i.data||n.includes(r)?{...i}:(n.push(r),Object.assign(r,i),r)})}function bF(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:X_;const s={labels:[],datasets:[]};return J_(s,t.labels),Q_(s,t.datasets,e),s}function vF(t,e){const{height:s=150,width:n=300,redraw:i=!1,datasetIdKey:r,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...f}=t,m=b.useRef(null),g=b.useRef(null),p=()=>{m.current&&(g.current=new Za(m.current,{type:o,data:bF(a,r),options:l&&{...l},plugins:c}),Eg(e,g.current))},y=()=>{Eg(e,null),g.current&&(g.current.destroy(),g.current=null)};return b.useEffect(()=>{!i&&g.current&&l&&xF(g.current,l)},[i,l]),b.useEffect(()=>{!i&&g.current&&J_(g.current.config.data,a.labels)},[i,a.labels]),b.useEffect(()=>{!i&&g.current&&a.datasets&&Q_(g.current.config.data,a.datasets,r)},[i,a.datasets]),b.useEffect(()=>{g.current&&(i?(y(),setTimeout(p)):g.current.update(h))},[i,l,a.labels,a.datasets,h]),b.useEffect(()=>{g.current&&(y(),setTimeout(p))},[o]),b.useEffect(()=>(p(),()=>y()),[]),I.createElement("canvas",{ref:m,role:"img",height:s,width:n,...f},u)}const wF=b.forwardRef(vF);function _h(t,e){return Za.register(e),b.forwardRef((s,n)=>I.createElement(wF,{...s,ref:n,type:t}))}const _F=_h("line",hL),SF=_h("bar",cL),TF=_h("doughnut",uL);Za.register(uF,mF,H$,$$,F$,Z$,aF,J$,P$);const CF=()=>{const t={labels:["2015","2016","2017","2018","2019","2020","2021","2022","2023"],datasets:[{label:"Global Tourism Revenue (Trillions USD)",data:[1.2,1.3,1.4,1.5,1.6,.7,.9,1.2,1.4],backgroundColor:"rgba(34, 197, 94, 0.8)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:2},{label:"Climate-Related Losses (Billions USD)",data:[15,18,22,28,35,45,38,42,48],backgroundColor:"rgba(239, 68, 68, 0.8)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:2}]},e={labels:["Coral Reefs","Ski Resorts","Coastal Areas","Mountain Regions","Island Nations","Arctic Regions"],datasets:[{label:"Percentage Affected",data:[75,68,82,45,95,88],backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(59, 130, 246, 0.8)","rgba(239, 68, 68, 0.8)","rgba(245, 158, 11, 0.8)","rgba(168, 85, 247, 0.8)","rgba(20, 184, 166, 0.8)"],borderWidth:0}]},s={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"2015 (Pre-Climate Impact)",data:[45,52,68,75,82,95,100,98,88,72,58,48],borderColor:"rgba(34, 197, 94, 1)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.4},{label:"2023 (Current)",data:[38,45,62,70,78,85,88,85,78,65,52,42],borderColor:"rgba(239, 68, 68, 1)",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4}]},n={responsive:!0,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0}}},i={responsive:!0,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Tourist Visits (Index: Peak = 100)"}},x:{title:{display:!0,text:"Month"}}}},r={responsive:!0,plugins:{legend:{position:"bottom"}}},o=[{title:"Tourism Revenue at Risk",value:"$2.4T",description:"Global tourism revenue threatened by climate change by 2030",icon:WS,color:"text-red-500"},{title:"Temperature Increase",value:"+1.1°C",description:"Global average temperature rise since pre-industrial times",icon:oc,color:"text-orange-500"},{title:"Destinations at Risk",value:"75%",description:"Of world heritage sites threatened by climate change",icon:ac,color:"text-blue-500"},{title:"Jobs Affected",value:"120M",description:"Tourism jobs at risk due to climate impacts globally",icon:kd,color:"text-purple-500"}];return d.jsxs("div",{className:"min-h-screen pt-16",children:[d.jsx("section",{className:"py-20 px-6 bg-gradient-hero text-white",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx(B.h1,{className:"text-5xl md:text-6xl font-bold mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:"Data & Statistics"}),d.jsx(B.p,{className:"text-xl md:text-2xl text-gray-200 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Explore the numbers behind climate change's impact on global tourism through interactive charts and key statistics."})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Key Statistics"}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Understanding the scale of climate change impact on global tourism through data-driven insights."})]}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:o.map((a,l)=>{const c=a.icon;return d.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:l*.1},children:d.jsx(se,{className:"text-center shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-gradient-card",children:d.jsxs(re,{className:"p-6",children:[d.jsx(c,{className:`h-12 w-12 mx-auto mb-4 ${a.color}`}),d.jsx("div",{className:"text-3xl font-bold text-foreground mb-2",children:a.value}),d.jsx("h3",{className:"font-semibold text-card-foreground mb-2",children:a.title}),d.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:a.description})]})})},a.title)})})]})}),d.jsx("section",{className:"py-20 px-6 bg-muted/30",children:d.jsxs("div",{className:"max-w-7xl mx-auto space-y-12",children:[d.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:d.jsxs(se,{className:"shadow-card-eco border-none bg-card",children:[d.jsxs(_e,{children:[d.jsxs(Te,{className:"flex items-center text-2xl",children:[d.jsx(zS,{className:"h-8 w-8 mr-3 text-red-500"}),"Tourism Revenue vs Climate-Related Losses"]}),d.jsx("p",{className:"text-muted-foreground",children:"Global tourism revenue and climate-related losses over time (2015-2023)"})]}),d.jsx(re,{children:d.jsx("div",{className:"h-96",children:d.jsx(SF,{data:t,options:n})})})]})}),d.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[d.jsx(B.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:d.jsxs(se,{className:"h-full shadow-card-eco border-none bg-card",children:[d.jsxs(_e,{children:[d.jsxs(Te,{className:"flex items-center text-xl",children:[d.jsx(ac,{className:"h-6 w-6 mr-2 text-blue-500"}),"Destinations Affected by Climate Change"]}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"Percentage of destination types significantly impacted"})]}),d.jsx(re,{children:d.jsx("div",{className:"h-80",children:d.jsx(TF,{data:e,options:r})})})]})}),d.jsx(B.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.4},children:d.jsxs(se,{className:"h-full shadow-card-eco border-none bg-card",children:[d.jsxs(_e,{children:[d.jsxs(Te,{className:"flex items-center text-xl",children:[d.jsx(HS,{className:"h-6 w-6 mr-2 text-green-500"}),"Seasonal Tourism Changes"]}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"Monthly tourist visits comparison: 2015 vs 2023"})]}),d.jsx(re,{children:d.jsx("div",{className:"h-80",children:d.jsx(_F,{data:s,options:i})})})]})})]})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Key Insights"}),d.jsx("p",{className:"text-xl text-muted-foreground",children:"What the data tells us about climate change and tourism"})]}),d.jsxs("div",{className:"space-y-8",children:[d.jsx(B.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:d.jsx(se,{className:"shadow-card-eco border-none bg-gradient-card",children:d.jsxs(re,{className:"p-8",children:[d.jsx("h3",{className:"text-xl font-bold text-card-foreground mb-4",children:"Seasonal Shift Patterns"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"The data shows a clear shift in seasonal tourism patterns, with peak summer months seeing reduced visitation due to extreme heat, while shoulder seasons are becoming more popular. This represents a fundamental change in global travel behavior driven by climate concerns."})]})})}),d.jsx(B.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:d.jsx(se,{className:"shadow-card-eco border-none bg-gradient-card",children:d.jsxs(re,{className:"p-8",children:[d.jsx("h3",{className:"text-xl font-bold text-card-foreground mb-4",children:"Economic Impact Acceleration"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Climate-related losses in tourism are accelerating, growing from $15 billion in 2015 to $48 billion in 2023. This trend indicates that without immediate action, the economic impact will continue to compound, affecting millions of jobs worldwide."})]})})}),d.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},children:d.jsx(se,{className:"shadow-card-eco border-none bg-gradient-card",children:d.jsxs(re,{className:"p-8",children:[d.jsx("h3",{className:"text-xl font-bold text-card-foreground mb-4",children:"Destination Vulnerability"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Island nations face the highest risk (95% affected), followed by coastal areas (82%) and coral reefs (75%). These destinations require immediate adaptation strategies and international support to remain viable for future tourism."})]})})})]})]})})]})},jF=()=>{const t=[{title:"Maldives Launches Revolutionary Coral Restoration Program",excerpt:"The Maldives government announces a $50 million initiative to restore coral reefs using innovative 3D printing technology and marine biology.",category:"Conservation",date:"2024-01-15",readTime:"4 min read",image:"🏝️",trending:!0,source:"Environmental Tourism News"},{title:"Alpine Ski Resorts Adapt to Shorter Snow Seasons",excerpt:"European ski destinations invest in artificial snow technology and diversify into summer activities as climate change shortens winter seasons.",category:"Adaptation",date:"2024-01-12",readTime:"6 min read",image:"⛷️",trending:!1,source:"Alpine Tourism Report"},{title:"Costa Rica Achieves Carbon Neutral Tourism Milestone",excerpt:"Costa Rica becomes the first country to achieve carbon-neutral tourism certification, setting a global standard for sustainable travel.",category:"Achievement",date:"2024-01-10",readTime:"5 min read",image:"🌿",trending:!0,source:"Sustainable Travel Today"},{title:"Venice Implements New Climate Adaptation Measures",excerpt:"Venice introduces advanced flood barriers and visitor management systems to protect the historic city from rising sea levels and overtourism.",category:"Adaptation",date:"2024-01-08",readTime:"7 min read",image:"🏛️",trending:!1,source:"Heritage Tourism Quarterly"},{title:"Airlines Commit to 50% Emission Reduction by 2030",excerpt:"Major airline alliance announces ambitious plan to cut emissions through sustainable aviation fuels and electric aircraft development.",category:"Industry",date:"2024-01-05",readTime:"5 min read",image:"✈️",trending:!0,source:"Aviation & Climate"},{title:"Great Barrier Reef Shows Signs of Recovery",excerpt:"Marine biologists report encouraging coral recovery in protected areas of the Great Barrier Reef following intensive conservation efforts.",category:"Conservation",date:"2024-01-03",readTime:"6 min read",image:"🐠",trending:!1,source:"Marine Conservation News"},{title:"Bhutan's Gross National Happiness Tourism Model Goes Global",excerpt:"Multiple countries adopt Bhutan's sustainable tourism philosophy prioritizing visitor well-being and environmental protection over volume.",category:"Policy",date:"2023-12-28",readTime:"8 min read",image:"🏔️",trending:!1,source:"Global Tourism Policy"},{title:"Solar-Powered Safari Lodges Transform African Tourism",excerpt:"Kenya and Tanzania lead the way with solar-powered eco-lodges that provide sustainable luxury while supporting wildlife conservation.",category:"Innovation",date:"2023-12-25",readTime:"5 min read",image:"🦁",trending:!1,source:"Eco Tourism Africa"}],e=[{title:"Iceland's Geothermal Tourism Success Story",description:"How Iceland transformed its renewable energy advantage into a thriving sustainable tourism industry.",impact:"Reduced tourism carbon footprint by 60%",icon:"🔥"},{title:"Norway's Electric Ferry Revolution",description:"Norway's transition to electric ferries for fjord tourism demonstrates large-scale sustainable transport solutions.",impact:"Eliminated 85% of ferry emissions",icon:"⚡"},{title:"New Zealand's Predator-Free Islands Initiative",description:"Innovative conservation tourism that funds ecosystem restoration while providing unique wildlife experiences.",impact:"Protected 15 endemic species",icon:"🦅"}],s=n=>({Conservation:"bg-green-100 text-green-800",Adaptation:"bg-blue-100 text-blue-800",Achievement:"bg-purple-100 text-purple-800",Industry:"bg-orange-100 text-orange-800",Policy:"bg-indigo-100 text-indigo-800",Innovation:"bg-pink-100 text-pink-800"})[n]||"bg-gray-100 text-gray-800";return d.jsxs("div",{className:"min-h-screen pt-16",children:[d.jsx("section",{className:"py-20 px-6 bg-gradient-hero text-white",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx(B.h1,{className:"text-5xl md:text-6xl font-bold mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:"News & Articles"}),d.jsx(B.p,{className:"text-xl md:text-2xl text-gray-200 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Stay updated with the latest developments in sustainable tourism and climate change adaptation."})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"mb-12",children:d.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[d.jsx(Ih,{className:"h-8 w-8 text-nature-accent"}),d.jsx("h2",{className:"text-4xl font-bold text-foreground",children:"Latest Updates"})]})}),d.jsx("div",{className:"grid lg:grid-cols-3 md:grid-cols-2 gap-8",children:t.map((n,i)=>d.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:i*.1},whileHover:{y:-5},className:"group",children:d.jsxs(se,{className:"h-full shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-card group-hover:bg-gradient-card",children:[d.jsxs(_e,{className:"relative",children:[n.trending&&d.jsx("div",{className:"absolute top-4 right-4",children:d.jsxs(ln,{className:"bg-nature-accent text-white",children:[d.jsx(Ih,{className:"h-3 w-3 mr-1"}),"Trending"]})}),d.jsx("div",{className:"text-4xl mb-4",children:n.image}),d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(ln,{className:s(n.category),children:n.category}),d.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[d.jsx(Pd,{className:"h-3 w-3 mr-1"}),new Date(n.date).toLocaleDateString()]})]}),d.jsx(Te,{className:"text-xl leading-tight group-hover:text-nature-secondary transition-colors",children:n.title})]}),d.jsxs(re,{className:"flex flex-col flex-grow",children:[d.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4 flex-grow",children:n.excerpt}),d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:n.source}),d.jsx("span",{className:"text-muted-foreground",children:n.readTime})]}),d.jsxs(J,{variant:"ghost",className:"mt-4 p-0 h-auto justify-start text-nature-secondary hover:text-nature-secondary/80",children:["Read more ",d.jsx(qS,{className:"h-4 w-4 ml-2"})]})]})]})},n.title))})]})}),d.jsx("section",{className:"py-20 px-6 bg-muted/30",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Success Stories"}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Real-world examples of how destinations are successfully adapting to climate change while maintaining thriving tourism industries."})]}),d.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:e.map((n,i)=>d.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:i*.2},children:d.jsx(se,{className:"h-full shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-card",children:d.jsxs(re,{className:"p-8",children:[d.jsx("div",{className:"text-5xl mb-6 text-center",children:n.icon}),d.jsx("h3",{className:"text-xl font-bold text-card-foreground mb-4",children:n.title}),d.jsx("p",{className:"text-muted-foreground leading-relaxed mb-6",children:n.description}),d.jsxs("div",{className:"p-4 bg-nature-success/10 rounded-lg border border-nature-success/20",children:[d.jsxs("div",{className:"flex items-center text-nature-success font-semibold text-sm",children:[d.jsx(Ut,{className:"h-4 w-4 mr-2"}),"Impact"]}),d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:n.impact})]})]})})},n.title))})]})}),d.jsx("section",{className:"py-20 px-6 bg-primary text-primary-foreground",children:d.jsx("div",{className:"max-w-4xl mx-auto text-center",children:d.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx(KS,{className:"h-16 w-16 mx-auto mb-6 text-nature-accent"}),d.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Stay Informed"}),d.jsx("p",{className:"text-xl text-primary-foreground/90 leading-relaxed mb-8",children:"Get the latest updates on sustainable tourism, climate adaptation, and conservation success stories delivered to your inbox."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center max-w-lg mx-auto",children:[d.jsx("input",{type:"email",placeholder:"Your email address",className:"flex-1 px-4 py-3 rounded-md text-foreground bg-primary-foreground/10 border border-primary-foreground/20 placeholder:text-primary-foreground/60 focus:outline-none focus:ring-2 focus:ring-nature-accent"}),d.jsx(J,{className:"bg-nature-accent hover:bg-nature-accent/90 text-white px-6",children:"Subscribe"})]})]})})})]})},tl=b.forwardRef(({className:t,...e},s)=>d.jsx("textarea",{className:K("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...e}));tl.displayName="Textarea";const kF=()=>{const[t,e]=b.useState([{id:1,name:"Sarah Chen",location:"Costa Rica",experience:"Stayed at an incredible eco-lodge in Manuel Antonio where 100% of energy came from solar panels. The owners taught us about local wildlife conservation and we even helped plant trees in their reforestation project. The lodge employed local guides and sourced all food from nearby organic farms.",date:"2024-01-10",category:"Eco Lodge",likes:24},{id:2,name:"Michael Rodriguez",location:"Norway",experience:"Took the electric ferry through the fjords - completely silent and emission-free! The experience was magical without the noise of traditional engines. We learned about Norway's renewable energy initiatives and how they're transforming tourism transportation.",date:"2024-01-08",category:"Green Transport",likes:31},{id:3,name:"Emma Thompson",location:"New Zealand",experience:"Participated in a conservation project on Stewart Island removing invasive species. It felt amazing to contribute to protecting native bird species while learning about ecosystem restoration. The tour guides were passionate conservationists.",date:"2024-01-05",category:"Conservation",likes:18},{id:4,name:"David Kim",location:"Bhutan",experience:"Bhutan's high-value, low-impact tourism policy made this trip special. Our guide explained how tourism fees fund education and healthcare for locals. Every aspect was designed to minimize environmental impact while maximizing cultural exchange.",date:"2024-01-03",category:"Sustainable Policy",likes:42}]),[s,n]=b.useState(!1),[i,r]=b.useState({name:"",location:"",experience:"",category:""}),o=["Eco Lodge","Green Transport","Conservation","Local Community","Sustainable Policy","Renewable Energy","Wildlife Protection","Cultural Exchange"],a=u=>{if(u.preventDefault(),i.name&&i.location&&i.experience){const h={id:t.length+1,...i,date:new Date().toISOString().split("T")[0],likes:0};e([h,...t]),r({name:"",location:"",experience:"",category:""}),n(!1)}},l=u=>{e(h=>h.map(f=>f.id===u?{...f,likes:f.likes+1}:f))},c=u=>({"Eco Lodge":"bg-green-100 text-green-800","Green Transport":"bg-blue-100 text-blue-800",Conservation:"bg-purple-100 text-purple-800","Local Community":"bg-orange-100 text-orange-800","Sustainable Policy":"bg-indigo-100 text-indigo-800","Renewable Energy":"bg-yellow-100 text-yellow-800","Wildlife Protection":"bg-pink-100 text-pink-800","Cultural Exchange":"bg-teal-100 text-teal-800"})[u]||"bg-gray-100 text-gray-800";return d.jsxs("div",{className:"min-h-screen pt-16",children:[d.jsx("section",{className:"py-20 px-6 bg-gradient-hero text-white",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx(B.h1,{className:"text-5xl md:text-6xl font-bold mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:"Travel Community"}),d.jsx(B.p,{className:"text-xl md:text-2xl text-gray-200 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Share your sustainable travel experiences and inspire others to travel responsibly."})]})}),d.jsx("section",{className:"py-12 px-6",children:d.jsx("div",{className:"max-w-4xl mx-auto text-center",children:d.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:d.jsxs(J,{onClick:()=>n(!s),size:"lg",className:"bg-nature-accent hover:bg-nature-accent/90 text-white shadow-glow",children:[d.jsx(Hi,{className:"mr-2 h-5 w-5"}),"Share Your Experience"]})})})}),s&&d.jsx(B.section,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"px-6 pb-12",children:d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs(se,{className:"shadow-card-eco border-none bg-gradient-card",children:[d.jsx(_e,{children:d.jsxs(Te,{className:"flex items-center text-2xl",children:[d.jsx(GS,{className:"mr-3 h-6 w-6 text-nature-accent"}),"Share Your Sustainable Travel Experience"]})}),d.jsx(re,{children:d.jsxs("form",{onSubmit:a,className:"space-y-6",children:[d.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(qe,{htmlFor:"name",children:"Your Name"}),d.jsx(tt,{id:"name",value:i.name,onChange:u=>r(h=>({...h,name:u.target.value})),placeholder:"Enter your name",required:!0})]}),d.jsxs("div",{children:[d.jsx(qe,{htmlFor:"location",children:"Destination"}),d.jsx(tt,{id:"location",value:i.location,onChange:u=>r(h=>({...h,location:u.target.value})),placeholder:"Where did you travel?",required:!0})]})]}),d.jsxs("div",{children:[d.jsx(qe,{htmlFor:"category",children:"Experience Category"}),d.jsxs("select",{id:"category",value:i.category,onChange:u=>r(h=>({...h,category:u.target.value})),className:"w-full mt-1 px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring",children:[d.jsx("option",{value:"",children:"Select a category"}),o.map(u=>d.jsx("option",{value:u,children:u},u))]})]}),d.jsxs("div",{children:[d.jsx(qe,{htmlFor:"experience",children:"Your Experience"}),d.jsx(tl,{id:"experience",value:i.experience,onChange:u=>r(h=>({...h,experience:u.target.value})),placeholder:"Tell us about your sustainable travel experience...",rows:4,required:!0})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx(J,{type:"submit",className:"bg-nature-success hover:bg-nature-success/90 text-white",children:"Share Experience"}),d.jsx(J,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"})]})]})})]})})}),d.jsx("section",{className:"py-12 px-6",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Community Experiences"}),d.jsx("p",{className:"text-xl text-muted-foreground",children:"Real stories from sustainable travelers around the world"})]}),d.jsx("div",{className:"space-y-8",children:t.map((u,h)=>d.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:h*.1},whileHover:{y:-2},children:d.jsx(se,{className:"shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-card",children:d.jsx(re,{className:"p-8",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx(si,{className:"h-12 w-12",children:d.jsx(ni,{className:"bg-nature-accent text-white",children:u.name.split(" ").map(f=>f[0]).join("")})}),d.jsxs("div",{className:"flex-grow",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("h3",{className:"font-semibold text-card-foreground",children:u.name}),d.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[d.jsx(Cd,{className:"h-4 w-4 mr-1"}),u.location]}),d.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[d.jsx(Pd,{className:"h-4 w-4 mr-1"}),new Date(u.date).toLocaleDateString()]})]}),u.category&&d.jsxs(ln,{className:`mb-3 ${c(u.category)}`,children:[d.jsx(Ut,{className:"h-3 w-3 mr-1"}),u.category]}),d.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:u.experience}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>l(u.id),className:"text-muted-foreground hover:text-nature-accent",children:[d.jsx(Yg,{className:"h-4 w-4 mr-1"}),u.likes]}),d.jsxs(J,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-nature-secondary",children:[d.jsx(YS,{className:"h-4 w-4 mr-1"}),"Share"]})]})]})]})})})},u.id))})]})}),d.jsx("section",{className:"py-20 px-6 bg-primary text-primary-foreground",children:d.jsx("div",{className:"max-w-4xl mx-auto text-center",children:d.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx(kd,{className:"h-16 w-16 mx-auto mb-6 text-nature-accent"}),d.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Join Our Community"}),d.jsx("p",{className:"text-xl text-primary-foreground/90 leading-relaxed mb-8",children:"Connect with like-minded travelers, share your sustainable travel experiences, and inspire others to make responsible choices. Together, we can create a more sustainable future for tourism."}),d.jsxs(J,{onClick:()=>n(!0),size:"lg",className:"bg-nature-accent hover:bg-nature-accent/90 text-white",children:[d.jsx(Hi,{className:"mr-2 h-5 w-5"}),"Share Your Story"]})]})})})]})},PF=()=>{const[t,e]=b.useState([]),[s,n]=b.useState(null),[i,r]=b.useState(!1),[o,a]=b.useState(""),[l,c]=b.useState(""),[u,h]=b.useState(""),[f,m]=b.useState(""),[g,p]=b.useState([]),[y,v]=b.useState("idle");b.useEffect(()=>{const k=localStorage.getItem("ecotravel_notes");if(k)try{const A=JSON.parse(k);e(A)}catch(A){console.error("Error parsing saved notes:",A)}},[]),b.useEffect(()=>{localStorage.setItem("ecotravel_notes",JSON.stringify(t))},[t]),b.useEffect(()=>{if(i&&s&&(o||l)){const k=setTimeout(()=>{_()},2e3);return()=>clearTimeout(k)}},[o,l,g]);const x=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),w=()=>{const k={id:x(),title:"Untitled Note",content:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),tags:[]};n(k),a(k.title),c(k.content),p(k.tags),r(!0)},S=k=>{n(k),a(k.title),c(k.content),p(k.tags||[]),r(!0)},_=()=>{if(!s)return;v("saving");const k={...s,title:o.trim()||"Untitled Note",content:l,tags:g,updatedAt:new Date().toISOString()},A=t.findIndex(N=>N.id===s.id);if(A>=0){const N=[...t];N[A]=k,e(N)}else e(N=>[k,...N]);n(k),v("saved"),setTimeout(()=>v("idle"),2e3)},T=k=>{e(A=>A.filter(N=>N.id!==k)),s?.id===k&&(n(null),r(!1),a(""),c(""),p([]))},C=()=>{f.trim()&&!g.includes(f.trim())&&(p(k=>[...k,f.trim()]),m(""))},j=k=>{p(A=>A.filter(N=>N!==k))},E=t.filter(k=>k.title.toLowerCase().includes(u.toLowerCase())||k.content.toLowerCase().includes(u.toLowerCase())||k.tags.some(A=>A.toLowerCase().includes(u.toLowerCase())));return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-nature-primary/5 to-nature-accent/5 pt-16 sm:pt-20 px-4 sm:px-6 lg:px-8 safe-area-top",children:d.jsxs("div",{className:"max-w-7xl mx-auto py-4 sm:py-8",children:[d.jsxs("div",{className:"mb-6 sm:mb-8 text-center",children:[d.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-foreground mb-2 sm:mb-4",children:[d.jsx(Mh,{className:"inline-block mr-2 sm:mr-3 h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-nature-accent"}),"My Travel Notes"]}),d.jsx("p",{className:"text-muted-foreground text-sm sm:text-base lg:text-lg px-4",children:"Capture your eco-travel thoughts, plans, and experiences"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[d.jsx("div",{className:"lg:col-span-1 space-y-4 order-2 lg:order-1",children:d.jsxs(se,{children:[d.jsxs(_e,{className:"pb-3 p-4 sm:p-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(Te,{className:"text-base sm:text-lg",children:["Notes (",t.length,")"]}),d.jsxs(J,{onClick:w,size:"sm",className:"touch-target",children:[d.jsx(Hi,{className:"h-4 w-4 mr-1"}),d.jsx("span",{className:"hidden sm:inline",children:"New"})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx(XS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),d.jsx(tt,{placeholder:"Search notes...",value:u,onChange:k=>h(k.target.value),className:"pl-10"})]})]}),d.jsx(re,{className:"p-0",children:d.jsx("div",{className:"max-h-64 sm:max-h-96 overflow-y-auto",children:E.length===0?d.jsx("div",{className:"p-4 sm:p-6 text-center text-muted-foreground",children:t.length===0?d.jsxs(d.Fragment,{children:[d.jsx(Mh,{className:"h-8 w-8 sm:h-12 sm:w-12 mx-auto mb-2 sm:mb-3 opacity-30"}),d.jsx("p",{className:"text-sm sm:text-base",children:"No notes yet. Create your first note!"})]}):d.jsx("p",{className:"text-sm sm:text-base",children:"No notes match your search."})}):E.map(k=>d.jsx("div",{className:`p-4 border-b cursor-pointer hover:bg-muted/50 transition-colors group ${s?.id===k.id?"bg-muted":""}`,onClick:()=>S(k),children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-medium truncate",children:k.title}),d.jsxs("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:[k.content.replace(/<[^>]*>/g,"").substring(0,100),"..."]}),d.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[k.tags.slice(0,2).map(A=>d.jsx(ln,{variant:"secondary",className:"text-xs",children:A},A)),k.tags.length>2&&d.jsxs(ln,{variant:"outline",className:"text-xs",children:["+",k.tags.length-2]})]}),d.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(k.updatedAt).toLocaleDateString()})]}),d.jsx(J,{variant:"ghost",size:"sm",onClick:A=>{A.stopPropagation(),T(k.id)},className:"ml-2 opacity-0 group-hover:opacity-100 hover:bg-destructive hover:text-destructive-foreground",children:d.jsx(JS,{className:"h-4 w-4"})})]})},k.id))})})]})}),d.jsx("div",{className:"lg:col-span-2 order-1 lg:order-2",children:i?d.jsxs(se,{children:[d.jsxs(_e,{className:"p-4 sm:p-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[d.jsx("div",{className:"flex-1",children:d.jsx(tt,{placeholder:"Note title...",value:o,onChange:k=>a(k.target.value),className:"text-base sm:text-lg font-medium border-none p-0 focus-visible:ring-0"})}),d.jsxs("div",{className:"flex items-center gap-2 sm:flex-shrink-0",children:[y==="saving"&&d.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"Saving..."}),y==="saved"&&d.jsx("span",{className:"text-xs sm:text-sm text-green-600",children:"Saved!"}),d.jsxs(J,{onClick:_,size:"sm",className:"touch-target",children:[d.jsx(Jg,{className:"h-4 w-4 mr-1"}),d.jsx("span",{className:"hidden sm:inline",children:"Save"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:g.map(k=>d.jsxs(ln,{variant:"secondary",className:"cursor-pointer text-xs touch-target",onClick:()=>j(k),children:[k," ×"]},k))}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(tt,{placeholder:"Add tag...",value:f,onChange:k=>m(k.target.value),onKeyPress:k=>k.key==="Enter"&&C(),className:"flex-1 text-sm"}),d.jsxs(J,{onClick:C,size:"sm",variant:"outline",className:"touch-target",children:[d.jsx("span",{className:"hidden sm:inline",children:"Add"}),d.jsx(Hi,{className:"h-4 w-4 sm:hidden"})]})]})]})]}),d.jsx(re,{className:"p-4 sm:p-6",children:d.jsx("div",{className:"min-h-64 sm:min-h-96",children:d.jsx(tl,{value:l,onChange:k=>c(k.target.value),placeholder:"Start writing your note...",className:"notes-textarea min-h-60 sm:min-h-80 w-full border rounded-md p-3 text-sm sm:text-base",rows:15})})})]}):d.jsx(se,{className:"h-64 sm:h-96 flex items-center justify-center",children:d.jsxs("div",{className:"text-center text-muted-foreground p-4",children:[d.jsx(QS,{className:"h-12 w-12 sm:h-16 sm:w-16 mx-auto mb-3 sm:mb-4 opacity-30"}),d.jsx("h3",{className:"text-lg sm:text-xl font-medium mb-2",children:"Select a note to edit"}),d.jsx("p",{className:"text-sm sm:text-base mb-4",children:"Choose a note from the list or create a new one to get started"}),d.jsxs(J,{onClick:w,className:"touch-target",children:[d.jsx(Hi,{className:"h-4 w-4 mr-2"}),"Create New Note"]})]})})})]}),d.jsx(se,{className:"mt-4 sm:mt-6",children:d.jsx(re,{className:"p-4 sm:p-6",children:d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xl sm:text-2xl font-bold text-nature-accent",children:t.length}),d.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total Notes"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:t.reduce((k,A)=>k+A.content.length,0)}),d.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Characters Written"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:[...new Set(t.flatMap(k=>k.tags))].length}),d.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Unique Tags"})]})]})})})]})})},EF=()=>d.jsx(PF,{}),AF=()=>{const{toast:t}=Zg(),[e,s]=b.useState([{id:1,name:"Alex Johnson",email:"alex@example.com",feedback:"This website has been incredibly helpful in planning my sustainable travels. The carbon calculator opened my eyes to the impact of different transportation methods. I've already started choosing trains over flights for shorter distances!",rating:5,date:"2024-01-15",type:"praise"},{id:2,name:"Maria Santos",email:"maria@example.com",feedback:"Love the eco-friendly destinations section! It would be great to have more information about budget-friendly sustainable accommodations. Also, maybe add a section about eco-friendly packing tips?",rating:4,date:"2024-01-12",type:"suggestion"},{id:3,name:"David Chen",email:"david@example.com",feedback:"The data visualization section is fantastic. As someone working in tourism policy, I find the statistics very useful for presentations. Could you add more recent data on renewable energy adoption in tourism?",rating:5,date:"2024-01-10",type:"suggestion"},{id:4,name:"Emma Wilson",email:"emma@example.com",feedback:"Thank you for creating this resource! The sustainable travel tips have completely changed how I plan my trips. I'm now more conscious about my choices and feel good about traveling responsibly.",rating:5,date:"2024-01-08",type:"praise"}]),[n,i]=b.useState({name:"",email:"",feedback:"",rating:0,type:""}),r=c=>{if(c.preventDefault(),n.name&&n.email&&n.feedback){const u={id:e.length+1,...n,date:new Date().toISOString().split("T")[0]};s([u,...e]),i({name:"",email:"",feedback:"",rating:0,type:""}),t({title:"Thank you for your feedback!",description:"Your input helps us improve the platform for everyone."})}},o=(c,u=!1,h)=>d.jsx("div",{className:"flex",children:[1,2,3,4,5].map(f=>d.jsx(Kg,{className:`h-5 w-5 ${f<=c?"text-yellow-500 fill-yellow-500":"text-gray-300"} ${u?"cursor-pointer hover:text-yellow-400":""}`,onClick:()=>u&&h&&h(f)},f))}),a=c=>{switch(c){case"praise":return d.jsx(Xg,{className:"h-4 w-4 text-green-500"});case"suggestion":return d.jsx(eT,{className:"h-4 w-4 text-blue-500"});default:return d.jsx(So,{className:"h-4 w-4 text-gray-500"})}},l=c=>{switch(c){case"praise":return"bg-green-100 text-green-800";case"suggestion":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return d.jsxs("div",{className:"min-h-screen pt-16",children:[d.jsx("section",{className:"py-20 px-6 bg-gradient-hero text-white",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx(B.h1,{className:"text-5xl md:text-6xl font-bold mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:"Feedback & Suggestions"}),d.jsx(B.p,{className:"text-xl md:text-2xl text-gray-200 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Help us improve by sharing your thoughts, suggestions, and experiences with our platform."})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:d.jsxs(se,{className:"shadow-card-eco border-none bg-gradient-card",children:[d.jsxs(_e,{children:[d.jsxs(Te,{className:"flex items-center text-2xl",children:[d.jsx(So,{className:"mr-3 h-8 w-8 text-nature-accent"}),"Share Your Feedback"]}),d.jsx("p",{className:"text-muted-foreground",children:"Your input is valuable to us. Please share your thoughts, suggestions, or experiences."})]}),d.jsx(re,{children:d.jsxs("form",{onSubmit:r,className:"space-y-6",children:[d.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs(qe,{htmlFor:"name",className:"flex items-center",children:[d.jsx(Uo,{className:"h-4 w-4 mr-2"}),"Name"]}),d.jsx(tt,{id:"name",value:n.name,onChange:c=>i(u=>({...u,name:c.target.value})),placeholder:"Your name",required:!0})]}),d.jsxs("div",{children:[d.jsxs(qe,{htmlFor:"email",className:"flex items-center",children:[d.jsx(ZS,{className:"h-4 w-4 mr-2"}),"Email"]}),d.jsx(tt,{id:"email",type:"email",value:n.email,onChange:c=>i(u=>({...u,email:c.target.value})),placeholder:"your@email.com",required:!0})]})]}),d.jsxs("div",{children:[d.jsx(qe,{htmlFor:"type",children:"Feedback Type"}),d.jsxs("select",{id:"type",value:n.type,onChange:c=>i(u=>({...u,type:c.target.value})),className:"w-full mt-1 px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring",children:[d.jsx("option",{value:"",children:"Select feedback type"}),d.jsx("option",{value:"praise",children:"Praise"}),d.jsx("option",{value:"suggestion",children:"Suggestion"}),d.jsx("option",{value:"issue",children:"Issue/Problem"}),d.jsx("option",{value:"feature",children:"Feature Request"}),d.jsx("option",{value:"general",children:"General Feedback"})]})]}),d.jsxs("div",{children:[d.jsx(qe,{children:"Rate Your Experience"}),d.jsx("div",{className:"mt-2",children:o(n.rating,!0,c=>i(u=>({...u,rating:c})))})]}),d.jsxs("div",{children:[d.jsx(qe,{htmlFor:"feedback",children:"Your Feedback"}),d.jsx(tl,{id:"feedback",value:n.feedback,onChange:c=>i(u=>({...u,feedback:c.target.value})),placeholder:"Please share your thoughts, suggestions, or experiences with our platform...",rows:5,required:!0})]}),d.jsxs(J,{type:"submit",className:"w-full bg-nature-accent hover:bg-nature-accent/90 text-white",size:"lg",children:[d.jsx(Hg,{className:"mr-2 h-5 w-5"}),"Submit Feedback"]})]})})]})})})}),d.jsx("section",{className:"py-20 px-6 bg-muted/30",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:[d.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Community Feedback"}),d.jsx("p",{className:"text-xl text-muted-foreground",children:"See what others are saying about their experience with our platform"})]}),d.jsx("div",{className:"space-y-6",children:e.map((c,u)=>d.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:u*.1},children:d.jsx(se,{className:"shadow-card-eco hover:shadow-eco transition-all duration-300 border-none bg-card",children:d.jsx(re,{className:"p-6",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx(si,{className:"h-12 w-12",children:d.jsx(ni,{className:"bg-nature-secondary text-white",children:c.name.split(" ").map(h=>h[0]).join("")})}),d.jsxs("div",{className:"flex-grow",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("h3",{className:"font-semibold text-card-foreground",children:c.name}),d.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(c.date).toLocaleDateString()}),c.type&&d.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${l(c.type)}`,children:[a(c.type),d.jsx("span",{className:"ml-1 capitalize",children:c.type})]})]}),c.rating>0&&d.jsx("div",{className:"mb-3",children:o(c.rating)}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:c.feedback})]})]})})})},c.id))})]})}),d.jsx("section",{className:"py-20 px-6 bg-primary text-primary-foreground",children:d.jsx("div",{className:"max-w-4xl mx-auto text-center",children:d.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx(So,{className:"h-16 w-16 mx-auto mb-6 text-nature-accent"}),d.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Thank You for Your Input"}),d.jsx("p",{className:"text-xl text-primary-foreground/90 leading-relaxed",children:"Your feedback drives our continuous improvement. Every suggestion, comment, and rating helps us create a better platform for sustainable tourism awareness and education."})]})})})]})},NF=async(t,e)=>{console.log("Attempting signup with:",{email:t,password:"***"});const{data:s,error:n}=await Vt.auth.signUp({email:t,password:e});return console.log("Signup result:",{data:s,error:n}),{user:s.user,error:n}},RF=async(t,e)=>{console.log("Attempting signin with:",{email:t,password:"***"});const{data:s,error:n}=await Vt.auth.signInWithPassword({email:t,password:e});return console.log("Signin result:",{data:s,error:n}),{user:s.user,session:s.session,error:n}},Z_=({onSuccess:t,defaultMode:e="login"})=>{const[s,n]=b.useState(e),[i,r]=b.useState(""),[o,a]=b.useState(""),[l,c]=b.useState(""),[u,h]=b.useState(!1),[f,m]=b.useState(null),[g,p]=b.useState(!1),y=async w=>{w.preventDefault(),h(!0),m(null);try{if(s==="signup"){const{user:S,error:_}=await NF(i,o);if(_)throw _;S&&(m("Please check your email for a confirmation link."),n("login"))}else{const{user:S,error:_}=await RF(i,o);if(_)throw _;S&&t?.()}}catch(S){m(S.message||"An error occurred")}finally{h(!1)}},v=()=>{r(""),a(""),c(""),m(null)},x=()=>{n(s==="login"?"signup":"login"),v()};return d.jsxs(se,{className:"w-full max-w-md mx-auto",children:[d.jsxs(_e,{className:"text-center",children:[d.jsx(Te,{children:s==="login"?"Welcome Back":"Create Account"}),d.jsx(Yo,{children:s==="login"?"Sign in to your account to continue":"Join our community for sustainable travel"})]}),d.jsxs(re,{children:[d.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s==="signup"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(qe,{htmlFor:"fullName",children:"Full Name"}),d.jsx(tt,{id:"fullName",type:"text",placeholder:"Enter your full name",value:l,onChange:w=>c(w.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(qe,{htmlFor:"email",children:"Email"}),d.jsx(tt,{id:"email",type:"email",placeholder:"Enter your email",value:i,onChange:w=>r(w.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(qe,{htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(tt,{id:"password",type:g?"text":"password",placeholder:"Enter your password",value:o,onChange:w=>a(w.target.value),required:!0,minLength:6}),d.jsx(J,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>p(!g),children:g?d.jsx(tT,{className:"h-4 w-4"}):d.jsx(sT,{className:"h-4 w-4"})})]})]}),f&&d.jsx(br,{variant:f.includes("check your email")?"default":"destructive",children:d.jsx(vr,{children:f})}),d.jsxs(J,{type:"submit",className:"w-full",disabled:u,children:[u&&d.jsx(lr,{className:"mr-2 h-4 w-4 animate-spin"}),s==="login"?"Sign In":"Create Account"]})]}),d.jsxs("div",{className:"mt-6 text-center",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:s==="login"?"Don't have an account?":"Already have an account?"}),d.jsx(J,{type:"button",variant:"link",className:"mt-1",onClick:x,children:s==="login"?"Create one here":"Sign in instead"})]})]})]})},IF=()=>{const{user:t,loading:e}=Aa();return e?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?d.jsx(hT,{to:"/",replace:!0}):d.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-nature-primary/10 to-nature-accent/10",children:d.jsx("div",{className:"w-full max-w-md",children:d.jsx(Z_,{onSuccess:()=>window.location.href="/"})})})},MF=async()=>{const t=await Ea();if(!t)return{data:null,error:new Error("User must be authenticated")};try{const{data:e}=await Vt.from("carbon_calculations").select("carbon_footprint").eq("user_id",t.id),{data:s}=await Vt.from("community_experiences").select("id").eq("user_id",t.id),{data:n}=await Vt.from("feedback").select("id").eq("user_id",t.id),i=e?.reduce((l,c)=>l+c.carbon_footprint,0)||0,r=e?.length||0,o=s?.length||0,a=n?.length||0;return{data:{totalFootprint:i,totalCalculations:r,totalExperiences:o,totalFeedback:a},error:null}}catch(e){return{data:null,error:e}}},OF=()=>{const{user:t}=Aa(),[e,s]=b.useState(null),[n,i]=b.useState(null),[r,o]=b.useState(""),[a,l]=b.useState(""),[c,u]=b.useState(!0),[h,f]=b.useState(!1),[m,g]=b.useState(null),[p,y]=b.useState(null);b.useEffect(()=>{t&&(v(),x())},[t]);const v=async()=>{try{const{data:T,error:C}=await iE();if(C&&!C.message.includes("No rows"))throw C;T?(s(T),o(T.username||""),l(T.full_name||"")):l(t?.user_metadata?.full_name||"")}catch(T){g(T.message)}finally{u(!1)}},x=async()=>{try{const{data:T,error:C}=await MF();if(C)throw C;i(T)}catch(T){console.error("Error loading stats:",T.message)}},w=async T=>{T.preventDefault(),f(!0),g(null),y(null);try{const{data:C,error:j}=await nE({username:r.trim()||null,full_name:a.trim()||null});if(j)throw j;s(C),y("Profile updated successfully!"),setTimeout(()=>y(null),3e3)}catch(C){g(C.message)}finally{f(!1)}},S=async()=>{try{await mx()}catch(T){g(T.message)}};if(c)return d.jsxs("div",{className:"flex items-center justify-center p-8",children:[d.jsx(lr,{className:"h-6 w-6 animate-spin mr-2"}),d.jsx("span",{children:"Loading profile..."})]});const _=(a||t?.email||"U").split(" ").map(T=>T[0]).join("").toUpperCase().slice(0,2);return d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsxs(se,{children:[d.jsxs(_e,{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsxs(si,{className:"h-20 w-20",children:[d.jsx(Go,{src:e?.avatar_url}),d.jsx(ni,{className:"text-lg",children:_})]})}),d.jsx(Te,{children:"Your Profile"}),d.jsx(Yo,{children:"Manage your account information and preferences"})]}),d.jsx(re,{children:d.jsxs("form",{onSubmit:w,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(qe,{htmlFor:"email",children:"Email"}),d.jsx(tt,{id:"email",type:"email",value:t?.email||"",disabled:!0,className:"bg-muted"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(qe,{htmlFor:"fullName",children:"Full Name"}),d.jsx(tt,{id:"fullName",type:"text",placeholder:"Enter your full name",value:a,onChange:T=>l(T.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(qe,{htmlFor:"username",children:"Username"}),d.jsx(tt,{id:"username",type:"text",placeholder:"Choose a username",value:r,onChange:T=>o(T.target.value.toLowerCase().replace(/[^a-z0-9_]/g,""))})]}),m&&d.jsx(br,{variant:"destructive",children:d.jsx(vr,{children:m})}),p&&d.jsx(br,{children:d.jsx(vr,{children:p})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(J,{type:"submit",disabled:h,className:"flex-1",children:[h&&d.jsx(lr,{className:"mr-2 h-4 w-4 animate-spin"}),d.jsx(Jg,{className:"mr-2 h-4 w-4"}),"Save Profile"]}),d.jsxs(J,{type:"button",variant:"outline",onClick:S,children:[d.jsx(rc,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]})})]}),n&&d.jsxs(se,{children:[d.jsxs(_e,{children:[d.jsx(Te,{children:"Your Impact"}),d.jsx(Yo,{children:"Track your environmental consciousness journey"})]}),d.jsx(re,{children:d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.totalCalculations}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Calculations"})]}),d.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.totalFootprint.toFixed(1)}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"kg CO₂"})]}),d.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-600",children:n.totalExperiences}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Experiences"})]}),d.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted",children:[d.jsx("div",{className:"text-2xl font-bold text-orange-600",children:n.totalFeedback}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Feedback"})]})]})})]})]})},DF=({children:t,fallback:e})=>{const{user:s,loading:n}=Aa();return n?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx(se,{children:d.jsxs(re,{className:"flex items-center justify-center p-6",children:[d.jsx(lr,{className:"h-6 w-6 animate-spin mr-2"}),d.jsx("span",{children:"Loading..."})]})})}):s?d.jsx(d.Fragment,{children:t}):d.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e||d.jsx("div",{className:"w-full max-w-md",children:d.jsx(Z_,{})})})},LF=()=>d.jsx(DF,{children:d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-nature-primary/5 to-nature-accent/5 pt-20 px-4",children:d.jsx("div",{className:"max-w-4xl mx-auto py-8",children:d.jsx(OF,{})})})}),$F=()=>{const t=Qg();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),d.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},FF=()=>d.jsx("div",{className:"min-h-screen bg-gradient-card pt-16 sm:pt-20 safe-area-top",children:d.jsxs("div",{className:"container-responsive py-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs(it,{to:"/",className:"inline-flex items-center text-primary hover:text-primary/80 mb-4",children:[d.jsx(nT,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),d.jsx("h1",{className:"text-responsive-4xl font-bold text-foreground mb-4",children:"📱 Responsive Design Test"}),d.jsx("p",{className:"text-responsive-base text-muted-foreground",children:"Testing the improved responsiveness across different screen sizes"})]}),d.jsxs("div",{className:"grid-responsive-1-2-3 gap-6 mb-8",children:[d.jsxs(se,{children:[d.jsx(_e,{children:d.jsxs(Te,{className:"flex items-center gap-2",children:[d.jsx(iT,{className:"h-5 w-5 text-nature-accent"}),"Mobile First"]})}),d.jsx(re,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ct,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Touch-friendly buttons (44px+)"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ct,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Responsive text scaling"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ct,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Safe area support"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ct,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Optimized spacing"})]})]})})]}),d.jsxs(se,{children:[d.jsx(_e,{children:d.jsxs(Te,{className:"flex items-center gap-2",children:[d.jsx(rT,{className:"h-5 w-5 text-nature-accent"}),"Tablet Layout"]})}),d.jsx(re,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ct,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Adaptive grids"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ct,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Flexible navigation"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ct,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Optimized chatbot size"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ct,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Balanced content density"})]})]})})]}),d.jsxs(se,{children:[d.jsx(_e,{children:d.jsxs(Te,{className:"flex items-center gap-2",children:[d.jsx(oT,{className:"h-5 w-5 text-nature-accent"}),"Desktop Experience"]})}),d.jsx(re,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ct,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Full navigation visible"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ct,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Multi-column layouts"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ct,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Enhanced hover effects"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ct,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{className:"text-responsive-sm",children:"Detailed voice instructions"})]})]})})]})]}),d.jsxs(se,{className:"mb-8",children:[d.jsx(_e,{children:d.jsx(Te,{children:"Responsive Typography"})}),d.jsxs(re,{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-responsive-4xl font-bold mb-2",children:"Hero Heading"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"text-responsive-4xl: Scales from text-4xl → text-5xl → text-6xl"})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-responsive-2xl font-semibold mb-2",children:"Section Title"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"text-responsive-2xl: Scales from text-2xl → text-3xl"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-responsive-base mb-2",children:"This is body text that scales responsively for optimal readability."}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"text-responsive-base: Scales from text-base → text-lg"})]})]})]}),d.jsxs(se,{className:"mb-8",children:[d.jsx(_e,{children:d.jsx(Te,{children:"Layout Responsiveness"})}),d.jsx(re,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-3",children:"Responsive Flex Layout"}),d.jsxs("div",{className:"flex-responsive-col gap-4 p-4 bg-muted/50 rounded",children:[d.jsx(J,{variant:"outline",className:"touch-target",children:"Button 1"}),d.jsx(J,{variant:"outline",className:"touch-target",children:"Button 2"}),d.jsx(J,{variant:"outline",className:"touch-target",children:"Button 3"})]}),d.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Stacked on mobile, row on desktop"})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-3",children:"Responsive Grid"}),d.jsxs("div",{className:"grid-responsive-1-3 gap-4",children:[d.jsx("div",{className:"bg-nature-accent/20 p-4 rounded text-center",children:"Item 1"}),d.jsx("div",{className:"bg-nature-accent/20 p-4 rounded text-center",children:"Item 2"}),d.jsx("div",{className:"bg-nature-accent/20 p-4 rounded text-center",children:"Item 3"})]}),d.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"1 column on mobile, 3 columns on large screens"})]})]})})]}),d.jsxs(se,{children:[d.jsx(_e,{children:d.jsx(Te,{children:"✨ New Features Added"})}),d.jsx(re,{children:d.jsxs("div",{className:"grid-responsive-1-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-3 text-nature-accent",children:"🎨 Custom Favicon"}),d.jsxs("ul",{className:"space-y-2 text-responsive-sm",children:[d.jsx("li",{children:"• Modern SVG favicon with eco theme"}),d.jsx("li",{children:"• Apple touch icon for mobile devices"}),d.jsx("li",{children:"• Theme color meta tag"}),d.jsx("li",{children:"• Multiple format support"})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-3 text-nature-accent",children:"📱 Enhanced Mobile UX"}),d.jsxs("ul",{className:"space-y-2 text-responsive-sm",children:[d.jsx("li",{children:"• Touch-friendly button sizing (44px+)"}),d.jsx("li",{children:"• Safe area inset support"}),d.jsx("li",{children:"• Optimized chatbot for mobile"}),d.jsx("li",{children:"• Responsive navigation"})]})]})]})})]})]})}),BF=new Wj,VF=()=>d.jsx(Hj,{client:BF,children:d.jsx(bj,{children:d.jsxs(aE,{defaultTheme:"system",storageKey:"ecotravel-theme",children:[d.jsx(SC,{}),d.jsx(tj,{}),d.jsx(fT,{children:d.jsx(rE,{children:d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(SE,{}),d.jsx("main",{className:"flex-grow",children:d.jsxs(mT,{children:[d.jsx(st,{path:"/",element:d.jsx(EM,{})}),d.jsx(st,{path:"/about",element:d.jsx(AM,{})}),d.jsx(st,{path:"/impact",element:d.jsx(XM,{})}),d.jsx(st,{path:"/calculator",element:d.jsx(MO,{})}),d.jsx(st,{path:"/destinations",element:d.jsx(DO,{})}),d.jsx(st,{path:"/tips",element:d.jsx(zO,{})}),d.jsx(st,{path:"/data",element:d.jsx(CF,{})}),d.jsx(st,{path:"/news",element:d.jsx(jF,{})}),d.jsx(st,{path:"/community",element:d.jsx(kF,{})}),d.jsx(st,{path:"/notes",element:d.jsx(EF,{})}),d.jsx(st,{path:"/feedback",element:d.jsx(AF,{})}),d.jsx(st,{path:"/auth",element:d.jsx(IF,{})}),d.jsx(st,{path:"/profile",element:d.jsx(LF,{})}),d.jsx(st,{path:"/responsive-test",element:d.jsx(FF,{})}),d.jsx(st,{path:"*",element:d.jsx($F,{})})]})}),d.jsx(TE,{}),d.jsx(YA,{})]})})})]})})});gT.createRoot(document.getElementById("root")).render(d.jsx(VF,{}));
